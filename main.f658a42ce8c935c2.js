var yI=Object.defineProperty,vI=Object.defineProperties,_I=Object.getOwnPropertyDescriptors,Fb=Object.getOwnPropertySymbols,EI=Object.prototype.hasOwnProperty,bI=Object.prototype.propertyIsEnumerable,Lb=(Kt,Je,O)=>Je in Kt?yI(Kt,Je,{enumerable:!0,configurable:!0,writable:!0,value:O}):Kt[Je]=O,Fv=(Kt,Je)=>{for(var O in Je||(Je={}))EI.call(Je,O)&&Lb(Kt,O,Je[O]);if(Fb)for(var O of Fb(Je))bI.call(Je,O)&&Lb(Kt,O,Je[O]);return Kt},Lv=(Kt,Je)=>vI(Kt,_I(Je));(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{15791:(Kt,Je,O)=>{"use strict";O.d(Je,{e:()=>ut});var u=O(70655),P=O(24766),k=O(8929),Ie=O(30839),Ee=O(23426),ie=O(61389),X=(O(42090),O(6881),O(41877),O(34859),O(24850)),me=O(72986);class ce{constructor(Ke){this.id=Ke.id,this.categoryId=Ke.categoryId,this.back=Ke.back,this.imgUrl=Ke.imgUrl,this.front=Ke.front,this.deleted=Ke.deleted,this.soundUrl=Ke.soundUrl,this.splitFront=Ke.front.split("")}}var ke=O(29863),we=O(40520),pe=O(14055),Le=O(40913),Te=O(20478);let ut=(()=>{class te{constructor(Oe,et,st,lt){this._http=Oe,this._router=et,this.afAuth=st,this.firestore=lt,this.AllWordInCategories=new k.xQ,this.LastWordInCategories=new k.xQ,this.currentUserSource=new Ie.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.customUserData={},this.signInWithGoogle=()=>{},this.signOutExternal=()=>{this._router.navigate(["login"]),this.currentUserSource.next(),localStorage.clear(),window.location.reload()},this.externalLogin=(Pe,ae)=>this._http.post(P.N.urlAddress+"/"+Pe,ae),this.registerInformation=Pe=>this._http.post(P.N.urlAddress+"/api/Account/RegisterInfromation",Pe),this.localStorageKey="user_data"}setCurrentUser(Oe,et=!0){Oe.roles=[];const st=this.getDecodedToken(Oe.token).role;Array.isArray(st)?Oe.roles=st:Oe.roles.push(st),localStorage.setItem("user",JSON.stringify(Oe)),this.currentUserSource.next(Oe),et&&(st.includes("Admin")?this._router.navigate(["/admin-home"]):this._router.navigate(["/home"]))}getDecodedToken(Oe){const st=Oe.split(".")[1];return JSON.parse(atob(st))}GoogleAuth(){return(0,u.mG)(this,void 0,void 0,function*(){return yield this.AuthLogin(new ie.V)})}AuthLogin(Oe){return(0,u.mG)(this,void 0,void 0,function*(){try{const et=yield this.afAuth.signInWithPopup(Oe);console.log(et);const st=yield this.firestore.collection("users").doc(et.user.uid).get().toPromise(),lt=st.exists?st.data():{socialUrl:"",country:"",imagePath:0,username:"",words:[],category:[]};lt.username?(localStorage.setItem("user_data",JSON.stringify(lt)),localStorage.setItem("uid",et.user.uid),this._router.navigate(["home"])):(this._router.navigate(["register-info"]),localStorage.setItem("uid",et.user.uid)),console.log("You have been successfully logged in!")}catch(et){console.log(et)}})}fillUserInfo(Oe){return(0,u.mG)(this,void 0,void 0,function*(){yield this.updateUserInformation(localStorage.getItem("uid"),Oe)})}updateUserInformation(Oe,et){return(0,u.mG)(this,void 0,void 0,function*(){try{const st=this.firestore.collection("users").doc(Oe);st.get().subscribe(lt=>(0,u.mG)(this,void 0,void 0,function*(){if(lt.exists){console.log("Document data:",lt.data()),yield st.update(et);const Pe=JSON.parse(localStorage.getItem("user_data")||"{}");localStorage.setItem("user_data",JSON.stringify(Object.assign(Object.assign({},Pe),et)))}else{let Pe={username:"",imagePath:0,contery:0,SocialUrl:"",roles:["user"],words:[],category:[]};Pe=Object.assign(Object.assign({},Pe),et),st.set(Pe,{merge:!0}).then(()=>{console.log("Document created and initialized successfully!"),localStorage.setItem("user_data",JSON.stringify(Pe)),this._router.navigate(["/register-info"])}).catch(ae=>{console.error("Error creating and initializing document:",ae)})}}))}catch(st){throw console.error("Error updating user information:",st),st}})}fetchCustomUserData(Oe){return this.firestore.collection("users").doc(Oe).get()}getUserData(Oe){return Oe||(Oe=this.getUserId),this.firestore.doc(`users/${Oe}`).valueChanges()}getUserDataWords(Oe){Oe||(Oe=this.getUserId);const et=this.firestore.collection(`users/${Oe}/word`).snapshotChanges().pipe((0,X.U)(lt=>lt.map(Pe=>{const ae=Pe.payload.doc.data();return new ce({id:Pe.payload.doc.id,categoryId:ae.categoryId,back:ae.Back,imgUrl:ae.ImgUrl,front:ae.Front,deleted:ae.deleted,soundUrl:ae.SoundUrl})}))),st=this.firestore.collection(`users/${Oe}/category`).snapshotChanges().pipe((0,X.U)(lt=>lt.map(Pe=>{const ae=Pe.payload.doc.data();return{id:Pe.payload.doc.id,deleted:ae.deleted,myPropperty:ae.myPropperty,title:ae.title}})));return(0,Ee.aj)([st,et]).pipe((0,X.U)(([lt,Pe])=>{const ae=lt.map(Se=>{const he=Pe.filter(Ae=>Ae.categoryId===Se.title||Ae.categoryId===Se.id);return Object.assign(Object.assign({},Se),{words:he})});return this.AllWordInCategories.next(ae),this.getLastWords(10),ae}))}getLastWords(Oe=10){this.firestore.collection(`users/${this.getUserId}/word`).snapshotChanges().pipe((0,me.q)(10),(0,X.U)(lt=>lt.map(Pe=>{const ae=Pe.payload.doc.data();return new ce({id:Pe.payload.doc.id,categoryId:ae.categoryId,back:ae.Back,imgUrl:ae.ImgUrl,front:ae.Front,deleted:ae.deleted,soundUrl:ae.SoundUrl})}))).subscribe(lt=>{this.LastWordInCategories.next(lt)})}getUserDataCategory(Oe){return Oe||(Oe=this.getUserId),this.firestore.doc(`users/${Oe}/category`).valueChanges()}updateLocalUserData(Oe){localStorage.setItem(this.localStorageKey,JSON.stringify(Oe))}get getUserId(){return localStorage.getItem("uid")||(this._router.navigate(["login"]),"0")}getLastUserWords(Oe,et){return et||(et=this.getUserId),this.firestore.collection(`users/${et}/words`,st=>st.orderBy("timestamp","desc").limit(10)).valueChanges().pipe((0,X.U)(st=>st))}}return te.\u0275fac=function(Oe){return new(Oe||te)(ke.LFG(we.eN),ke.LFG(pe.F0),ke.LFG(Le.zQ),ke.LFG(Te.ST))},te.\u0275prov=ke.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})()},55455:(Kt,Je,O)=>{"use strict";O.d(Je,{m:()=>k});var u=O(69808),P=O(29863);let k=(()=>{class Ie{}return Ie.\u0275fac=function(ie){return new(ie||Ie)},Ie.\u0275mod=P.oAB({type:Ie}),Ie.\u0275inj=P.cJS({imports:[[u.ez]]}),Ie})()},24766:(Kt,Je,O)=>{"use strict";O.d(Je,{N:()=>u});const u={production:!0,urlAddress:"http://78.47.197.127:3000",firebase:{apiKey:"AIzaSyBt5Tjj_W-jepLRvfWmy43kNE-aMYL3lBo",authDomain:"78.47.197.127/auth",projectId:"keepin-ff305",storageBucket:"78.47.197.127/storage",messagingSenderId:"288816964378",appId:"1:288816964378:web:a1135ef5c836c6a0dc02a3",measurementId:"G-HYBRWQX8KN"}}},54595:(Kt,Je,O)=>{"use strict";var u=O(69808),P=O(29863);class k extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends k{static makeCurrent(){(0,u.HT)(new Ie)}onAndCancel(be,z,Ne){return be.addEventListener(z,Ne,!1),()=>{be.removeEventListener(z,Ne,!1)}}dispatchEvent(be,z){be.dispatchEvent(z)}remove(be){be.parentNode&&be.parentNode.removeChild(be)}createElement(be,z){return(z=z||this.getDefaultDocument()).createElement(be)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(be){return be.nodeType===Node.ELEMENT_NODE}isShadowRoot(be){return be instanceof DocumentFragment}getGlobalEventTarget(be,z){return"window"===z?window:"document"===z?be:"body"===z?be.body:null}getBaseHref(be){const z=function ie(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==z?null:function ye(ve){de=de||document.createElement("a"),de.setAttribute("href",ve);const be=de.pathname;return"/"===be.charAt(0)?be:`/${be}`}(z)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(be){return(0,u.Mx)(document.cookie,be)}}let de,Ee=null;const le=new P.OlP("TRANSITION_ID"),X=[{provide:P.ip1,useFactory:function Y(ve,be,z){return()=>{z.get(P.CZH).donePromise.then(()=>{const Ne=(0,u.q)(),it=be.querySelectorAll(`style[ng-transition="${ve}"]`);for(let Jt=0;Jt<it.length;Jt++)Ne.remove(it[Jt])})}},deps:[le,u.K0,P.zs3],multi:!0}];class me{static init(){(0,P.VLi)(new me)}addToWindow(be){P.dqk.getAngularTestability=(Ne,it=!0)=>{const Jt=be.findTestabilityInTree(Ne,it);if(null==Jt)throw new Error("Could not find testability for element.");return Jt},P.dqk.getAllAngularTestabilities=()=>be.getAllTestabilities(),P.dqk.getAllAngularRootElements=()=>be.getAllRootElements(),P.dqk.frameworkStabilizers||(P.dqk.frameworkStabilizers=[]),P.dqk.frameworkStabilizers.push(Ne=>{const it=P.dqk.getAllAngularTestabilities();let Jt=it.length,$n=!1;const ur=function(kr){$n=$n||kr,Jt--,0==Jt&&Ne($n)};it.forEach(function(kr){kr.whenStable(ur)})})}findTestabilityInTree(be,z,Ne){if(null==z)return null;const it=be.getTestability(z);return null!=it?it:Ne?(0,u.q)().isShadowRoot(z)?this.findTestabilityInTree(be,z.host,!0):this.findTestabilityInTree(be,z.parentElement,!0):null}}let ce=(()=>{class ve{build(){return new XMLHttpRequest}}return ve.\u0275fac=function(z){return new(z||ve)},ve.\u0275prov=P.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const ke=new P.OlP("EventManagerPlugins");let we=(()=>{class ve{constructor(z,Ne){this._zone=Ne,this._eventNameToPlugin=new Map,z.forEach(it=>it.manager=this),this._plugins=z.slice().reverse()}addEventListener(z,Ne,it){return this._findPluginFor(Ne).addEventListener(z,Ne,it)}addGlobalEventListener(z,Ne,it){return this._findPluginFor(Ne).addGlobalEventListener(z,Ne,it)}getZone(){return this._zone}_findPluginFor(z){const Ne=this._eventNameToPlugin.get(z);if(Ne)return Ne;const it=this._plugins;for(let Jt=0;Jt<it.length;Jt++){const $n=it[Jt];if($n.supports(z))return this._eventNameToPlugin.set(z,$n),$n}throw new Error(`No event manager plugin found for event ${z}`)}}return ve.\u0275fac=function(z){return new(z||ve)(P.LFG(ke),P.LFG(P.R0b))},ve.\u0275prov=P.Yz7({token:ve,factory:ve.\u0275fac}),ve})();class pe{constructor(be){this._doc=be}addGlobalEventListener(be,z,Ne){const it=(0,u.q)().getGlobalEventTarget(this._doc,be);if(!it)throw new Error(`Unsupported event target ${it} for event ${z}`);return this.addEventListener(it,z,Ne)}}let Le=(()=>{class ve{constructor(){this._stylesSet=new Set}addStyles(z){const Ne=new Set;z.forEach(it=>{this._stylesSet.has(it)||(this._stylesSet.add(it),Ne.add(it))}),this.onStylesAdded(Ne)}onStylesAdded(z){}getAllStyles(){return Array.from(this._stylesSet)}}return ve.\u0275fac=function(z){return new(z||ve)},ve.\u0275prov=P.Yz7({token:ve,factory:ve.\u0275fac}),ve})(),Te=(()=>{class ve extends Le{constructor(z){super(),this._doc=z,this._hostNodes=new Map,this._hostNodes.set(z.head,[])}_addStylesToHost(z,Ne,it){z.forEach(Jt=>{const $n=this._doc.createElement("style");$n.textContent=Jt,it.push(Ne.appendChild($n))})}addHost(z){const Ne=[];this._addStylesToHost(this._stylesSet,z,Ne),this._hostNodes.set(z,Ne)}removeHost(z){const Ne=this._hostNodes.get(z);Ne&&Ne.forEach(ut),this._hostNodes.delete(z)}onStylesAdded(z){this._hostNodes.forEach((Ne,it)=>{this._addStylesToHost(z,it,Ne)})}ngOnDestroy(){this._hostNodes.forEach(z=>z.forEach(ut))}}return ve.\u0275fac=function(z){return new(z||ve)(P.LFG(u.K0))},ve.\u0275prov=P.Yz7({token:ve,factory:ve.\u0275fac}),ve})();function ut(ve){(0,u.q)().remove(ve)}const te={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ke=/%COMP%/g;function Se(ve,be,z){for(let Ne=0;Ne<be.length;Ne++){let it=be[Ne];Array.isArray(it)?Se(ve,it,z):(it=it.replace(Ke,ve),z.push(it))}return z}function he(ve){return be=>{if("__ngUnwrap__"===be)return ve;!1===ve(be)&&(be.preventDefault(),be.returnValue=!1)}}let Ce=(()=>{class ve{constructor(z,Ne,it){this.eventManager=z,this.sharedStylesHost=Ne,this.appId=it,this.rendererByCompId=new Map,this.defaultRenderer=new $e(z)}createRenderer(z,Ne){if(!z||!Ne)return this.defaultRenderer;switch(Ne.encapsulation){case P.ifc.Emulated:{let it=this.rendererByCompId.get(Ne.id);return it||(it=new dt(this.eventManager,this.sharedStylesHost,Ne,this.appId),this.rendererByCompId.set(Ne.id,it)),it.applyToHost(z),it}case 1:case P.ifc.ShadowDom:return new qe(this.eventManager,this.sharedStylesHost,z,Ne);default:if(!this.rendererByCompId.has(Ne.id)){const it=Se(Ne.id,Ne.styles,[]);this.sharedStylesHost.addStyles(it),this.rendererByCompId.set(Ne.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ve.\u0275fac=function(z){return new(z||ve)(P.LFG(we),P.LFG(Te),P.LFG(P.AFp))},ve.\u0275prov=P.Yz7({token:ve,factory:ve.\u0275fac}),ve})();class $e{constructor(be){this.eventManager=be,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(be,z){return z?document.createElementNS(te[z]||z,be):document.createElement(be)}createComment(be){return document.createComment(be)}createText(be){return document.createTextNode(be)}appendChild(be,z){be.appendChild(z)}insertBefore(be,z,Ne){be&&be.insertBefore(z,Ne)}removeChild(be,z){be&&be.removeChild(z)}selectRootElement(be,z){let Ne="string"==typeof be?document.querySelector(be):be;if(!Ne)throw new Error(`The selector "${be}" did not match any elements`);return z||(Ne.textContent=""),Ne}parentNode(be){return be.parentNode}nextSibling(be){return be.nextSibling}setAttribute(be,z,Ne,it){if(it){z=it+":"+z;const Jt=te[it];Jt?be.setAttributeNS(Jt,z,Ne):be.setAttribute(z,Ne)}else be.setAttribute(z,Ne)}removeAttribute(be,z,Ne){if(Ne){const it=te[Ne];it?be.removeAttributeNS(it,z):be.removeAttribute(`${Ne}:${z}`)}else be.removeAttribute(z)}addClass(be,z){be.classList.add(z)}removeClass(be,z){be.classList.remove(z)}setStyle(be,z,Ne,it){it&(P.JOm.DashCase|P.JOm.Important)?be.style.setProperty(z,Ne,it&P.JOm.Important?"important":""):be.style[z]=Ne}removeStyle(be,z,Ne){Ne&P.JOm.DashCase?be.style.removeProperty(z):be.style[z]=""}setProperty(be,z,Ne){be[z]=Ne}setValue(be,z){be.nodeValue=z}listen(be,z,Ne){return"string"==typeof be?this.eventManager.addGlobalEventListener(be,z,he(Ne)):this.eventManager.addEventListener(be,z,he(Ne))}}class dt extends $e{constructor(be,z,Ne,it){super(be),this.component=Ne;const Jt=Se(it+"-"+Ne.id,Ne.styles,[]);z.addStyles(Jt),this.contentAttr=function Pe(ve){return"_ngcontent-%COMP%".replace(Ke,ve)}(it+"-"+Ne.id),this.hostAttr=function ae(ve){return"_nghost-%COMP%".replace(Ke,ve)}(it+"-"+Ne.id)}applyToHost(be){super.setAttribute(be,this.hostAttr,"")}createElement(be,z){const Ne=super.createElement(be,z);return super.setAttribute(Ne,this.contentAttr,""),Ne}}class qe extends $e{constructor(be,z,Ne,it){super(be),this.sharedStylesHost=z,this.hostEl=Ne,this.shadowRoot=Ne.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Jt=Se(it.id,it.styles,[]);for(let $n=0;$n<Jt.length;$n++){const ur=document.createElement("style");ur.textContent=Jt[$n],this.shadowRoot.appendChild(ur)}}nodeOrShadowRoot(be){return be===this.hostEl?this.shadowRoot:be}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(be,z){return super.appendChild(this.nodeOrShadowRoot(be),z)}insertBefore(be,z,Ne){return super.insertBefore(this.nodeOrShadowRoot(be),z,Ne)}removeChild(be,z){return super.removeChild(this.nodeOrShadowRoot(be),z)}parentNode(be){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(be)))}}let nt=(()=>{class ve extends pe{constructor(z){super(z)}supports(z){return!0}addEventListener(z,Ne,it){return z.addEventListener(Ne,it,!1),()=>this.removeEventListener(z,Ne,it)}removeEventListener(z,Ne,it){return z.removeEventListener(Ne,it)}}return ve.\u0275fac=function(z){return new(z||ve)(P.LFG(u.K0))},ve.\u0275prov=P.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const vt=["alt","control","meta","shift"],ze={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},at={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jt={alt:ve=>ve.altKey,control:ve=>ve.ctrlKey,meta:ve=>ve.metaKey,shift:ve=>ve.shiftKey};let kt=(()=>{class ve extends pe{constructor(z){super(z)}supports(z){return null!=ve.parseEventName(z)}addEventListener(z,Ne,it){const Jt=ve.parseEventName(Ne),$n=ve.eventCallback(Jt.fullKey,it,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(z,Jt.domEventName,$n))}static parseEventName(z){const Ne=z.toLowerCase().split("."),it=Ne.shift();if(0===Ne.length||"keydown"!==it&&"keyup"!==it)return null;const Jt=ve._normalizeKey(Ne.pop());let $n="";if(vt.forEach(kr=>{const Ci=Ne.indexOf(kr);Ci>-1&&(Ne.splice(Ci,1),$n+=kr+".")}),$n+=Jt,0!=Ne.length||0===Jt.length)return null;const ur={};return ur.domEventName=it,ur.fullKey=$n,ur}static getEventFullKey(z){let Ne="",it=function Zt(ve){let be=ve.key;if(null==be){if(be=ve.keyIdentifier,null==be)return"Unidentified";be.startsWith("U+")&&(be=String.fromCharCode(parseInt(be.substring(2),16)),3===ve.location&&at.hasOwnProperty(be)&&(be=at[be]))}return ze[be]||be}(z);return it=it.toLowerCase()," "===it?it="space":"."===it&&(it="dot"),vt.forEach(Jt=>{Jt!=it&&jt[Jt](z)&&(Ne+=Jt+".")}),Ne+=it,Ne}static eventCallback(z,Ne,it){return Jt=>{ve.getEventFullKey(Jt)===z&&it.runGuarded(()=>Ne(Jt))}}static _normalizeKey(z){return"esc"===z?"escape":z}}return ve.\u0275fac=function(z){return new(z||ve)(P.LFG(u.K0))},ve.\u0275prov=P.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const or=(0,P.eFA)(P._c5,"browser",[{provide:P.Lbi,useValue:u.bD},{provide:P.g9A,useValue:function Tn(){Ie.makeCurrent(),me.init()},multi:!0},{provide:u.K0,useFactory:function hn(){return(0,P.RDi)(document),document},deps:[]}]),Dn=[{provide:P.zSh,useValue:"root"},{provide:P.qLn,useFactory:function Rn(){return new P.qLn},deps:[]},{provide:ke,useClass:nt,multi:!0,deps:[u.K0,P.R0b,P.Lbi]},{provide:ke,useClass:kt,multi:!0,deps:[u.K0]},{provide:Ce,useClass:Ce,deps:[we,Te,P.AFp]},{provide:P.FYo,useExisting:Ce},{provide:Le,useExisting:Te},{provide:Te,useClass:Te,deps:[u.K0]},{provide:P.dDg,useClass:P.dDg,deps:[P.R0b]},{provide:we,useClass:we,deps:[ke,P.R0b]},{provide:u.JF,useClass:ce,deps:[]}];let Fr=(()=>{class ve{constructor(z){if(z)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(z){return{ngModule:ve,providers:[{provide:P.AFp,useValue:z.appId},{provide:le,useExisting:P.AFp},X]}}}return ve.\u0275fac=function(z){return new(z||ve)(P.LFG(ve,12))},ve.\u0275mod=P.oAB({type:ve}),ve.\u0275inj=P.cJS({providers:Dn,imports:[u.ez,P.hGG]}),ve})();"undefined"!=typeof window&&window;var Q=O(55455),tt=O(14055),Ct=O(83950),sn=O(40520),Un=O(61709),Sn=O(5254);const dn=new P.OlP("JWT_OPTIONS");let on=(()=>{class ve{constructor(z=null){this.tokenGetter=z&&z.tokenGetter||function(){}}urlBase64Decode(z){let Ne=z.replace(/-/g,"+").replace(/_/g,"/");switch(Ne.length%4){case 0:break;case 2:Ne+="==";break;case 3:Ne+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(Ne)}b64decode(z){let it="";if((z=String(z).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let $n,ur,Jt=0,kr=0;ur=z.charAt(kr++);~ur&&($n=Jt%4?64*$n+ur:ur,Jt++%4)?it+=String.fromCharCode(255&$n>>(-2*Jt&6)):0)ur="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(ur);return it}b64DecodeUnicode(z){return decodeURIComponent(Array.prototype.map.call(this.b64decode(z),Ne=>"%"+("00"+Ne.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(z=this.tokenGetter()){if(!z||""===z)return null;const Ne=z.split(".");if(3!==Ne.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");const it=this.urlBase64Decode(Ne[1]);if(!it)throw new Error("Cannot decode the token.");return JSON.parse(it)}getTokenExpirationDate(z=this.tokenGetter()){let Ne;if(Ne=this.decodeToken(z),!Ne||!Ne.hasOwnProperty("exp"))return null;const it=new Date(0);return it.setUTCSeconds(Ne.exp),it}isTokenExpired(z=this.tokenGetter(),Ne){if(!z||""===z)return!0;const it=this.getTokenExpirationDate(z);return Ne=Ne||0,null!==it&&!(it.valueOf()>(new Date).valueOf()+1e3*Ne)}getAuthScheme(z,Ne){return"function"==typeof z?z(Ne):z}}return ve.\u0275fac=function(z){return new(z||ve)(P.LFG(dn))},ve.\u0275prov=P.Yz7({token:ve,factory:ve.\u0275fac}),ve})(),tr=(()=>{class ve{constructor(z,Ne,it){this.jwtHelper=Ne,this.document=it,this.standardPorts=["80","443"],this.tokenGetter=z.tokenGetter,this.headerName=z.headerName||"Authorization",this.authScheme=z.authScheme||""===z.authScheme?z.authScheme:"Bearer ",this.allowedDomains=z.allowedDomains||[],this.disallowedRoutes=z.disallowedRoutes||[],this.throwNoTokenError=z.throwNoTokenError||!1,this.skipWhenExpired=z.skipWhenExpired}isAllowedDomain(z){const Ne=new URL(z.url,this.document.location.origin);if(Ne.host===this.document.location.host)return!0;const it=`${Ne.hostname}${Ne.port&&!this.standardPorts.includes(Ne.port)?":"+Ne.port:""}`;return this.allowedDomains.findIndex(Jt=>"string"==typeof Jt?Jt===it:Jt instanceof RegExp&&Jt.test(it))>-1}isDisallowedRoute(z){const Ne=new URL(z.url,this.document.location.origin);return this.disallowedRoutes.findIndex(it=>{if("string"==typeof it){const Jt=new URL(it,this.document.location.origin);return Jt.hostname===Ne.hostname&&Jt.pathname===Ne.pathname}return it instanceof RegExp&&it.test(z.url)})>-1}handleInterception(z,Ne,it){const Jt=this.jwtHelper.getAuthScheme(this.authScheme,Ne);let $n=!1;if(!z&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");return this.skipWhenExpired&&($n=!z||this.jwtHelper.isTokenExpired(z)),z&&$n&&this.skipWhenExpired?Ne=Ne.clone():z&&(Ne=Ne.clone({setHeaders:{[this.headerName]:`${Jt}${z}`}})),it.handle(Ne)}intercept(z,Ne){if(!this.isAllowedDomain(z)||this.isDisallowedRoute(z))return Ne.handle(z);const it=this.tokenGetter(z);return it instanceof Promise?(0,Sn.D)(it).pipe((0,Un.zg)(Jt=>this.handleInterception(Jt,z,Ne))):this.handleInterception(it,z,Ne)}}return ve.\u0275fac=function(z){return new(z||ve)(P.LFG(dn),P.LFG(on),P.LFG(u.K0))},ve.\u0275prov=P.Yz7({token:ve,factory:ve.\u0275fac}),ve})(),kn=(()=>{class ve{constructor(z){if(z)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(z){return{ngModule:ve,providers:[{provide:sn.TP,useClass:tr,multi:!0},z.jwtOptionsProvider||{provide:dn,useValue:z.config},on]}}}return ve.\u0275fac=function(z){return new(z||ve)(P.LFG(ve,12))},ve.\u0275mod=P.oAB({type:ve}),ve.\u0275inj=P.cJS({}),ve})();var Gr=O(70655),Rr=O(15791);function It(ve,be){if(1&ve){const z=P.EpF();P.TgZ(0,"ion-app")(1,"ion-menu",2)(2,"ion-header")(3,"ion-toolbar",3)(4,"ion-title"),P._uU(5,"Menu"),P.qZA()()(),P.TgZ(6,"ion-content")(7,"ion-list")(8,"ion-item",4),P.NdJ("click",function(){return P.CHM(z),P.oxw().navigateTo("/admin-users")}),P._UZ(9,"ion-icon",5),P.TgZ(10,"ion-label"),P._uU(11,"Users"),P.qZA()(),P.TgZ(12,"ion-item"),P._UZ(13,"ion-icon",6),P.TgZ(14,"ion-label"),P._uU(15,"Inbox"),P.qZA()(),P.TgZ(16,"ion-item"),P._UZ(17,"ion-icon",7),P.TgZ(18,"ion-label"),P._uU(19,"Outbox"),P.qZA()(),P.TgZ(20,"ion-item"),P._UZ(21,"ion-icon",8),P.TgZ(22,"ion-label"),P._uU(23,"Favorites"),P.qZA()(),P.TgZ(24,"ion-item"),P._UZ(25,"ion-icon",9),P.TgZ(26,"ion-label"),P._uU(27,"Archived"),P.qZA()(),P.TgZ(28,"ion-item"),P._UZ(29,"ion-icon",10),P.TgZ(30,"ion-label"),P._uU(31,"Trash"),P.qZA()(),P.TgZ(32,"ion-item"),P._UZ(33,"ion-icon",11),P.TgZ(34,"ion-label"),P._uU(35,"Spam"),P.qZA()()()()(),P.TgZ(36,"div",12)(37,"ion-header")(38,"ion-toolbar")(39,"ion-buttons",13),P._UZ(40,"ion-menu-button"),P.qZA()()(),P.TgZ(41,"ion-router-outlet",14),P.NdJ("activate",function(){return P.CHM(z),P.oxw().checkIT()}),P.qZA()()()}}const ct=function(){return["/home"]},Bt=function(){return["active"]},Xt=function(){return["/add-word"]};function Yn(ve,be){if(1&ve){const z=P.EpF();P.TgZ(0,"div",17)(1,"div",18)(2,"div",19),P.NdJ("click",function(it){return P.CHM(z),P.oxw(2).goToHomePage(it)}),P.O4$(),P.TgZ(3,"svg",20),P._UZ(4,"path",21),P.qZA(),P.kcU(),P.TgZ(5,"span"),P._uU(6," Home "),P.qZA()(),P.TgZ(7,"div",22),P.NdJ("click",function(it){return P.CHM(z),P.oxw(2).goToAddPage(it)}),P.O4$(),P.TgZ(8,"svg",23),P._UZ(9,"path",24),P.qZA(),P.kcU(),P.TgZ(10,"span"),P._uU(11," New Word "),P.qZA()(),P.TgZ(12,"div",25),P.NdJ("click",function(){return P.CHM(z),P.oxw(2).presentActionSheet()}),P.O4$(),P.TgZ(13,"svg",26),P._UZ(14,"path",27),P.qZA(),P.kcU(),P.TgZ(15,"span"),P._uU(16,"Setting"),P.qZA()()()()}2&ve&&(P.xp6(2),P.Q6J("routerLink",P.DdM(4,ct))("routerLinkActive",P.DdM(5,Bt)),P.xp6(5),P.Q6J("routerLink",P.DdM(6,Xt))("routerLinkActive",P.DdM(7,Bt)))}function In(ve,be){if(1&ve){const z=P.EpF();P.TgZ(0,"ion-app",15)(1,"ion-router-outlet",14),P.NdJ("activate",function(){return P.CHM(z),P.oxw().checkIT()}),P.qZA(),P.YNc(2,Yn,17,8,"div",16),P.qZA()}if(2&ve){const z=P.oxw();P.xp6(2),P.Q6J("ngIf",z.displayMobileNavigation)}}let Ft=(()=>{class ve{constructor(z,Ne,it,Jt,$n){this.router=z,this.accountService=Ne,this.jwtUtil=it,this.actionSheetController=Jt,this.auth=$n,this.displayMobileNavigation=!0,this.displayAdminPanel=!1,this.curentURL="/home",this.counter=0}ngOnInit(){this.setCurrentUser(),this.curentURL=this.router.url}dothat(){alert("Active")}checkIT(){-1===this.router.url.search("login")&&-1===this.router.url.search("register")&&-1===this.router.url.search("admin")?(this.displayMobileNavigation=!0,this.displayAdminPanel=!1):(this.displayMobileNavigation=!1,this.displayAdminPanel=!0),-1===this.router.url.search("admin")&&(this.displayAdminPanel=!1)}navigateTo(z){this.router.navigate([z])}setCurrentUser(){const z=JSON.parse(localStorage.getItem("user"));z&&this.accountService.setCurrentUser(z,!1)}presentActionSheet(){return(0,Gr.mG)(this,void 0,void 0,function*(){const z=yield this.actionSheetController.create({header:"Select An Action",cssClass:"my-custom-class",buttons:[{text:"Log Out",role:"destructive",icon:"log-out",id:"delete-button",data:{type:"delete"},handler:()=>{this.auth.signOutExternal()}},{text:"Developer Page",icon:"construct",data:10,handler:()=>{console.log("Share clicked")}},{text:"Play (open modal)",icon:"caret-forward-circle",data:"Data value",handler:()=>{console.log("Play clicked")}},{text:"Favorite",icon:"heart",handler:()=>{console.log("Favorite clicked")}},{text:"Cancel",icon:"close",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]});yield z.present();const{role:Ne,data:it}=yield z.onDidDismiss();console.log("onDidDismiss resolved with role and data",Ne,it)})}goToAddPage(z){z.target.classList.add("active"),this.router.navigate(["/add-word"])}goToHomePage(z){this.router.navigate(["/home"])}}return ve.\u0275fac=function(z){return new(z||ve)(P.Y36(tt.F0),P.Y36(Rr.e),P.Y36(on),P.Y36(Ct.BX),P.Y36(Rr.e))},ve.\u0275cmp=P.Xpm({type:ve,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],["style","display: flex;flex-direction: column;",4,"ngIf"],["side","start","content-id","main-content"],["translucent",""],["button","",3,"click"],["name","people","slot","start"],["name","mail","slot","start"],["name","paper-plane","slot","start"],["name","heart","slot","start"],["name","archive","slot","start"],["name","trash","slot","start"],["name","warning","slot","start"],["id","main-content",1,"ion-page"],["slot","start"],[2,"position","relative","flex","1 1 auto",3,"activate"],[2,"display","flex","flex-direction","column"],["class","navigation",4,"ngIf"],[1,"navigation"],[1,"container","response-max"],[1,"home",3,"routerLink","routerLinkActive","click"],["width","34","height","38","viewBox","0 0 34 38","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M14.6062 0.855174C16.0048 -0.285057 17.9952 -0.285059 19.3938 0.855174L32.5688 11.5966C33.4736 12.3342 34 13.4492 34 14.628V34.1134C34 36.2599 32.2875 38 30.175 38H25.075C22.9625 38 21.25 36.2599 21.25 34.1134V24.7492C21.25 24.0337 20.6792 23.4536 19.975 23.4536H14.025C13.3208 23.4536 12.75 24.0337 12.75 24.7492V34.1134C12.75 36.2599 11.0375 38 8.925 38H3.825C1.71251 38 0 36.2599 0 34.1134V14.628C0 13.4493 0.526446 12.3342 1.43124 11.5966L14.6062 0.855174ZM17.7979 2.87612C17.3317 2.49604 16.6683 2.49604 16.2021 2.87612L3.02708 13.6175C2.72548 13.8634 2.55 14.2351 2.55 14.628V34.1134C2.55 34.8289 3.12084 35.4089 3.825 35.4089H8.925C9.62917 35.4089 10.2 34.8289 10.2 34.1134V24.7492C10.2 22.6027 11.9125 20.8626 14.025 20.8626H19.975C22.0875 20.8626 23.8 22.6027 23.8 24.7492V34.1134C23.8 34.8289 24.3708 35.4089 25.075 35.4089H30.175C30.8792 35.4089 31.45 34.8289 31.45 34.1134V14.628C31.45 14.2351 31.2745 13.8634 30.9729 13.6175L17.7979 2.87612Z","fill","#212121"],[1,"add",3,"routerLink","routerLinkActive","click"],["width","40","height","40","viewBox","0 0 40 40","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M18.5714 12.8571C18.5714 12.0682 19.211 11.4286 20 11.4286C20.789 11.4286 21.4286 12.0682 21.4286 12.8571V18.5714H27.1429C27.9318 18.5714 28.5714 19.211 28.5714 20C28.5714 20.789 27.9318 21.4286 27.1429 21.4286H21.4286V27.1429C21.4286 27.9318 20.789 28.5714 20 28.5714C19.211 28.5714 18.5714 27.9318 18.5714 27.1429V21.4286H12.8571C12.0682 21.4286 11.4286 20.789 11.4286 20C11.4286 19.211 12.0682 18.5714 12.8571 18.5714H18.5714V12.8571ZM40 20C40 31.0457 31.0457 40 20 40C8.9543 40 0 31.0457 0 20C0 8.9543 8.9543 0 20 0C31.0457 0 40 8.9543 40 20ZM37.1429 20C37.1429 10.5323 29.4677 2.85714 20 2.85714C10.5323 2.85714 2.85714 10.5323 2.85714 20C2.85714 29.4677 10.5323 37.1429 20 37.1429C29.4677 37.1429 37.1429 29.4677 37.1429 20Z","fill","#212121"],[1,"set",3,"click"],["width","39","height","40","viewBox","0 0 39 40","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M0.0583371 13.8416C0.945886 11.1542 2.40799 8.68736 4.33719 6.59679C4.66342 6.24327 5.17523 6.11728 5.63347 6.27768L10.2439 7.89157C11.4938 8.32887 12.8692 7.69136 13.3159 6.46766C13.3598 6.34733 13.3936 6.2237 13.417 6.0982L14.2953 1.37818C14.3827 0.908877 14.7508 0.537658 15.2274 0.438347C16.6218 0.147768 18.0515 0 19.5 0C20.9476 0 22.3764 0.147588 23.7701 0.437816C24.2465 0.537039 24.6146 0.908024 24.7022 1.37714L25.583 6.09799C25.8211 7.3764 27.0727 8.22376 28.3785 7.99062C28.507 7.9677 28.6332 7.93457 28.7559 7.89164L33.3665 6.27768C33.8248 6.11728 34.3366 6.24327 34.6628 6.59679C36.592 8.68736 38.0541 11.1542 38.9417 13.8416C39.0914 14.2949 38.947 14.7919 38.576 15.1003L34.8391 18.2064C33.8273 19.0475 33.7036 20.5324 34.5627 21.523C34.6472 21.6204 34.7396 21.7109 34.8391 21.7935L38.576 24.8997C38.947 25.2081 39.0914 25.7051 38.9417 26.1585C38.0541 28.8458 36.592 31.3126 34.6628 33.4032C34.3366 33.7567 33.8248 33.8827 33.3665 33.7223L28.7561 32.1084C27.5062 31.6711 26.1308 32.3086 25.6841 33.5323C25.6402 33.6527 25.6064 33.7763 25.5829 33.9023L24.7022 38.6229C24.6146 39.092 24.2465 39.463 23.7701 39.5622C22.3764 39.8524 20.9476 40 19.5 40C18.0515 40 16.6218 39.8522 15.2274 39.5617C14.7508 39.4623 14.3827 39.0911 14.2953 38.6218L13.417 33.902C13.1789 32.6236 11.9273 31.7762 10.6214 32.0094C10.493 32.0323 10.3668 32.0654 10.2441 32.1084L5.63347 33.7223C5.17523 33.8827 4.66342 33.7567 4.33719 33.4032C2.40799 31.3126 0.945886 28.8458 0.0583371 26.1585C-0.0913961 25.7051 0.0529819 25.2081 0.423994 24.8997L4.16089 21.7936C5.17269 20.9525 5.29644 19.4676 4.4373 18.477C4.35282 18.3796 4.26038 18.2891 4.16094 18.2065L0.423994 15.1003C0.0529819 14.7919 -0.0913961 14.2949 0.0583371 13.8416ZM2.60725 13.8284L5.7165 16.4128C5.91548 16.5783 6.10037 16.7593 6.26933 16.9541C7.98762 18.9352 7.74011 21.9049 5.71645 23.5872L2.60725 26.1716C3.30916 28.0121 4.32207 29.7228 5.59932 31.2354L9.43508 29.8927C9.68089 29.8067 9.93346 29.7405 10.1903 29.6946C12.8019 29.2283 15.3051 30.9231 15.7815 33.4801L16.512 37.4059C17.4923 37.5659 18.4905 37.6471 19.5 37.6471C20.5088 37.6471 21.5064 37.566 22.486 37.4062L23.2186 33.4799C23.2654 33.2285 23.3331 32.9812 23.4209 32.7405C24.3143 30.2931 27.065 29.0181 29.5651 29.8928L33.4007 31.2354C34.6779 29.7228 35.6908 28.0121 36.3927 26.1716L33.2835 23.5872C33.0845 23.4217 32.8996 23.2407 32.7307 23.0459C31.0124 21.0648 31.2599 18.0951 33.2835 16.4128L36.3927 13.8284C35.6908 11.9879 34.6779 10.2773 33.4007 8.76456L29.5649 10.1073C29.3191 10.1933 29.0665 10.2595 28.8097 10.3054C26.1981 10.7717 23.6948 9.07695 23.2186 6.52046L22.486 2.59376C21.5064 2.43395 20.5088 2.35294 19.5 2.35294C18.4905 2.35294 17.4923 2.43406 16.512 2.59409L15.7814 6.52013C15.7346 6.77154 15.6669 7.0188 15.5791 7.25946C14.6857 9.70687 11.935 10.9819 9.43487 10.1072L5.59932 8.76456C4.32207 10.2773 3.30916 11.9879 2.60725 13.8284ZM13.4915 20C13.4915 16.7513 16.1816 14.1176 19.5 14.1176C22.8184 14.1176 25.5085 16.7513 25.5085 20C25.5085 23.2487 22.8184 25.8824 19.5 25.8824C16.1816 25.8824 13.4915 23.2487 13.4915 20ZM15.8949 20C15.8949 21.9492 17.509 23.5294 19.5 23.5294C21.491 23.5294 23.1051 21.9492 23.1051 20C23.1051 18.0508 21.491 16.4706 19.5 16.4706C17.509 16.4706 15.8949 18.0508 15.8949 20Z","fill","#212121"]],template:function(z,Ne){1&z&&(P.YNc(0,It,42,0,"ion-app",0),P.YNc(1,In,3,1,"ion-app",1)),2&z&&(P.Q6J("ngIf",Ne.displayAdminPanel),P.xp6(1),P.Q6J("ngIf",!Ne.displayAdminPanel))},directives:[u.O5,Ct.dr,Ct.z0,Ct.Gu,Ct.sr,Ct.wd,Ct.W2,Ct.q_,Ct.Ie,Ct.gu,Ct.Q$,Ct.Sm,Ct.fG,Ct.jP,Ct.YI,tt.rH,tt.Od],styles:[".navigation[_ngcontent-%COMP%]{z-index:100;display:flex;align-items:center;justify-content:center;bottom:0;width:100vw;background:#FFFFFF;box-shadow:0 .6px 1.8px #0000001c,0 -.8px 7.2px #00000021}.navigation[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin:0 auto;display:flex;position:relative;justify-content:space-between}.navigation[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;padding:5px;transition:.125s all ease-in-out}.navigation[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   div.active[_ngcontent-%COMP%]{color:#5e07f8!important;fill:#5e07f8!important}.navigation[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   div.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#5e07f8!important}.navigation[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   div.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#5e07f8!important}.navigation[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;margin-bottom:4px}.navigation[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400;font-size:11px;line-height:16px;text-align:center;letter-spacing:.06px}.navigation[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#dfcdfe;cursor:pointer}"]}),ve})();var ln=O(24850);let zn=(()=>{class ve{constructor(z,Ne){this.authService=z,this.toastr=Ne}canActivate(z,Ne){return this.authService.currentUser$.pipe((0,ln.U)(it=>!(!it.roles.includes("Admin")&&!it.roles.includes("Moderator")&&(alert("BAd "),1))))}presentToast(){return(0,Gr.mG)(this,void 0,void 0,function*(){(yield this.toastr.create({message:"Your settings have been saved.",duration:2e3})).present()})}}return ve.\u0275fac=function(z){return new(z||ve)(P.LFG(Rr.e),P.LFG(Ct.yF))},ve.\u0275prov=P.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})();var gr=O(72986),Wr=O(20478);let Or=(()=>{class ve{constructor(z,Ne,it,Jt){this.router=z,this.jwtHelper=Ne,this.authService=it,this.firestore=Jt}canActivate(z,Ne){return this.firestore.collection("users").doc(this.authService.getUserId).valueChanges().pipe((0,gr.q)(1),(0,ln.U)(it=>it&&it.username&&it.SocialUrl&&it.contery?(this.authService.currentUserSource.next(it),!0):(this.router.navigate(["/register-info"]),!1)))}}return ve.\u0275fac=function(z){return new(z||ve)(P.LFG(tt.F0),P.LFG(on),P.LFG(Rr.e),P.LFG(Wr.ST))},ve.\u0275prov=P.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})();const Tr=[{path:"home",loadChildren:()=>Promise.all([O.e(8592),O.e(7508)]).then(O.bind(O,77508)).then(ve=>ve.HomePageModule),canActivate:[Or]},{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",loadChildren:()=>O.e(9725).then(O.bind(O,29725)).then(ve=>ve.LoginPageModule)},{path:"add-word",loadChildren:()=>Promise.all([O.e(8592),O.e(5334)]).then(O.bind(O,15334)).then(ve=>ve.AddWordPageModule),canActivate:[Or]},{path:"admin-home",loadChildren:()=>O.e(3158).then(O.bind(O,33158)).then(ve=>ve.AdminHomePageModule),canActivate:[zn]},{path:"admin-users",loadChildren:()=>O.e(6063).then(O.bind(O,66063)).then(ve=>ve.AdminUsersPageModule),canActivate:[zn]},{path:"register-info",loadChildren:()=>Promise.all([O.e(8592),O.e(2833)]).then(O.bind(O,72833)).then(ve=>ve.RegisterInfoPageModule),canActivate:[(()=>{class ve{constructor(z){this.router=z}canActivate(z,Ne){return!0}}return ve.\u0275fac=function(z){return new(z||ve)(P.LFG(tt.F0))},ve.\u0275prov=P.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})()]}];let Zr=(()=>{class ve{}return ve.\u0275fac=function(z){return new(z||ve)},ve.\u0275mod=P.oAB({type:ve}),ve.\u0275inj=P.cJS({imports:[[tt.Bz.forRoot(Tr,{preloadingStrategy:tt.wm})],tt.Bz]}),ve})();var zr=O(88514),Zn=O(61737),gi=O(23753),yr=O(21086),si=O(61221),Ei=O(8929),q=O(32916),ge=O(67876);const ee=new q.y(ge.Z);var Be=O(36787),rt=O(92198),bt=O(87545),Rt=O(82536),Ht=O(2994),nn=O(20353),xn=O(43489),rr=O(29312);class ci{constructor(be,z){this.delay=be,this.scheduler=z}call(be,z){return z.subscribe(new mi(be,this.delay,this.scheduler))}}class mi extends xn.L{constructor(be,z,Ne){super(be),this.delay=z,this.scheduler=Ne,this.queue=[],this.active=!1,this.errored=!1}static dispatch(be){const z=be.source,Ne=z.queue,it=be.scheduler,Jt=be.destination;for(;Ne.length>0&&Ne[0].time-it.now()<=0;)Ne.shift().notification.observe(Jt);if(Ne.length>0){const $n=Math.max(0,Ne[0].time-it.now());this.schedule(be,$n)}else this.unsubscribe(),z.active=!1}_schedule(be){this.active=!0,this.destination.add(be.schedule(mi.dispatch,this.delay,{source:this,destination:this.destination,scheduler:be}))}scheduleNotification(be){if(!0===this.errored)return;const z=this.scheduler,Ne=new gs(z.now()+this.delay,be);this.queue.push(Ne),!1===this.active&&this._schedule(z)}_next(be){this.scheduleNotification(rr.P.createNext(be))}_error(be){this.errored=!0,this.queue=[],this.destination.error(be),this.unsubscribe()}_complete(){this.scheduleNotification(rr.P.createComplete()),this.unsubscribe()}}class gs{constructor(be,z){this.time=be,this.notification=z}}const Ze="Service workers are disabled or not supported by this browser";class ft{constructor(be){if(this.serviceWorker=be,be){const Ne=(0,gi.R)(be,"controllerchange").pipe((0,ln.U)(()=>be.controller)),it=(0,zr.P)(()=>(0,yr.of)(be.controller)),Jt=(0,si.z)(it,Ne);this.worker=Jt.pipe((0,rt.h)(Pi=>!!Pi)),this.registration=this.worker.pipe((0,bt.w)(()=>be.getRegistration()));const Ci=(0,gi.R)(be,"message").pipe((0,ln.U)(Pi=>Pi.data)).pipe((0,rt.h)(Pi=>Pi&&Pi.type)).pipe(function At(ve){return ve?(0,Rt.O)(()=>new Ei.xQ,ve):(0,Rt.O)(new Ei.xQ)}());Ci.connect(),this.events=Ci}else this.worker=this.events=this.registration=function Ye(ve){return(0,zr.P)(()=>(0,Zn._)(new Error(ve)))}(Ze)}postMessage(be,z){return this.worker.pipe((0,gr.q)(1),(0,Ht.b)(Ne=>{Ne.postMessage(Object.assign({action:be},z))})).toPromise().then(()=>{})}postMessageWithOperation(be,z,Ne){const it=this.waitForOperationCompleted(Ne),Jt=this.postMessage(be,z);return Promise.all([Jt,it]).then(([,$n])=>$n)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(be){let z;return z="string"==typeof be?Ne=>Ne.type===be:Ne=>be.includes(Ne.type),this.events.pipe((0,rt.h)(z))}nextEventOfType(be){return this.eventsOfType(be).pipe((0,gr.q)(1))}waitForOperationCompleted(be){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,rt.h)(z=>z.nonce===be),(0,gr.q)(1),(0,ln.U)(z=>{if(void 0!==z.result)return z.result;throw new Error(z.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Lt=(()=>{class ve{constructor(z){if(this.sw=z,this.subscriptionChanges=new Ei.xQ,!z.isEnabled)return this.messages=ee,this.notificationClicks=ee,void(this.subscription=ee);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ln.U)(it=>it.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ln.U)(it=>it.data)),this.pushManager=this.sw.registration.pipe((0,ln.U)(it=>it.pushManager));const Ne=this.pushManager.pipe((0,bt.w)(it=>it.getSubscription()));this.subscription=(0,Be.T)(Ne,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(z){if(!this.sw.isEnabled)return Promise.reject(new Error(Ze));const Ne={userVisibleOnly:!0};let it=this.decodeBase64(z.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Jt=new Uint8Array(new ArrayBuffer(it.length));for(let $n=0;$n<it.length;$n++)Jt[$n]=it.charCodeAt($n);return Ne.applicationServerKey=Jt,this.pushManager.pipe((0,bt.w)($n=>$n.subscribe(Ne)),(0,gr.q)(1)).toPromise().then($n=>(this.subscriptionChanges.next($n),$n))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,gr.q)(1),(0,bt.w)(Ne=>{if(null===Ne)throw new Error("Not subscribed to push notifications.");return Ne.unsubscribe().then(it=>{if(!it)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Ze))}decodeBase64(z){return atob(z)}}return ve.\u0275fac=function(z){return new(z||ve)(P.LFG(ft))},ve.\u0275prov=P.Yz7({token:ve,factory:ve.\u0275fac}),ve})(),qt=(()=>{class ve{constructor(z){if(this.sw=z,!z.isEnabled)return this.versionUpdates=ee,this.available=ee,this.activated=ee,void(this.unrecoverable=ee);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe((0,rt.h)(Ne=>"VERSION_READY"===Ne.type),(0,ln.U)(Ne=>({type:"UPDATE_AVAILABLE",current:Ne.currentVersion,available:Ne.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ze));const z=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:z},z)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ze));const z=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:z},z)}}return ve.\u0275fac=function(z){return new(z||ve)(P.LFG(ft))},ve.\u0275prov=P.Yz7({token:ve,factory:ve.\u0275fac}),ve})();class Ln{}const vr=new P.OlP("NGSW_REGISTER_SCRIPT");function Pr(ve,be,z,Ne){return()=>{if(!(0,u.NF)(Ne)||!("serviceWorker"in navigator)||!1===z.enabled)return;let Jt;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof z.registrationStrategy)Jt=z.registrationStrategy();else{const[ur,...kr]=(z.registrationStrategy||"registerWhenStable:30000").split(":");switch(ur){case"registerImmediately":Jt=(0,yr.of)(null);break;case"registerWithDelay":Jt=Ir(+kr[0]||0);break;case"registerWhenStable":Jt=kr[0]?(0,Be.T)(Ji(ve),Ir(+kr[0])):Ji(ve);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${z.registrationStrategy}`)}}ve.get(P.R0b).runOutsideAngular(()=>Jt.pipe((0,gr.q)(1)).subscribe(()=>navigator.serviceWorker.register(be,{scope:z.scope}).catch(ur=>console.error("Service worker registration failed with:",ur))))}}function Ir(ve){return(0,yr.of)(null).pipe(function Lr(ve,be=nn.P){const Ne=function Nn(ve){return ve instanceof Date&&!isNaN(+ve)}(ve)?+ve-be.now():Math.abs(ve);return it=>it.lift(new ci(Ne,be))}(ve))}function Ji(ve){return ve.get(P.z2F).isStable.pipe((0,rt.h)(z=>z))}function es(ve,be){return new ft((0,u.NF)(be)&&!1!==ve.enabled?navigator.serviceWorker:void 0)}let Ii=(()=>{class ve{static register(z,Ne={}){return{ngModule:ve,providers:[{provide:vr,useValue:z},{provide:Ln,useValue:Ne},{provide:ft,useFactory:es,deps:[Ln,P.Lbi]},{provide:P.ip1,useFactory:Pr,deps:[P.zs3,vr,Ln,P.Lbi],multi:!0}]}}}return ve.\u0275fac=function(z){return new(z||ve)},ve.\u0275mod=P.oAB({type:ve}),ve.\u0275inj=P.cJS({providers:[Lt,qt]}),ve})();var Gi=O(24766);let zi=(()=>{class ve{constructor(){this.have_Error=!1,this.runs_flag=!1,this.timer=2e3,this.firebaseUrls=["https://identitytoolkit.googleapis.com","https://firestore.googleapis.com","https://firebasestorage.googleapis.com","https://your-project-id.firebaseio.com"]}intercept(z,Ne){let it=z;if(this.firebaseUrls.forEach(Jt=>{z.url.startsWith(Jt)&&(it=z.clone({url:z.url.replace(Jt,"http://your-server-ip")}))}),z.url.includes("dictionary.cambridge.org")||z.url.includes("getSound")||z.url.includes("upload")){const Jt=new sn.WM({mode:"no-cors"});it=z.clone({headers:Jt})}else if(z.url.includes("ExternalLogin")||z.url.includes("upload"))it=z.clone();else{const Jt=localStorage.getItem("token");Jt&&(it=z.clone({headers:z.headers.append("Authorization","Bearer "+Jt)}))}return Ne.handle(it)}}return ve.\u0275fac=function(z){return new(z||ve)},ve.\u0275prov=P.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})();var js=O(12011),oi=O(40913);function Ts(){return localStorage.getItem("token")}let yi=(()=>{class ve{}return ve.\u0275fac=function(z){return new(z||ve)},ve.\u0275mod=P.oAB({type:ve,bootstrap:[Ft]}),ve.\u0275inj=P.cJS({providers:[{provide:tt.wN,useClass:Ct.r4},{provide:sn.TP,useClass:zi,multi:!0}],imports:[[Fr,Ct.Pc.forRoot(),Zr,sn.JF,Q.m,kn.forRoot({config:{tokenGetter:Ts,allowedDomains:[Gi.N.urlAddress],disallowedRoutes:[],headerName:"Authorization",authScheme:"bearer "}}),Ii.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),js.hO.initializeApp(Gi.N.firebase),oi.ww,Wr.yb]]}),ve})();Gi.N.production&&(0,P.G48)(),or().bootstrapModule(yi).catch(ve=>console.log(ve))},56217:(Kt,Je,O)=>{"use strict";O.d(Je,{nm:()=>ee});var u=O(48405);O(29863),O(70259);var Ke=O(15861),Oe=O(6881),et=O(34859),st=O(42090),lt=O(41877);const Pe=new Map,ae={activated:!1,tokenObservers:[]},Se={initialized:!1,enabled:!1};function he(Ze){return Pe.get(Ze)||Object.assign({},ae)}function Ce(){return Se}class vt{constructor(Ye,ft,Lt,qt,Ln){if(this.operation=Ye,this.retryPolicy=ft,this.getWaitDuration=Lt,this.lowerBound=qt,this.upperBound=Ln,this.pending=null,this.nextErrorWaitInterval=qt,qt>Ln)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ye){var ft=this;return(0,Ke.Z)(function*(){ft.stop();try{ft.pending=new st.BH,yield function Ge(Ze){return new Promise(Ye=>{setTimeout(Ye,Ze)})}(ft.getNextRun(Ye)),ft.pending.resolve(),yield ft.pending.promise,ft.pending=new st.BH,yield ft.operation(),ft.pending.resolve(),yield ft.pending.promise,ft.process(!0).catch(()=>{})}catch(Lt){ft.retryPolicy(Lt)?ft.process(!1).catch(()=>{}):ft.stop()}})()}getNextRun(Ye){if(Ye)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ft=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ft}}}const at=new st.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kt(Ze){if(!he(Ze).activated)throw at.create("use-before-activation",{appName:Ze.name})}function Rn(Ze,Ye){return hn.apply(this,arguments)}function hn(){return(hn=(0,Ke.Z)(function*({url:Ze,body:Ye},ft){const Lt={"Content-Type":"application/json"},qt=ft.getImmediate({optional:!0});if(qt){const Ii=yield qt.getHeartbeatsHeader();Ii&&(Lt["X-Firebase-Client"]=Ii)}const Ln={method:"POST",body:JSON.stringify(Ye),headers:Lt};let vr,Pr;try{vr=yield fetch(Ze,Ln)}catch(Ii){throw at.create("fetch-network-error",{originalErrorMessage:null==Ii?void 0:Ii.message})}if(200!==vr.status)throw at.create("fetch-status-error",{httpStatus:vr.status});try{Pr=yield vr.json()}catch(Ii){throw at.create("fetch-parse-error",{originalErrorMessage:null==Ii?void 0:Ii.message})}const Ir=Pr.ttl.match(/^([\d.]+)(s)$/);if(!Ir||!Ir[2]||isNaN(Number(Ir[1])))throw at.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Pr.ttl}`});const Ji=1e3*Number(Ir[1]),es=Date.now();return{token:Pr.token,expireTimeMillis:es+Ji,issuedAtTimeMillis:es}})).apply(this,arguments)}function Dn(Ze,Ye){const{projectId:ft,appId:Lt,apiKey:qt}=Ze.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${ft}/apps/${Lt}:exchangeDebugToken?key=${qt}`,body:{debug_token:Ye}}}const Qn="firebase-app-check-store";let br=null;function rn(){return br||(br=new Promise((Ze,Ye)=>{try{const ft=indexedDB.open("firebase-app-check-database",1);ft.onsuccess=Lt=>{Ze(Lt.target.result)},ft.onerror=Lt=>{var qt;Ye(at.create("storage-open",{originalErrorMessage:null===(qt=Lt.target.error)||void 0===qt?void 0:qt.message}))},ft.onupgradeneeded=Lt=>{0===Lt.oldVersion&&Lt.target.result.createObjectStore(Qn,{keyPath:"compositeKey"})}}catch(ft){Ye(at.create("storage-open",{originalErrorMessage:null==ft?void 0:ft.message}))}}),br)}function Dt(){return(Dt=(0,Ke.Z)(function*(Ze,Ye){const Lt=(yield rn()).transaction(Qn,"readwrite"),Ln=Lt.objectStore(Qn).put({compositeKey:Ze,value:Ye});return new Promise((vr,Pr)=>{Ln.onsuccess=Ir=>{vr()},Lt.onerror=Ir=>{var Ji;Pr(at.create("storage-set",{originalErrorMessage:null===(Ji=Ir.target.error)||void 0===Ji?void 0:Ji.message}))}})})).apply(this,arguments)}const wn=new lt.Yd("@firebase/app-check");function Vr(Ze,Ye){return(0,st.hl)()?function On(Ze,Ye){return function je(Ze,Ye){return Dt.apply(this,arguments)}(function en(Ze){return`${Ze.options.appId}-${Ze.name}`}(Ze),Ye)}(Ze,Ye).catch(ft=>{wn.warn(`Failed to write token to IndexedDB. Error: ${ft}`)}):Promise.resolve()}function fn(){return Ce().enabled}function wr(){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,Ke.Z)(function*(){const Ze=Ce();if(Ze.enabled&&Ze.token)return Ze.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Kn={error:"UNKNOWN_ERROR"};function fr(Ze){return st.US.encodeString(JSON.stringify(Ze),!1)}function pr(Ze){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,Ke.Z)(function*(Ze,Ye=!1){const ft=Ze.app;kt(ft);const Lt=he(ft);let Ln,qt=Lt.token;if(qt&&!Q(qt)&&(Lt.token=void 0,qt=void 0),!qt){const Ir=yield Lt.cachedTokenPromise;Ir&&(Q(Ir)?qt=Ir:yield Vr(ft,void 0))}if(!Ye&&qt&&Q(qt))return{token:qt.token};let Pr,vr=!1;if(fn()){Lt.exchangeTokenPromise||(Lt.exchangeTokenPromise=Rn(Dn(ft,yield wr()),Ze.heartbeatServiceProvider).finally(()=>{Lt.exchangeTokenPromise=void 0}),vr=!0);const Ir=yield Lt.exchangeTokenPromise;return yield Vr(ft,Ir),Lt.token=Ir,{token:Ir.token}}try{Lt.exchangeTokenPromise||(Lt.exchangeTokenPromise=Lt.provider.getToken().finally(()=>{Lt.exchangeTokenPromise=void 0}),vr=!0),qt=yield he(ft).exchangeTokenPromise}catch(Ir){"appCheck/throttled"===Ir.code?wn.warn(Ir.message):wn.error(Ir),Ln=Ir}return qt?Ln?Pr=Q(qt)?{token:qt.token,internalError:Ln}:tt(Ln):(Pr={token:qt.token},Lt.token=qt,yield Vr(ft,qt)):Pr=tt(Ln),vr&&fe(ft,Pr),Pr})).apply(this,arguments)}function ar(){return(ar=(0,Ke.Z)(function*(Ze){const Ye=Ze.app;kt(Ye);const{provider:ft}=he(Ye);if(fn()){const Lt=yield wr(),{token:qt}=yield Rn(Dn(Ye,Lt),Ze.heartbeatServiceProvider);return{token:qt}}{const{token:Lt}=yield ft.getToken();return{token:Lt}}})).apply(this,arguments)}function Fe(Ze,Ye){const ft=he(Ze),Lt=ft.tokenObservers.filter(qt=>qt.next!==Ye);0===Lt.length&&ft.tokenRefresher&&ft.tokenRefresher.isRunning()&&ft.tokenRefresher.stop(),ft.tokenObservers=Lt}function _e(Ze){const{app:Ye}=Ze,ft=he(Ye);let Lt=ft.tokenRefresher;Lt||(Lt=function se(Ze){const{app:Ye}=Ze;return new vt((0,Ke.Z)(function*(){let Lt;if(Lt=he(Ye).token?yield pr(Ze,!0):yield pr(Ze),Lt.error)throw Lt.error;if(Lt.internalError)throw Lt.internalError}),()=>!0,()=>{const ft=he(Ye);if(ft.token){let Lt=ft.token.issuedAtTimeMillis+.5*(ft.token.expireTimeMillis-ft.token.issuedAtTimeMillis)+3e5;return Lt=Math.min(Lt,ft.token.expireTimeMillis-3e5),Math.max(0,Lt-Date.now())}return 0},3e4,96e4)}(Ze),ft.tokenRefresher=Lt),!Lt.isRunning()&&ft.isTokenAutoRefreshEnabled&&Lt.start()}function fe(Ze,Ye){const ft=he(Ze).tokenObservers;for(const Lt of ft)try{"EXTERNAL"===Lt.type&&null!=Ye.error?Lt.error(Ye.error):Lt.next(Ye)}catch(qt){}}function Q(Ze){return Ze.expireTimeMillis-Date.now()>0}function tt(Ze){return{token:fr(Kn),error:Ze}}class Ct{constructor(Ye,ft){this.app=Ye,this.heartbeatServiceProvider=ft}_delete(){const{tokenObservers:Ye}=he(this.app);for(const ft of Ye)Fe(this.app,ft.next);return Promise.resolve()}}const si="app-check-internal";!function Ei(){(0,Oe._registerComponent)(new et.wA("app-check",Ze=>function sn(Ze,Ye){return new Ct(Ze,Ye)}(Ze.getProvider("app").getImmediate(),Ze.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ze,Ye,ft)=>{Ze.getProvider(si).initialize()})),(0,Oe._registerComponent)(new et.wA(si,Ze=>function Un(Ze){return{getToken:Ye=>pr(Ze,Ye),getLimitedUseToken:()=>function xr(Ze){return ar.apply(this,arguments)}(Ze),addTokenListener:Ye=>function Mr(Ze,Ye,ft,Lt){const{app:qt}=Ze,Ln=he(qt);if(Ln.tokenObservers=[...Ln.tokenObservers,{next:ft,error:Lt,type:Ye}],Ln.token&&Q(Ln.token)){const Pr=Ln.token;Promise.resolve().then(()=>{ft({token:Pr.token}),_e(Ze)}).catch(()=>{})}Ln.cachedTokenPromise.then(()=>_e(Ze))}(Ze,"INTERNAL",Ye),removeTokenListener:Ye=>Fe(Ze.app,Ye)}}(Ze.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Oe.registerVersion)("@firebase/app-check","0.8.0")}();class ee{constructor(){return(0,u.vb)("app-check")}}"undefined"!=typeof window&&window},40913:(Kt,Je,O)=>{"use strict";O.d(Je,{zQ:()=>Ae,ww:()=>Ce,rT:()=>Pe,f7:()=>Se,L6:()=>st,_Q:()=>lt,lh:()=>ae,Qv:()=>et,nw:()=>he});var u=O(29863),P=O(8929),k=O(21086),Ie=O(32916),Ee=O(5254),ie=O(36787),de=O(30839);function ye($e,Nt,Wt){let dt;return dt=$e&&"object"==typeof $e?$e:{bufferSize:$e,windowTime:Nt,refCount:!1,scheduler:Wt},qe=>qe.lift(function le({bufferSize:$e=Number.POSITIVE_INFINITY,windowTime:Nt=Number.POSITIVE_INFINITY,refCount:Wt,scheduler:dt}){let qe,vt,nt=0,Ge=!1,ze=!1;return function(jt){let kt;nt++,!qe||Ge?(Ge=!1,qe=new de.t($e,Nt,dt),kt=qe.subscribe(this),vt=jt.subscribe({next(Zt){qe.next(Zt)},error(Zt){Ge=!0,qe.error(Zt)},complete(){ze=!0,vt=void 0,qe.complete()}}),ze&&(vt=void 0)):kt=qe.subscribe(this),this.add(()=>{nt--,kt.unsubscribe(),kt=void 0,vt&&!ze&&Wt&&0===nt&&(vt.unsubscribe(),vt=void 0,qe=void 0)})}}(dt))}var Y=O(87545);function X($e,Nt){return Nt?(0,Y.w)(()=>$e,Nt):(0,Y.w)(()=>$e)}var me=O(57770),ce=O(24850),ke=O(87224),we=O(18915),pe=O(92198),Le=O(48405),Te=O(12011),ut=O(69808),te=O(56217),Ke=O(29260);const et=new u.OlP("angularfire2.auth.use-emulator"),st=new u.OlP("angularfire2.auth.settings"),lt=new u.OlP("angularfire2.auth.tenant-id"),Pe=new u.OlP("angularfire2.auth.langugage-code"),ae=new u.OlP("angularfire2.auth.use-device-language"),Se=new u.OlP("angularfire.auth.persistence"),he=($e,Nt,Wt,dt,qe,nt,vt,Ge)=>(0,Te.cc)(`${$e.name}.auth`,"AngularFireAuth",$e.name,()=>{const ze=Nt.runOutsideAngular(()=>$e.auth());if(Wt&&ze.useEmulator(...Wt),dt&&(ze.tenantId=dt),ze.languageCode=qe,nt&&ze.useDeviceLanguage(),vt)for(const[at,jt]of Object.entries(vt))ze.settings[at]=jt;return Ge&&ze.setPersistence(Ge),ze},[Wt,dt,qe,nt,vt,Ge]);let Ae=(()=>{class $e{constructor(Wt,dt,qe,nt,vt,Ge,ze,at,jt,kt,Zt,Tn){const Rn=new P.xQ,hn=(0,k.of)(void 0).pipe((0,me.QV)(vt.outsideAngular),(0,Y.w)(()=>nt.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,89568)))),(0,ce.U)(()=>(0,Te.on)(Wt,nt,dt)),(0,ce.U)(Mn=>he(Mn,nt,Ge,at,jt,kt,ze,Zt)),ye({bufferSize:1,refCount:!1}));if((0,ut.PM)(qe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,k.of)(null);else{hn.pipe((0,ke.P)()).subscribe();const or=hn.pipe((0,Y.w)(Mt=>Mt.getRedirectResult().then(Qn=>Qn,()=>null)),Le.iC,ye({bufferSize:1,refCount:!1})),Dn=hn.pipe((0,Y.w)(Mt=>new Ie.y(Qn=>({unsubscribe:nt.runOutsideAngular(()=>Mt.onAuthStateChanged(Er=>Qn.next(Er),Er=>Qn.error(Er),()=>Qn.complete()))})))),Fr=hn.pipe((0,Y.w)(Mt=>new Ie.y(Qn=>({unsubscribe:nt.runOutsideAngular(()=>Mt.onIdTokenChanged(Er=>Qn.next(Er),Er=>Qn.error(Er),()=>Qn.complete()))}))));this.authState=or.pipe(X(Dn),(0,we.R)(vt.outsideAngular),(0,me.QV)(vt.insideAngular)),this.user=or.pipe(X(Fr),(0,we.R)(vt.outsideAngular),(0,me.QV)(vt.insideAngular)),this.idToken=this.user.pipe((0,Y.w)(Mt=>Mt?(0,Ee.D)(Mt.getIdToken()):(0,k.of)(null))),this.idTokenResult=this.user.pipe((0,Y.w)(Mt=>Mt?(0,Ee.D)(Mt.getIdTokenResult()):(0,k.of)(null))),this.credential=(0,ie.T)(or,Rn,this.authState.pipe((0,pe.h)(Mt=>!Mt))).pipe((0,ce.U)(Mt=>(null==Mt?void 0:Mt.user)?Mt:null),(0,we.R)(vt.outsideAngular),(0,me.QV)(vt.insideAngular))}return(0,Te.pX)(this,hn,nt,{spy:{apply:(Mn,or,Dn)=>{(Mn.startsWith("signIn")||Mn.startsWith("createUser"))&&Dn.then(Fr=>Rn.next(Fr))}}})}}return $e.\u0275fac=function(Wt){return new(Wt||$e)(u.LFG(Te.Dh),u.LFG(Te.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Le.HU),u.LFG(et,8),u.LFG(st,8),u.LFG(lt,8),u.LFG(Pe,8),u.LFG(ae,8),u.LFG(Se,8),u.LFG(te.nm,8))},$e.\u0275prov=u.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"any"}),$e})(),Ce=(()=>{class $e{constructor(){Ke.Z.registerVersion("angularfire",Le.q4.full,"auth-compat")}}return $e.\u0275fac=function(Wt){return new(Wt||$e)},$e.\u0275mod=u.oAB({type:$e}),$e.\u0275inj=u.cJS({providers:[Ae]}),$e})()},20478:(Kt,Je,O)=>{"use strict";O.d(Je,{ST:()=>Av,yb:()=>b0});var u=O(29863),P=O(20353),k=O(32916),Ie=O(5254),Ee=O(21086),ie=O(48405),de=O(43489);function ye(){return r=>r.lift(new le)}class le{call(e,t){return t.subscribe(new Y(e))}}class Y extends de.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var ae,X=O(1059),me=O(24850),ce=O(92014),ke=O(75778),we=O(92198),pe=O(12011),Le=O(69808),ut=(O(89568),O(63942)),te=O(15861),Ke=O(6881),Oe=O(34859),et=O(41877),st=O(42090),lt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Pe={},Se=Se||{},he=lt||self;function Ae(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Ce(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var Nt="closure_uid_"+(1e9*Math.random()>>>0),Wt=0;function dt(r,e,t){return r.call.apply(r.bind,arguments)}function qe(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function nt(r,e,t){return(nt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dt:qe).apply(null,arguments)}function vt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Ge(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,l){for(var f=Array(arguments.length-2),D=2;D<arguments.length;D++)f[D-2]=arguments[D];return e.prototype[a].apply(s,f)}}function ze(){this.s=this.s,this.o=this.o}ze.prototype.s=!1,ze.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function $e(r){Object.prototype.hasOwnProperty.call(r,Nt)&&r[Nt]||(r[Nt]=++Wt)}(this)},ze.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function kt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function Zt(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Ae(s)){const a=r.length||0,l=s.length||0;r.length=a+l;for(let f=0;f<l;f++)r[a+f]=s[f]}else r.push(s)}}function Tn(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Tn.prototype.h=function(){this.defaultPrevented=!0};var Rn=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{he.addEventListener("test",()=>{},e),he.removeEventListener("test",()=>{},e)}catch(t){}return r}();function hn(r){return/^[\s\xa0]*$/.test(r)}function Mn(){var r=he.navigator;return r&&(r=r.userAgent)?r:""}function or(r){return-1!=Mn().indexOf(r)}function Dn(r){return Dn[" "](r),r}Dn[" "]=function(){};var St,r,Mt=or("Opera"),Qn=or("Trident")||or("MSIE"),Er=or("Edge"),br=Er||Qn,rn=or("Gecko")&&!(-1!=Mn().toLowerCase().indexOf("webkit")&&!or("Edge"))&&!(or("Trident")||or("MSIE"))&&!or("Edge"),ti=-1!=Mn().toLowerCase().indexOf("webkit")&&!or("Edge");function On(){var r=he.document;return r?r.documentMode:void 0}e:{var Ue="",je=(r=Mn(),rn?/rv:([^\);]+)(\)|;)/.exec(r):Er?/Edge\/([\d\.]+)/.exec(r):Qn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):ti?/WebKit\/(\S+)/.exec(r):Mt?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(je&&(Ue=je?je[1]:""),Qn){var Dt=On();if(null!=Dt&&Dt>parseFloat(Ue)){St=String(Dt);break e}}St=Ue}var en=he.document&&Qn&&(On()||parseInt(St,10))||void 0;function wn(r,e){if(Tn.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(rn){e:{try{Dn(e.nodeName);var a=!0;break e}catch(l){}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:qn[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&wn.$.h.call(this)}}Ge(wn,Tn);var qn={2:"touch",3:"pen",4:"mouse"};wn.prototype.h=function(){wn.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Hn="closure_listenable_"+(1e6*Math.random()|0),Vr=0;function hr(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++Vr,this.fa=this.ia=!1}function cn(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function fn(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Bn(r){const e={};for(const t in r)e[t]=r[t];return e}const Pn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kn(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let l=0;l<Pn.length;l++)t=Pn[l],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function fr(r){this.src=r,this.g={},this.h=0}function pr(r,e){var t=e.type;if(t in r.g){var l,s=r.g[t],a=jt(s,e);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(cn(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Dr(r,e,t,s){for(var a=0;a<r.length;++a){var l=r[a];if(!l.fa&&l.listener==e&&l.capture==!!t&&l.la==s)return a}return-1}fr.prototype.add=function(r,e,t,s,a){var l=r.toString();(r=this.g[l])||(r=this.g[l]=[],this.h++);var f=Dr(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new hr(e,this.src,l,!!s,a)).ia=t,r.push(e)),e};var xr="closure_lm_"+(1e6*Math.random()|0),ar={};function Mr(r,e,t,s,a){if(s&&s.once)return se(r,e,t,s,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Mr(r,e[l],t,s,a);return null}return t=Sn(t),r&&r[Hn]?r.O(e,t,Ce(s)?!!s.capture:!!s,a):Fe(r,e,t,!1,s,a)}function Fe(r,e,t,s,a,l){if(!e)throw Error("Invalid event type");var f=Ce(a)?!!a.capture:!!a,D=sn(r);if(D||(r[xr]=D=new fr(r)),(t=D.add(e,t,s,f,l)).proxy)return t;if(s=function _e(){const e=Ct;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)Rn||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(tt(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function se(r,e,t,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)se(r,e[l],t,s,a);return null}return t=Sn(t),r&&r[Hn]?r.P(e,t,Ce(s)?!!s.capture:!!s,a):Fe(r,e,t,!0,s,a)}function fe(r,e,t,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)fe(r,e[l],t,s,a);else s=Ce(s)?!!s.capture:!!s,t=Sn(t),r&&r[Hn]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Dr(l=r.g[e],t,s,a))&&(cn(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete r.g[e],r.h--))):r&&(r=sn(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Dr(e,t,s,a)),(t=-1<r?e[r]:null)&&Q(t))}function Q(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Hn])pr(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(tt(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=sn(e))?(pr(t,r),0==t.h&&(t.src=null,e[xr]=null)):cn(r)}}}function tt(r){return r in ar?ar[r]:ar[r]="on"+r}function Ct(r,e){if(r.fa)r=!0;else{e=new wn(e,this);var t=r.listener,s=r.la||r.src;r.ia&&Q(r),r=t.call(s,e)}return r}function sn(r){return(r=r[xr])instanceof fr?r:null}var Un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(r){return"function"==typeof r?r:(r[Un]||(r[Un]=function(e){return r.handleEvent(e)}),r[Un])}function dn(){ze.call(this),this.i=new fr(this),this.S=this,this.J=null}function on(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new Tn(e,r);else if(e instanceof Tn)e.target=e.target||r;else{var a=e;Kn(e=new Tn(s,r),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var f=e.g=t[l];a=tr(f,s,!0,e)&&a}if(a=tr(f=e.g=r,s,!0,e)&&a,a=tr(f,s,!1,e)&&a,t)for(l=0;l<t.length;l++)a=tr(f=e.g=t[l],s,!1,e)&&a}function tr(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==t){var D=f.listener,F=f.la||f.src;f.ia&&pr(r.i,f),a=!1!==D.call(F,s)&&a}}return a&&!s.defaultPrevented}Ge(dn,ze),dn.prototype[Hn]=!0,dn.prototype.removeEventListener=function(r,e,t,s){fe(this,r,e,t,s)},dn.prototype.N=function(){if(dn.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)cn(t[s]);delete r.g[e],r.h--}}this.J=null},dn.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},dn.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var kn=he.JSON.stringify;function Rr(){var r=ln;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var ct=new class Gr{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Bt,r=>r.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Xt(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function Yn(r){he.setTimeout(()=>{throw r},0)}let In,Ft=!1,ln=new class It{constructor(){this.h=this.g=null}add(e,t){const s=ct.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},zn=()=>{const r=he.Promise.resolve(void 0);In=()=>{r.then(gr)}};var gr=()=>{for(var r;r=Rr();){try{r.h.call(r.g)}catch(t){Yn(t)}var e=ct;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Ft=!1};function Wr(r,e){dn.call(this),this.h=r||1,this.g=e||he,this.j=nt(this.qb,this),this.l=Date.now()}function Or(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function pi(r,e,t){if("function"==typeof r)t&&(r=nt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=nt(r.handleEvent,r)}return 2147483647<Number(e)?-1:he.setTimeout(r,e||0)}function Tr(r){r.g=pi(()=>{r.g=null,r.i&&(r.i=!1,Tr(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Ge(Wr,dn),(ae=Wr.prototype).ga=!1,ae.T=null,ae.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),on(this,"tick"),this.ga&&(Or(this),this.start()))}},ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ae.N=function(){Wr.$.N.call(this),Or(this),delete this.g};class Zr extends ze{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Tr(this)}N(){super.N(),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(r){ze.call(this),this.h=r,this.g={}}Ge(zr,ze);var Zn=[];function gi(r,e,t,s){Array.isArray(t)||(t&&(Zn[0]=t.toString()),t=Zn);for(var a=0;a<t.length;a++){var l=Mr(e,t[a],s||r.handleEvent,!1,r.h||r);if(!l)break;r.g[l.key]=l}}function yr(r){fn(r.g,function(e,t){this.g.hasOwnProperty(t)&&Q(e)},r),r.g={}}function si(){this.g=!0}function ge(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xe(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<a.length;f++)a[f]=""}}}return kn(t)}catch(D){return e}}(r,t)+(s?" "+s:"")})}zr.prototype.N=function(){zr.$.N.call(this),yr(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},si.prototype.Ea=function(){this.g=!1},si.prototype.info=function(){};var Be={},rt=null;function bt(){return rt=rt||new dn}function Rt(r){Tn.call(this,Be.Ta,r)}function At(r){const e=bt();on(e,new Rt(e))}function Ht(r,e){Tn.call(this,Be.STAT_EVENT,r),this.stat=e}function nn(r){const e=bt();on(e,new Ht(e,r))}function Nn(r,e){Tn.call(this,Be.Ua,r),this.size=e}function xn(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){r()},e)}Be.Ta="serverreachability",Ge(Rt,Tn),Be.STAT_EVENT="statevent",Ge(Ht,Tn),Be.Ua="timingevent",Ge(Nn,Tn);var rr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Lr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ci(){}function gs(){}ci.prototype.h=null;var Lt,Ze={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ye(){Tn.call(this,"d")}function ft(){Tn.call(this,"c")}function qt(){}function Ln(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new zr(this),this.P=Pr,this.V=new Wr(r=br?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vr}function vr(){this.i=null,this.g="",this.h=!1}Ge(Ye,Tn),Ge(ft,Tn),Ge(qt,ci),qt.prototype.g=function(){return new XMLHttpRequest},qt.prototype.i=function(){return{}},Lt=new qt;var Pr=45e3,Ir={},Ji={};function es(r,e,t){r.L=1,r.v=Wi(Ci(e)),r.s=t,r.S=!0,Ii(r,null)}function Ii(r,e){r.G=Date.now(),oi(r),r.A=Ci(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),Ur(t.i,"t",s),r.C=0,t=r.l.J,r.h=new vr,r.g=_a(r.l,t?e:null,!r.s),0<r.O&&(r.M=new Zr(nt(r.Pa,r,r.g),r.O)),gi(r.U,r.g,"readystatechange",r.nb),e=r.I?Bn(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),At(),function Ei(r,e,t,s,a,l){r.info(function(){if(r.g)if(l)for(var f="",D=l.split("&"),F=0;F<D.length;F++){var j=D[F].split("=");if(1<j.length){var ne=j[0];j=j[1];var Ve=ne.split("_");f=2<=Ve.length&&"type"==Ve[1]?f+(ne+"=")+j+"&":f+(ne+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Gi(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function zi(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=js(r,t),a==Ji){4==e&&(r.o=4,nn(14),s=!1),ge(r.j,r.m,null,"[Incomplete Response]");break}if(a==Ir){r.o=4,nn(15),ge(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}ge(r.j,r.m,a,null),z(r,a)}Gi(r)&&a!=Ji&&a!=Ir&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,nn(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ao(e),e.M=!0,nn(11))):(ge(r.j,r.m,t,"[Invalid Chunked Response]"),be(r),ve(r))}function js(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?Ji:(t=Number(e.substring(t,s)),isNaN(t)?Ir:(s+=1)+t>e.length?Ji:(e=e.slice(s,s+t),r.C=s+t,e))}function oi(r){r.Y=Date.now()+r.P,Ts(r,r.P)}function Ts(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=xn(nt(r.lb,r),e)}function yi(r){r.B&&(he.clearTimeout(r.B),r.B=null)}function ve(r){0==r.l.H||r.J||ja(r.l,r)}function be(r){yi(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,Or(r.V),yr(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function z(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||$(t.i,r)))if(!r.K&&$(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch(j){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=xn(nt(t.ib,t),6e3));else{if(t.g){if(!(t.g.G+3e3<r.G))break e;Hs(t),To(t)}Ua(t),nn(18)}if(1>=y(t.i)&&t.oa){try{t.oa()}catch(j){}t.oa=void 0}}else Oi(t,11)}else if((r.K||t.g==r)&&Hs(t),!hn(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let j=a[e];if(t.V=j[0],j=j[1],2==t.H)if("c"==j[0]){t.K=j[1],t.pa=j[2];const ne=j[3];null!=ne&&(t.ra=ne,t.l.info("VER="+t.ra));const Ve=j[4];null!=Ve&&(t.Ga=Ve,t.l.info("SVER="+t.Ga));const _t=j[5];null!=_t&&"number"==typeof _t&&0<_t&&(t.L=s=1.5*_t,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const Ut=r.g;if(Ut){const un=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(un){var l=s.i;l.g||-1==un.indexOf("spdy")&&-1==un.indexOf("quic")&&-1==un.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(m(l,l.h),l.h=null))}if(s.F){const bn=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;bn&&(s.Da=bn,$r(s.I,s.F,bn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=Ai(s,s.J?s.pa:null,s.Y),f.K){B(s.i,f);var D=f,F=s.L;F&&D.setTimeout(F),D.B&&(yi(D),oi(D)),s.g=f}else So(s);0<t.j.length&&fo(t)}else"stop"!=j[0]&&"close"!=j[0]||Oi(t,7);else 3==t.H&&("stop"==j[0]||"close"==j[0]?"stop"==j[0]?Oi(t,7):Do(t):"noop"!=j[0]&&t.h&&t.h.Aa(j),t.A=0)}At()}catch(j){}}function Jt(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Ae(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function it(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if("undefined"!=typeof Map&&r instanceof Map)return Array.from(r.keys());if(!("undefined"!=typeof Set&&r instanceof Set)){if(Ae(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function Ne(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if("undefined"!=typeof Map&&r instanceof Map||"undefined"!=typeof Set&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Ae(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,l=0;l<a;l++)e.call(void 0,s[l],t&&t[l],r)}(ae=Ln.prototype).setTimeout=function(r){this.P=r},ae.nb=function(r){r=r.target;const e=this.M;e&&3==is(r)?e.l():this.Pa(r)},ae.Pa=function(r){try{if(r==this.g)e:{const ne=is(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ne)&&(3!=ne||br||this.g&&(this.h.h||this.g.ja()||ma(this.g)))){this.J||4!=ne||7==e||At(),yi(this);var t=this.g.da();this.ca=t;t:if(Gi(this)){var s=ma(this.g);r="";var a=s.length,l=4==is(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){be(this),ve(this);var f="";break t}this.h.i=new he.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function q(r,e,t,s,a,l,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,ne,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,F=this.g;if((D=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hn(D)){var j=D;break t}}j=null}if(!(t=j)){this.i=!1,this.o=3,nn(12),be(this),ve(this);break e}ge(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,z(this,t)}this.S?(zi(this,ne,f),br&&this.i&&3==ne&&(gi(this.U,this.V,"tick",this.mb),this.V.start())):(ge(this.j,this.m,f,null),z(this,f)),4==ne&&be(this),this.i&&!this.J&&(4==ne?ja(this.l,this):(this.i=!1,oi(this)))}else(function As(r){const e={};r=(r.g&&2<=is(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(hn(r[s]))continue;var t=Xt(r[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const l=e[a]||[];e[a]=l,l.push(t)}!function wr(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,nn(12)):(this.o=0,nn(13)),be(this),ve(this)}}}catch(ne){}},ae.mb=function(){if(this.g){var r=is(this.g),e=this.g.ja();this.C<e.length&&(yi(this),zi(this,r,e),this.i&&4!=r&&oi(this))}},ae.cancel=function(){this.J=!0,be(this)},ae.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function ee(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(At(),nn(17)),be(this),this.o=2,ve(this)):Ts(this,this.Y-r)};var $n=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kr(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof kr){this.h=r.h,Pi(this,r.j),this.s=r.s,this.g=r.g,ki(this,r.m),this.l=r.l;var e=r.i,t=new We;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ts(this,t),this.o=r.o}else r&&(e=String(r).match($n))?(this.h=!1,Pi(this,e[1]||"",!0),this.s=vi(e[2]||""),this.g=vi(e[3]||"",!0),ki(this,e[4]),this.l=vi(e[5]||"",!0),ts(this,e[6]||"",!0),this.o=vi(e[7]||"")):(this.h=!1,this.i=new We(null,this.h))}function Ci(r){return new kr(r)}function Pi(r,e,t){r.j=t?vi(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function ki(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ts(r,e,t){e instanceof We?(r.i=e,function Qr(r,e){e&&!r.j&&(gt(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Yt(this,s),Ur(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=ws(e,N)),r.i=new We(e,r.h))}function $r(r,e,t){r.i.set(e,t)}function Wi(r){return $r(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function vi(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function ws(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Ss),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Ss(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}kr.prototype.toString=function(){var r=[],e=this.j;e&&r.push(ws(e,ks,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(ws(e,ks,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(ws(t,"/"==t.charAt(0)?J:L,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",ws(t,oe)),r.join("")};var ks=/[#\/\?@]/g,L=/[#\?:]/g,J=/[#\?]/g,N=/[#\?@]/g,oe=/#/g;function We(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function gt(r){r.g||(r.g=new Map,r.h=0,r.i&&function ur(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var l=r[t].substring(0,s);a=r[t].substring(s+1)}else l=r[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Yt(r,e){gt(r),e=cr(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function _n(r,e){return gt(r),e=cr(r,e),r.g.has(e)}function Ur(r,e,t){Yt(r,e),0<t.length&&(r.i=null,r.g.set(cr(r,e),kt(t)),r.h+=t.length)}function cr(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function ni(r){this.l=r||Nr,r=he.PerformanceNavigationTiming?0<(r=he.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(he.g&&he.g.Ka&&he.g.Ka()&&he.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ae=We.prototype).add=function(r,e){gt(this),this.i=null,r=cr(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ae.forEach=function(r,e){gt(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},ae.ta=function(){gt(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let l=0;l<a.length;l++)t.push(e[s])}return t},ae.Z=function(r){gt(this);let e=[];if("string"==typeof r)_n(this,r)&&(e=e.concat(this.g.get(cr(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},ae.set=function(r,e){return gt(this),this.i=null,_n(this,r=cr(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ae.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const l=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=l;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var Nr=10;function Ri(r){return!!r.h||!!r.g&&r.g.size>=r.j}function y(r){return r.h?1:r.g?r.g.size:0}function $(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function m(r,e){r.g?r.g.add(e):r.h=e}function B(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function _(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return kt(r.i)}function A(){this.g=new class{stringify(r){return he.JSON.stringify(r,void 0)}parse(r){return he.JSON.parse(r,void 0)}}}function K(r,e,t){const s=t||"";try{Jt(r,function(a,l){let f=a;Ce(a)&&(f=kn(a)),e.push(s+l+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function tn(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(l){}}function ir(r){this.l=r.fc||null,this.j=r.ob||!1}function Br(r,e){dn.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=Di,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ni.prototype.cancel=function(){if(this.i=_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},Ge(ir,ci),ir.prototype.g=function(){return new Br(this.l,this.j)},ir.prototype.i=function(r){return function(){return r}}({}),Ge(Br,dn);var Di=0;function Vt(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function sr(r){r.readyState=4,r.l=null,r.j=null,r.A=null,ns(r)}function ns(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ae=Br.prototype).open=function(r,e){if(this.readyState!=Di)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,ns(this)},ae.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||he).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sr(this)),this.readyState=Di},ae.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,ns(this)),this.g&&(this.readyState=3,ns(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==he.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vt(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},ae.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?sr(this):ns(this),3==this.readyState&&Vt(this)}},ae.Za=function(r){this.g&&(this.response=this.responseText=r,sr(this))},ae.Ya=function(r){this.g&&(this.response=r,sr(this))},ae.ka=function(){this.g&&sr(this)},ae.setRequestHeader=function(r,e){this.v.append(r,e)},ae.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ae.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var bi=he.JSON.parse;function Ti(r){dn.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ns,this.L=this.M=!1}Ge(Ti,dn);var Ns="",Ni=/^https?$/i,ga=["POST","PUT"];function Zo(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Va(r),ho(r)}function Va(r){r.F||(r.F=!0,on(r,"complete"),on(r,"error"))}function Fo(r){if(r.h&&void 0!==Se&&(!r.C[1]||4!=is(r)||2!=r.da()))if(r.v&&4==is(r))pi(r.La,0,r);else if(on(r,"readystatechange"),4==is(r)){r.h=!1;try{const f=r.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===f){var a=String(r.I).match($n)[1]||null;!a&&he.self&&he.self.location&&(a=he.self.location.protocol.slice(0,-1)),s=!Ni.test(a?a.toLowerCase():"")}t=s}if(t)on(r,"complete"),on(r,"success");else{r.m=6;try{var l=2<is(r)?r.g.statusText:""}catch(D){l=""}r.j=l+" ["+r.da()+"]",Va(r)}}finally{ho(r)}}}function ho(r,e){if(r.g){rs(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||on(r,"ready");try{t.onreadystatechange=s}catch(a){}}}function rs(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(he.clearTimeout(r.A),r.A=null)}function is(r){return r.g?r.g.readyState:0}function ma(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Ns:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Fs(r){let e="";return fn(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Xo(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Fs(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):$r(r,e,t))}function no(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function ya(r){this.Ga=0,this.j=[],this.l=new si,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=no("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=no("baseRetryDelayMs",5e3,r),this.hb=no("retryDelaySeedMs",1e4,r),this.eb=no("forwardChannelMaxRetries",2,r),this.xa=no("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new ni(r&&r.concurrentRequestLimit),this.Ja=new A,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Do(r){if($a(r),3==r.H){var e=r.W++,t=Ci(r.I);if($r(t,"SID",r.K),$r(t,"RID",e),$r(t,"TYPE","terminate"),Si(r,t),(e=new Ln(r,r.l,e)).L=2,e.v=Wi(Ci(t)),t=!1,he.navigator&&he.navigator.sendBeacon)try{t=he.navigator.sendBeacon(e.v.toString(),"")}catch(s){}!t&&he.Image&&((new Image).src=e.v,t=!0),t||(e.g=_a(e.l,null),e.g.ha(e.v)),e.G=Date.now(),oi(e)}Gs(r)}function To(r){r.g&&(Ao(r),r.g.cancel(),r.g=null)}function $a(r){To(r),r.u&&(he.clearTimeout(r.u),r.u=null),Hs(r),r.i.cancel(),r.m&&("number"==typeof r.m&&he.clearTimeout(r.m),r.m=null)}function fo(r){if(!Ri(r.i)&&!r.m){r.m=!0;var e=r.Na;In||zn(),Ft||(In(),Ft=!0),ln.add(e,r),r.C=0}}function _u(r,e){var t;t=e?e.m:r.W++;const s=Ci(r.I);$r(s,"SID",r.K),$r(s,"RID",t),$r(s,"AID",r.V),Si(r,s),r.o&&r.s&&Xo(s,r.o,r.s),t=new Ln(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Lo(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),m(r.i,t),es(t,s,e)}function Si(r,e){r.na&&fn(r.na,function(t,s){$r(e,s,t)}),r.h&&Jt({},function(t,s){$r(e,s,t)})}function Lo(r,e,t){t=Math.min(r.j.length,t);var s=r.h?nt(r.h.Va,r.h,r):null;e:{var a=r.j;let l=-1;for(;;){const f=["count="+t];-1==l?0<t?(l=a[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let D=!0;for(let F=0;F<t;F++){let j=a[F].g;const ne=a[F].map;if(j-=l,0>j)l=Math.max(0,a[F].g-100),D=!1;else try{K(ne,f,"req"+j+"_")}catch(Ve){s&&s(ne)}}if(D){s=f.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function So(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;In||zn(),Ft||(In(),Ft=!0),ln.add(e,r),r.A=0}}function Ua(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=xn(nt(r.Ma,r),Jo(r,r.A)),r.A++,0))}function Ao(r){null!=r.B&&(he.clearTimeout(r.B),r.B=null)}function Qo(r){r.g=new Ln(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Ci(r.wa);$r(e,"RID","rpc"),$r(e,"SID",r.K),$r(e,"AID",r.V),$r(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&$r(e,"TO",r.qa),$r(e,"TYPE","xmlhttp"),Si(r,e),r.o&&r.s&&Xo(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=Wi(Ci(e)),t.s=null,t.S=!0,Ii(t,r)}function Hs(r){null!=r.v&&(he.clearTimeout(r.v),r.v=null)}function ja(r,e){var t=null;if(r.g==e){Hs(r),Ao(r),r.g=null;var s=2}else{if(!$(r.i,e))return;t=e.F,B(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;on(s=bt(),new Nn(s,t)),fo(r)}else So(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function va(r,e){return!(y(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=xn(nt(r.Na,r,e),Jo(r,r.C)),r.C++,0)))}(r,e)||2==s&&Ua(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Oi(r,5);break;case 4:Oi(r,10);break;case 3:Oi(r,6);break;default:Oi(r,2)}}function Jo(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Oi(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=nt(r.pb,r);t||(t=new kr("//www.google.com/images/cleardot.gif"),he.location&&"http"==he.location.protocol||Pi(t,"https"),Wi(t)),function pt(r,e){const t=new si;if(he.Image){const s=new Image;s.onload=vt(tn,t,s,"TestLoadImage: loaded",!0,e),s.onerror=vt(tn,t,s,"TestLoadImage: error",!1,e),s.onabort=vt(tn,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=vt(tn,t,s,"TestLoadImage: timeout",!1,e),he.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else nn(2);r.H=0,r.h&&r.h.za(e),Gs(r),$a(r)}function Gs(r){if(r.H=0,r.ma=[],r.h){const e=_(r.i);(0!=e.length||0!=r.j.length)&&(Zt(r.ma,e),Zt(r.ma,r.j),r.i.i.length=0,kt(r.j),r.j.length=0),r.h.ya()}}function Ai(r,e,t){var s=t instanceof kr?Ci(t):new kr(t);if(""!=s.g)e&&(s.g=e+"."+s.g),ki(s,s.m);else{var a=he.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var l=new kr(null);s&&Pi(l,s),e&&(l.g=e),a&&ki(l,a),t&&(l.l=t),s=l}return e=r.Da,(t=r.F)&&e&&$r(s,t,e),$r(s,"VER",r.ra),Si(r,s),s}function _a(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ti(t&&r.Ha&&!r.va?new ir({ob:!0}):r.va)).Oa(r.J),e}function Ha(){}function Ki(){if(Qn&&!(10<=Number(en)))throw Error("Environmental error: no available transport.")}function ms(r,e){dn.call(this),this.g=new ya(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!hn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hn(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new cs(this)}function Ea(r){Ye.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Bo(){ft.call(this),this.status=1}function cs(r){this.g=r}function Is(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Vo(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var l=r.g[3],f=(e=r.g[0])+(l^(t=r.g[1])&((a=r.g[2])^l))+s[0]+3614090360&4294967295;f=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=t+(f<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(a^l))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(a^l))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(a^l))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^l&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^l)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^l)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^l)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^l)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~l))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~l))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~l))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=t+((f=e+(a^(t|~l))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=l+((f=a+(e^(l|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+l&4294967295}function Jr(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var l=0|r[a];s&&l==e||(t[a]=l,s=!1)}this.g=t}(ae=Ti.prototype).Oa=function(r){this.M=r},ae.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Lt.g(),this.C=function mi(r){return r.h||(r.h=r.i())}(this.u?this.u:Lt),this.g.onreadystatechange=nt(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(l){return void Zo(this,l)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const l of s.keys())t.set(l,s.get(l))}s=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),a=he.FormData&&r instanceof he.FormData,!(0<=jt(ga,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of t)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{rs(this),0<this.B&&((this.L=function No(r){return Qn&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nt(this.ua,this)):this.A=pi(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(l){Zo(this,l)}},ae.ua=function(){void 0!==Se&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,on(this,"timeout"),this.abort(8))},ae.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,on(this,"complete"),on(this,"abort"),ho(this))},ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ho(this,!0)),Ti.$.N.call(this)},ae.La=function(){this.s||(this.G||this.v||this.l?Fo(this):this.kb())},ae.kb=function(){Fo(this)},ae.isActive=function(){return!!this.g},ae.da=function(){try{return 2<is(this)?this.g.status:-1}catch(r){return-1}},ae.ja=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},ae.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),bi(e)}},ae.Ia=function(){return this.m},ae.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ae=ya.prototype).ra=8,ae.H=1,ae.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new Ln(this,this.l,r);let l=this.s;if(this.U&&(l?(l=Bn(l),Kn(l,this.U)):l=this.U),null!==this.o||this.O||(a.I=l,l=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Lo(this,a,e),$r(t=Ci(this.I),"RID",r),$r(t,"CVER",22),this.F&&$r(t,"X-HTTP-Session-Id",this.F),Si(this,t),l&&(this.O?e="headers="+encodeURIComponent(String(Fs(l)))+"&"+e:this.o&&Xo(t,this.o,l)),m(this.i,a),this.bb&&$r(t,"TYPE","init"),this.P?($r(t,"$req",e),$r(t,"SID","null"),a.aa=!0,es(a,t,null)):es(a,t,e),this.H=2}}else 3==this.H&&(r?_u(this,r):0==this.j.length||Ri(this.i)||_u(this))},ae.Ma=function(){if(this.u=null,Qo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=xn(nt(this.jb,this),r)}},ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,nn(10),To(this),Qo(this))},ae.ib=function(){null!=this.v&&(this.v=null,To(this),Ua(this),nn(19))},ae.pb=function(r){r?(this.l.info("Successfully pinged google.com"),nn(2)):(this.l.info("Failed to ping google.com"),nn(1))},ae.isActive=function(){return!!this.h&&this.h.isActive(this)},(ae=Ha.prototype).Ba=function(){},ae.Aa=function(){},ae.za=function(){},ae.ya=function(){},ae.isActive=function(){return!0},ae.Va=function(){},Ki.prototype.g=function(r,e){return new ms(r,e)},Ge(ms,dn),ms.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;nn(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=Ai(r,null,r.Y),fo(r)},ms.prototype.close=function(){Do(this.g)},ms.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=kn(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&fo(e)},ms.prototype.N=function(){this.g.h=null,delete this.j,Do(this.g),delete this.g,ms.$.N.call(this)},Ge(Ea,Ye),Ge(Bo,ft),Ge(cs,Ha),cs.prototype.Ba=function(){on(this.g,"a")},cs.prototype.Aa=function(r){on(this.g,new Ea(r))},cs.prototype.za=function(r){on(this.g,new Bo)},cs.prototype.ya=function(){on(this.g,"b")},Ge(Is,function zs(){this.blockSize=-1}),Is.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Is.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,l=0;l<e;){if(0==a)for(;l<=t;)Vo(this,r,l),l+=this.blockSize;if("string"==typeof r){for(;l<e;)if(s[a++]=r.charCodeAt(l++),a==this.blockSize){Vo(this,s),a=0;break}}else for(;l<e;)if(s[a++]=r[l++],a==this.blockSize){Vo(this,s),a=0;break}}this.h=a,this.i+=e},Is.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var Eu={};function Zs(r){return-128<=r&&128>r?function Fr(r,e){var t=Eu;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Jr([0|e],0>e?-1:0)}):new Jr([0|r],0>r?-1:0)}function xs(r){if(isNaN(r)||!isFinite(r))return ls;if(0>r)return ds(xs(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=Wu;return new Jr(e,0)}var Wu=4294967296,ls=Zs(0),ba=Zs(1),wu=Zs(16777216);function xo(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Xs(r){return-1==r.h}function ds(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Jr(t,~r.h).add(ba)}function po(r,e){return r.add(ds(e))}function Ls(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function ro(r,e){this.g=r,this.h=e}function go(r,e){if(xo(e))throw Error("division by zero");if(xo(r))return new ro(ls,ls);if(Xs(r))return e=go(ds(r),e),new ro(ds(e.g),ds(e.h));if(Xs(e))return e=go(r,ds(e)),new ro(ds(e.g),e.h);if(30<r.g.length){if(Xs(r)||Xs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ba,s=e;0>=s.X(r);)t=Ga(t),s=Ga(s);var a=mo(t,1),l=mo(s,1);for(s=mo(s,2),t=mo(t,2);!xo(s);){var f=l.add(s);0>=f.X(r)&&(a=a.add(t),l=f),s=mo(s,1),t=mo(t,1)}return e=po(r,a.R(e)),new ro(a,e)}for(a=ls;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(l=xs(t)).R(e);Xs(f)||0<f.X(r);)f=(l=xs(t-=s)).R(e);xo(l)&&(l=ba),a=a.add(l),r=po(r,f)}return new ro(a,r)}function Ga(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Jr(t,r.h)}function mo(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],l=0;l<s;l++)a[l]=0<e?r.D(l+t)>>>e|r.D(l+t+1)<<32-e:r.D(l+t);return new Jr(a,r.h)}(ae=Jr.prototype).ea=function(){if(Xs(this))return-ds(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:Wu+s)*e,e*=Wu}return r},ae.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(xo(this))return"0";if(Xs(this))return"-"+ds(this).toString(r);for(var e=xs(Math.pow(r,6)),t=this,s="";;){var a=go(t,e).g,l=((0<(t=po(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(xo(t=a))return l+s;for(;6>l.length;)l="0"+l;s=l+s}},ae.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},ae.X=function(r){return Xs(r=po(this,r))?-1:xo(r)?0:1},ae.abs=function(){return Xs(this)?ds(this):this},ae.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var l=s+(65535&this.D(a))+(65535&r.D(a)),f=(l>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(l&=65535)}return new Jr(t,-2147483648&t[t.length-1]?-1:0)},ae.R=function(r){if(xo(this)||xo(r))return ls;if(Xs(this))return Xs(r)?ds(this).R(ds(r)):ds(ds(this).R(r));if(Xs(r))return ds(this.R(ds(r)));if(0>this.X(wu)&&0>r.X(wu))return xs(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var l=this.D(s)>>>16,f=65535&this.D(s),D=r.D(a)>>>16,F=65535&r.D(a);t[2*s+2*a]+=f*F,Ls(t,2*s+2*a),t[2*s+2*a+1]+=l*F,Ls(t,2*s+2*a+1),t[2*s+2*a+1]+=f*D,Ls(t,2*s+2*a+1),t[2*s+2*a+2]+=l*D,Ls(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Jr(t,0)},ae.gb=function(r){return go(this,r).h},ae.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Jr(t,this.h&r.h)},ae.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Jr(t,this.h|r.h)},ae.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Jr(t,this.h^r.h)},Ki.prototype.createWebChannel=Ki.prototype.g,ms.prototype.send=ms.prototype.u,ms.prototype.open=ms.prototype.m,ms.prototype.close=ms.prototype.close,rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,Lr.COMPLETE="complete",gs.EventType=Ze,Ze.OPEN="a",Ze.CLOSE="b",Ze.ERROR="c",Ze.MESSAGE="d",dn.prototype.listen=dn.prototype.O,Ti.prototype.listenOnce=Ti.prototype.P,Ti.prototype.getLastError=Ti.prototype.Sa,Ti.prototype.getLastErrorCode=Ti.prototype.Ia,Ti.prototype.getStatus=Ti.prototype.da,Ti.prototype.getResponseJson=Ti.prototype.Wa,Ti.prototype.getResponseText=Ti.prototype.ja,Ti.prototype.send=Ti.prototype.ha,Ti.prototype.setWithCredentials=Ti.prototype.Oa,Is.prototype.digest=Is.prototype.l,Is.prototype.reset=Is.prototype.reset,Is.prototype.update=Is.prototype.j,Jr.prototype.add=Jr.prototype.add,Jr.prototype.multiply=Jr.prototype.R,Jr.prototype.modulo=Jr.prototype.gb,Jr.prototype.compare=Jr.prototype.X,Jr.prototype.toNumber=Jr.prototype.ea,Jr.prototype.toString=Jr.prototype.toString,Jr.prototype.getBits=Jr.prototype.D,Jr.fromNumber=xs,Jr.fromString=function bu(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return ds(bu(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=xs(Math.pow(e,8)),s=ls,a=0;a<r.length;a+=8){var l=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+l),e);8>l?(l=xs(Math.pow(e,l)),s=s.R(l).add(xs(f))):s=(s=s.R(t)).add(xs(f))}return s};var $o=Pe.createWebChannelTransport=function(){return new Ki},Iu=Pe.getStatEventTarget=function(){return bt()},Mo=Pe.ErrorCode=rr,ea=Pe.EventType=Lr,Ro=Pe.Event=Be,Cc=Pe.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},x=Pe.FetchXmlHttpFactory=ir,T=Pe.WebChannel=gs,b=Pe.XhrIo=Ti,V=Pe.Md5=Is,U=Pe.Integer=Jr;const re="@firebase/firestore";class Re{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Re.UNAUTHENTICATED=new Re(null),Re.GOOGLE_CREDENTIALS=new Re("google-credentials-uid"),Re.FIRST_PARTY=new Re("first-party-uid"),Re.MOCK_USER=new Re("mock-user");let He="9.23.0";const Ot=new et.Yd("@firebase/firestore");function Vn(){return Ot.logLevel}function yt(r,...e){if(Ot.logLevel<=et.in.DEBUG){const t=e.map(Cs);Ot.debug(`Firestore (${He}): ${r}`,...t)}}function lr(r,...e){if(Ot.logLevel<=et.in.ERROR){const t=e.map(Cs);Ot.error(`Firestore (${He}): ${r}`,...t)}}function Xn(r,...e){if(Ot.logLevel<=et.in.WARN){const t=e.map(Cs);Ot.warn(`Firestore (${He}): ${r}`,...t)}}function Cs(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(t){return r}}function En(r="Unexpected state"){const e=`FIRESTORE (${He}) INTERNAL ASSERTION FAILED: `+r;throw lr(e),new Error(e)}function jn(r,e){r||En()}function mn(r,e){return r}const Tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $t extends st.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ss{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ku{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Re.UNAUTHENTICATED))}shutdown(){}}class ta{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Uo{constructor(e){this.t=e,this.currentUser=Re.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const l=j=>this.i!==a?(a=this.i,t(j)):Promise.resolve();let f=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Fi,e.enqueueRetryable(()=>l(this.currentUser))};const D=()=>{const j=f;e.enqueueRetryable((0,te.Z)(function*(){yield j.promise,yield l(s.currentUser)}))},F=j=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=j,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(j=>F(j)),setTimeout(()=>{if(!this.auth){const j=this.t.getImmediate({optional:!0});j?F(j):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Fi)}},0),D()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jn("string"==typeof s.accessToken),new ss(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return jn(null===e||"string"==typeof e),new Re(e)}}class za{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Re.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class na{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new za(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Re.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wa{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=l=>{null!=l.error&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,yt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?a(l):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(jn("string"==typeof t.token),this.T=t.token,new Yu(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qu(r){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Dc{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=qu(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}function Gn(r,e){return r<e?-1:r>e?1:0}function Wa(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}function wh(r){return r+"\0"}class Li{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $t(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $t(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $t(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $t(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Li.fromMillis(Date.now())}static fromDate(e){return Li.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Li(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gn(this.nanoseconds,e.nanoseconds):Gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new nr(e)}static min(){return new nr(new Li(0,0))}static max(){return new nr(new Li(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Du{constructor(e,t,s){void 0===t?t=0:t>e.length&&En(),void 0===s?s=e.length-t:s>e.length-t&&En(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Du.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Du?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=e.get(a),f=t.get(a);if(l<f)return-1;if(l>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ei extends Du{construct(e,t,s){return new ei(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new $t(Tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new ei(t)}static emptyPath(){return new ei([])}}const Ih=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _i extends Du{construct(e,t,s){return new _i(e,t,s)}static isValidIdentifier(e){return Ih.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _i(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(0===s.length)throw new $t(Tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const D=e[a];if("\\"===D){if(a+1===e.length)throw new $t(Tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[a+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new $t(Tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=F,a+=2}else"`"===D?(f=!f,a++):"."!==D||f?(s+=D,a++):(l(),a++)}if(l(),f)throw new $t(Tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _i(t)}static emptyPath(){return new _i([])}}class vn{constructor(e){this.path=e}static fromPath(e){return new vn(ei.fromString(e))}static fromName(e){return new vn(ei.fromString(e).popFirst(5))}static empty(){return new vn(ei.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ei.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ei.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vn(new ei(e.slice()))}}class Bi{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function Ka(r){return r.fields.find(e=>2===e.kind)}function Qs(r){return r.fields.filter(e=>2!==e.kind)}Bi.UNKNOWN_ID=-1;class Zu{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ms{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ms(0,ys.min())}}function Tc(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=nr.fromTimestamp(1e9===s?new Li(t+1,0):new Li(t,s));return new ys(a,vn.empty(),e)}function Ia(r){return new ys(r.readTime,r.key,-1)}class ys{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ys(nr.min(),vn.empty(),-1)}static max(){return new ys(nr.max(),vn.empty(),-1)}}function Ya(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=vn.comparator(r.documentKey,e.documentKey),0!==t?t:Gn(r.largestBatchId,e.largestBatchId))}const sl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function jo(r){return Qu.apply(this,arguments)}function Qu(){return Qu=(0,te.Z)(function*(r){if(r.code!==Tt.FAILED_PRECONDITION||r.message!==sl)throw r;yt("LocalStore","Unexpectedly lost primary lease")}),Qu.apply(this,arguments)}class Et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&En(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Et((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Et?t:Et.resolve(t)}catch(t){return Et.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Et.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Et.reject(t)}static resolve(e){return new Et((t,s)=>{t(e)})}static reject(e){return new Et((t,s)=>{s(e)})}static waitFor(e){return new Et((t,s)=>{let a=0,l=0,f=!1;e.forEach(D=>{++a,D.next(()=>{++l,f&&l===a&&t()},F=>s(F))}),f=!0,l===a&&t()})}static or(e){let t=Et.resolve(!1);for(const s of e)t=t.next(a=>a?Et.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new Et((s,a)=>{const l=e.length,f=new Array(l);let D=0;for(let F=0;F<l;F++){const j=F;t(e[j]).next(ne=>{f[j]=ne,++D,D===l&&s(f)},ne=>a(ne))}})}static doWhile(e,t){return new Et((s,a)=>{const l=()=>{!0===e()?t().next(()=>{l()},a):s()};l()})}}class vs{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Fi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new ia(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const a=Sc(s.target.error);this.v.reject(new ia(e,a))}}static open(e,t,s,a){try{return new vs(t,e.transaction(a,s))}catch(l){throw new ia(t,l)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(yt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ju(t)}}class Bs{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===Bs.S((0,st.z$)())&&lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return yt("SimpleDb","Removing database:",e),Ca(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,st.hl)())return!1;if(Bs.C())return!0;const e=(0,st.z$)(),t=Bs.S(e),s=0<t&&t<10,a=Bs.N(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||l)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,te.Z)(function*(){return t.db||(yt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=f=>{s(f.target.result)},l.onblocked=()=>{a(new ia(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=f=>{const D=f.target.error;a("VersionError"===D.name?new $t(Tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new $t(Tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new ia(e,D))},l.onupgradeneeded=f=>{yt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.V.O(f.target.result,l.transaction,f.oldVersion,t.version).next(()=>{yt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var l=this;return(0,te.Z)(function*(){const f="readonly"===t;let D=0;for(;;){++D;try{l.db=yield l.$(e);const F=vs.open(l.db,e,f?"readonly":"readwrite",s),j=a(F).next(ne=>(F.P(),ne)).catch(ne=>(F.abort(ne),Et.reject(ne))).toPromise();return j.catch(()=>{}),yield F.R,j}catch(F){const j=F,ne="FirebaseError"!==j.name&&D<3;if(yt("SimpleDb","Transaction failed with error:",j.message,"Retrying:",ne),l.close(),!ne)return Promise.reject(j)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ra{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ca(this.L.delete())}}class ia extends $t{constructor(e,t){super(Tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Js(r){return"IndexedDbTransactionError"===r.name}class Ju{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(yt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(yt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Ca(s)}add(e){return yt("SimpleDb","ADD",this.store.name,e,e),Ca(this.store.add(e))}get(e){return Ca(this.store.get(e)).next(t=>(void 0===t&&(t=null),yt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return yt("SimpleDb","DELETE",this.store.name,e),Ca(this.store.delete(e))}count(){return yt("SimpleDb","COUNT",this.store.name),Ca(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),l=[];return this.W(a,(f,D)=>{l.push(D)}).next(()=>l)}{const a=this.store.getAll(s.range);return new Et((l,f)=>{a.onerror=D=>{f(D.target.error)},a.onsuccess=D=>{l(D.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Et((a,l)=>{s.onerror=f=>{l(f.target.error)},s.onsuccess=f=>{a(f.target.result)}})}J(e,t){yt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const a=this.cursor(s);return this.W(a,(l,f,D)=>D.delete())}X(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.W(a,t)}Z(e){const t=this.cursor({});return new Et((s,a)=>{t.onerror=l=>{const f=Sc(l.target.error);a(f)},t.onsuccess=l=>{const f=l.target.result;f?e(f.primaryKey,f.value).next(D=>{D?f.continue():s()}):s()}})}W(e,t){const s=[];return new Et((a,l)=>{e.onerror=f=>{l(f.target.error)},e.onsuccess=f=>{const D=f.target.result;if(!D)return void a();const F=new ra(D),j=t(D.primaryKey,D.value,F);if(j instanceof Et){const ne=j.catch(Ve=>(F.done(),Et.reject(Ve)));s.push(ne)}F.isDone?a():null===F.K?D.continue():D.continue(F.K)}}).next(()=>Et.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ca(r){return new Et((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const a=Sc(s.target.error);t(a)}})}let qa=!1;function Sc(r){const e=Bs.S((0,st.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new $t("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qa||(qa=!0,setTimeout(()=>{throw s},0)),s}}return r}class Ho{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;yt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,te.Z)(function*(){t.task=null;try{yt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){Js(s)?yt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield jo(s)}yield t.et(6e4)}))}}class ec{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,te.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let a=t,l=!0;return Et.doWhile(()=>!0===l&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!s.has(f))return yt("IndexBackiller",`Processing collection: ${f}`),this.it(e,f,a).next(D=>{a-=D,s.add(f)});l=!1})).next(()=>t-a)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(l=>{const f=l.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.rt(a,l)).next(D=>(yt("IndexBackiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,t,D))).next(()=>f.size)}))}rt(e,t){let s=e;return t.changes.forEach((a,l)=>{const f=Ia(l);Ya(f,s)>0&&(s=f)}),new ys(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Vi=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Go(r){return null==r}function Tu(r){return 0===r&&1/r==-1/0}function yo(r){return"number"==typeof r&&Number.isInteger(r)&&!Tu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function os(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=vo(e)),e=Su(r.get(t),e);return vo(e)}function Su(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const l=r.charAt(a);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function vo(r){return r+"\x01\x01"}function Ws(r){const e=r.length;if(jn(e>=2),2===e)return jn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),ei.emptyPath();const t=e-2,s=[];let a="";for(let l=0;l<e;){const f=r.indexOf("\x01",l);switch((f<0||f>t)&&En(),r.charAt(f+1)){case"\x01":const D=r.substring(l,f);let F;0===a.length?F=D:(a+=D,F=a,a=""),s.push(F);break;case"\x10":a+=r.substring(l,f),a+="\0";break;case"\x11":a+=r.substring(l,f+1);break;default:En()}l=f+2}return new ei(s)}const ud=["userId","batchId"];function Da(r,e){return[r,os(e)]}function ol(r,e,t){return[r,os(e),t]}const Za={},tc=["prefixPath","collectionGroup","readTime","documentId"],cd=["prefixPath","collectionGroup","documentId"],$i=["collectionGroup","readTime","prefixPath","documentId"],ld=["canonicalId","targetId"],Ch=["targetId","path"],Ta=["path","targetId"],Xa=["collectionId","parent"],al=["indexId","uid"],Dh=["uid","sequenceNumber"],dd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Au=["indexId","uid","orderedDocumentKey"],xu=["userId","collectionPath","documentId"],Ac=["userId","collectionPath","largestBatchId"],Qa=["userId","collectionGroup","largestBatchId"],nc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ul=[...nc,"documentOverlays"],rc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Sa=rc,xc=[...Sa,"indexConfiguration","indexState","indexEntries"];class Mc extends Xu{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function as(r,e){const t=mn(r);return Bs.M(t.ht,e)}function zo(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Rs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Ja(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class fi{constructor(e,t){this.comparator=e,this.root=t||Yi.EMPTY}insert(e,t){return new fi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yi.BLACK,null,null))}remove(e){return new fi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sa(this.root,e,this.comparator,!1)}getReverseIterator(){return new sa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sa(this.root,e,this.comparator,!0)}}class sa{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yi{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=null!=s?s:Yi.RED,this.left=null!=a?a:Yi.EMPTY,this.right=null!=l?l:Yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new Yi(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Yi.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw En();const e=this.left.check();if(e!==this.right.check())throw En();return e+(this.isRed()?0:1)}}Yi.EMPTY=null,Yi.RED=!0,Yi.BLACK=!1,Yi.EMPTY=new class{constructor(){this.size=0}get key(){throw En()}get value(){throw En()}get color(){throw En()}get left(){throw En()}get right(){throw En()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Yi(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xi{constructor(e){this.comparator=e,this.data=new fi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cl(this.data.getIterator())}getIteratorFrom(e){return new cl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof xi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xi(this.comparator);return t.data=e,t}}class cl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function eu(r){return r.hasNext()?r.getNext():void 0}class Ks{constructor(e){this.fields=e,e.sort(_i.comparator)}static empty(){return new Ks([])}unionWith(e){let t=new xi(_i.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Ks(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Mu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ai{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw"undefined"!=typeof DOMException&&a instanceof DOMException?new Mu("Invalid base64 string: "+a):a}}(e);return new ai(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new ai(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ai.EMPTY_BYTE_STRING=new ai("");const ll=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(r){if(jn(!!r),"string"==typeof r){let e=0;const t=ll.exec(r);if(jn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:qi(r.seconds),nanos:qi(r.nanos)}}function qi(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function us(r){return"string"==typeof r?ai.fromBase64String(r):ai.fromUint8Array(r)}function tu(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function _o(r){const e=r.mapValue.fields.__previous_value__;return tu(e)?_o(e):e}function Aa(r){const e=oa(r.mapValue.fields.__local_write_time__.timestampValue);return new Li(e.seconds,e.nanos)}class hd{constructor(e,t,s,a,l,f,D,F,j){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=D,this.longPollingOptions=F,this.useFetchStreams=j}}class eo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new eo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof eo&&e.projectId===this.projectId&&e.database===this.database}}const aa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},sc={nullValue:"NULL_VALUE"};function xa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tu(r)?4:Ru(r)?9007199254740991:10:En()}function I(r,e){if(r===e)return!0;const t=xa(r);if(t!==xa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Aa(r).isEqual(Aa(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=oa(s.timestampValue),f=oa(a.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,us(r.bytesValue).isEqual(us(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return qi(s.geoPointValue.latitude)===qi(a.geoPointValue.latitude)&&qi(s.geoPointValue.longitude)===qi(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return qi(s.integerValue)===qi(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=qi(s.doubleValue),f=qi(a.doubleValue);return l===f?Tu(l)===Tu(f):isNaN(l)&&isNaN(f)}return!1}(r,e);case 9:return Wa(r.arrayValue.values||[],e.arrayValue.values||[],I);case 10:return function(s,a){const l=s.mapValue.fields||{},f=a.mapValue.fields||{};if(zo(l)!==zo(f))return!1;for(const D in l)if(l.hasOwnProperty(D)&&(void 0===f[D]||!I(l[D],f[D])))return!1;return!0}(r,e);default:return En()}var a}function M(r,e){return void 0!==(r.values||[]).find(t=>I(t,e))}function G(r,e){if(r===e)return 0;const t=xa(r),s=xa(e);if(t!==s)return Gn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gn(r.booleanValue,e.booleanValue);case 2:return function(a,l){const f=qi(a.integerValue||a.doubleValue),D=qi(l.integerValue||l.doubleValue);return f<D?-1:f>D?1:f===D?0:isNaN(f)?isNaN(D)?0:-1:1}(r,e);case 3:return De(r.timestampValue,e.timestampValue);case 4:return De(Aa(r),Aa(e));case 5:return Gn(r.stringValue,e.stringValue);case 6:return function(a,l){const f=us(a),D=us(l);return f.compareTo(D)}(r.bytesValue,e.bytesValue);case 7:return function(a,l){const f=a.split("/"),D=l.split("/");for(let F=0;F<f.length&&F<D.length;F++){const j=Gn(f[F],D[F]);if(0!==j)return j}return Gn(f.length,D.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,l){const f=Gn(qi(a.latitude),qi(l.latitude));return 0!==f?f:Gn(qi(a.longitude),qi(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,l){const f=a.values||[],D=l.values||[];for(let F=0;F<f.length&&F<D.length;++F){const j=G(f[F],D[F]);if(j)return j}return Gn(f.length,D.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===aa.mapValue&&l===aa.mapValue)return 0;if(a===aa.mapValue)return 1;if(l===aa.mapValue)return-1;const f=a.fields||{},D=Object.keys(f),F=l.fields||{},j=Object.keys(F);D.sort(),j.sort();for(let ne=0;ne<D.length&&ne<j.length;++ne){const Ve=Gn(D[ne],j[ne]);if(0!==Ve)return Ve;const _t=G(f[D[ne]],F[j[ne]]);if(0!==_t)return _t}return Gn(D.length,j.length)}(r.mapValue,e.mapValue);default:throw En()}}function De(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Gn(r,e);const t=oa(r),s=oa(e),a=Gn(t.seconds,s.seconds);return 0!==a?a:Gn(t.nanos,s.nanos)}function Xe(r){return ht(r)}function ht(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=oa(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?us(r.bytesValue).toBase64():"referenceValue"in r?vn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",l=!0;for(const f of s.values||[])l?l=!1:a+=",",a+=ht(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",f=!0;for(const D of a)f?f=!1:l+=",",l+=`${D}:${ht(s.fields[D])}`;return l+"}"}(r.mapValue):En();var e}function yn(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function gn(r){return!!r&&"integerValue"in r}function Wn(r){return!!r&&"arrayValue"in r}function _r(r){return!!r&&"nullValue"in r}function Cr(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Vs(r){return!!r&&"mapValue"in r}function Zi(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Rs(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Zi(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zi(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Ru(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function dl(r){return"nullValue"in r?sc:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?yn(eo.empty(),vn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:En()}function Ou(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?yn(eo.empty(),vn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?aa:En()}function Ds(r,e){const t=G(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function so(r,e){const t=G(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class wi{constructor(e){this.value=e}static empty(){return new wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Vs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zi(t)}setAll(e){let t=_i.emptyPath(),s={},a=[];e.forEach((f,D)=>{if(!t.isImmediateParentOf(D)){const F=this.getFieldsMap(t);this.applyChanges(F,s,a),s={},a=[],t=D.popLast()}f?s[D.lastSegment()]=Zi(f):a.push(D.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Vs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return I(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Vs(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Rs(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new wi(Zi(this.value))}}function nu(r){const e=[];return Rs(r.fields,(t,s)=>{const a=new _i([t]);if(Vs(s)){const l=nu(s.mapValue).fields;if(0===l.length)e.push(a);else for(const f of l)e.push(a.child(f))}else e.push(a)}),new Ks(e)}class Ui{constructor(e,t,s,a,l,f,D){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=f,this.documentState=D}static newInvalidDocument(e){return new Ui(e,0,nr.min(),nr.min(),nr.min(),wi.empty(),0)}static newFoundDocument(e,t,s,a){return new Ui(e,1,t,nr.min(),s,a,0)}static newNoDocument(e,t){return new Ui(e,2,t,nr.min(),nr.min(),wi.empty(),0)}static newUnknownDocument(e,t){return new Ui(e,3,t,nr.min(),nr.min(),wi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(nr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ui&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ui(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ua{constructor(e,t){this.position=e,this.inclusive=t}}function fd(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const l=e[a],f=r.position[a];if(s=l.field.isKeyField()?vn.comparator(vn.fromName(f.referenceValue),t.key):G(f,t.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return s}function pd(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!I(r.position[t],e.position[t]))return!1;return!0}class Rc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Bv(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class oc{}class Xr extends oc{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new pl(e,t,s):"array-contains"===t?new g(e,s):"in"===t?new C(e,s):"not-in"===t?new W(e,s):"array-contains-any"===t?new ue(e,s):new Xr(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Qg(e,s):new E(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(G(t,this.value)):null!==t&&xa(this.value)===xa(t)&&this.matchesComparison(G(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return En()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ri extends oc{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ri(e,t)}matches(e){return ac(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ac(r){return"and"===r.op}function gd(r){return"or"===r.op}function hl(r){return Th(r)&&ac(r)}function Th(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function md(r){if(r instanceof Xr)return r.field.canonicalString()+r.op.toString()+Xe(r.value);if(hl(r))return r.filters.map(e=>md(e)).join(",");{const e=r.filters.map(t=>md(t)).join(",");return`${r.op}(${e})`}}function Sh(r,e){return r instanceof Xr?(t=r,(s=e)instanceof Xr&&t.op===s.op&&t.field.isEqual(s.field)&&I(t.value,s.value)):r instanceof ri?function(t,s){return s instanceof ri&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,l,f)=>a&&Sh(l,s.filters[f]),!0)}(r,e):void En();var t,s}function Ah(r,e){const t=r.filters.concat(e);return ri.create(t,r.op)}function fl(r){return r instanceof Xr?`${(e=r).field.canonicalString()} ${e.op} ${Xe(e.value)}`:r instanceof ri?function(e){return e.op.toString()+" {"+e.getFilters().map(fl).join(" ,")+"}"}(r):"Filter";var e}class pl extends Xr{constructor(e,t,s){super(e,t,s),this.key=vn.fromName(s.referenceValue)}matches(e){const t=vn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Qg extends Xr{constructor(e,t){super(e,"in",t),this.keys=h(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class E extends Xr{constructor(e,t){super(e,"not-in",t),this.keys=h(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function h(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>vn.fromName(s.referenceValue))}class g extends Xr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wn(t)&&M(t.arrayValue,this.value)}}class C extends Xr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&M(this.value.arrayValue,t)}}class W extends Xr{constructor(e,t){super(e,"not-in",t)}matches(e){if(M(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!M(this.value.arrayValue,t)}}class ue extends Xr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wn(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>M(this.value.arrayValue,s))}}class ot{constructor(e,t=null,s=[],a=[],l=null,f=null,D=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=f,this.endAt=D,this.dt=null}}function xt(r,e=null,t=[],s=[],a=null,l=null,f=null){return new ot(r,e,t,s,a,l,f)}function an(r){const e=mn(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>md(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Go(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Xe(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Xe(s)).join(",")),e.dt=t}return e.dt}function Cn(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Bv(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Sh(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!pd(r.startAt,e.startAt)&&pd(r.endAt,e.endAt)}function Jn(r){return vn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function qr(r,e){return r.filters.filter(t=>t instanceof Xr&&t.field.isEqual(e))}function oo(r,e,t){let s=sc,a=!0;for(const l of qr(r,e)){let f=sc,D=!0;switch(l.op){case"<":case"<=":f=dl(l.value);break;case"==":case"in":case">=":f=l.value;break;case">":f=l.value,D=!1;break;case"!=":case"not-in":f=sc}Ds({value:s,inclusive:a},{value:f,inclusive:D})<0&&(s=f,a=D)}if(null!==t)for(let l=0;l<r.orderBy.length;++l)if(r.orderBy[l].field.isEqual(e)){const f=t.position[l];Ds({value:s,inclusive:a},{value:f,inclusive:t.inclusive})<0&&(s=f,a=t.inclusive);break}return{value:s,inclusive:a}}function ru(r,e,t){let s=aa,a=!0;for(const l of qr(r,e)){let f=aa,D=!0;switch(l.op){case">=":case">":f=Ou(l.value),D=!1;break;case"==":case"in":case"<=":f=l.value;break;case"<":f=l.value,D=!1;break;case"!=":case"not-in":f=aa}so({value:s,inclusive:a},{value:f,inclusive:D})>0&&(s=f,a=D)}if(null!==t)for(let l=0;l<r.orderBy.length;++l)if(r.orderBy[l].field.isEqual(e)){const f=t.position[l];so({value:s,inclusive:a},{value:f,inclusive:t.inclusive})>0&&(s=f,a=t.inclusive);break}return{value:s,inclusive:a}}class Ys{constructor(e,t=null,s=[],a=[],l=null,f="F",D=null,F=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=f,this.startAt=D,this.endAt=F,this.wt=null,this._t=null}}function $s(r,e,t,s,a,l,f,D){return new Ys(r,e,t,s,a,l,f,D)}function ca(r){return new Ys(r)}function gl(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Oc(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function hs(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function iu(r){return null!==r.collectionGroup}function la(r){const e=mn(r);if(null===e.wt){e.wt=[];const t=hs(e),s=Oc(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new Rc(t)),e.wt.push(new Rc(_i.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Rc(_i.keyField(),l))}}}return e.wt}function Us(r){const e=mn(r);if(!e._t)if("F"===e.limitType)e._t=xt(e.path,e.collectionGroup,la(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of la(e))t.push(new Rc(l.field,"desc"===l.dir?"asc":"desc"));const s=e.endAt?new ua(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new ua(e.startAt.position,e.startAt.inclusive):null;e._t=xt(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function ml(r,e){e.getFirstInequalityField(),hs(r);const t=r.filters.concat([e]);return new Ys(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Pc(r,e,t){return new Ys(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Pu(r,e){return Cn(Us(r),Us(e))&&r.limitType===e.limitType}function yd(r){return`${an(Us(r))}|lt:${r.limitType}`}function Vf(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>fl(s)).join(", ")}]`),Go(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Xe(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Xe(s)).join(",")),`Target(${t})`}(Us(r))}; limitType=${r.limitType})`}function yl(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):vn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of la(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,l,f){const D=fd(a,l,f);return a.inclusive?D<=0:D<0}(t.startAt,la(t),s)||t.endAt&&!function(a,l,f){const D=fd(a,l,f);return a.inclusive?D>=0:D>0}(t.endAt,la(t),s)));var t,s}function Jg(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function em(r){return(e,t)=>{let s=!1;for(const a of la(r)){const l=$f(a,e,t);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function $f(r,e,t){const s=r.field.isKeyField()?vn.comparator(e.key,t.key):function(a,l,f){const D=l.data.field(a),F=f.data.field(a);return null!==D&&null!==F?G(D,F):En()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return En()}}class ku{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return Ja(this.inner)}size(){return this.innerSize}}const Vv=new fi(vn.comparator);function ao(){return Vv}const tm=new fi(vn.comparator);function vd(...r){let e=tm;for(const t of r)e=e.insert(t.key,t);return e}function _d(r){let e=tm;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function su(){return Ed()}function nm(){return Ed()}function Ed(){return new ku(r=>r.toString(),(r,e)=>r.isEqual(e))}const $v=new fi(vn.comparator),Uv=new xi(vn.comparator);function Kr(...r){let e=Uv;for(const t of r)e=e.add(t);return e}const jv=new xi(Gn);function Uf(){return jv}function rm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tu(e)?"-0":e}}function im(r){return{integerValue:""+r}}function sm(r,e){return yo(e)?im(e):rm(r,e)}class xh{constructor(){this._=void 0}}function Hv(r,e,t){return r instanceof Eo?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&tu(a)&&(a=_o(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):r instanceof vl?zv(r,e):r instanceof uc?Wv(r,e):function(s,a){const l=kc(s,a),f=Mh(l)+Mh(s.gt);return gn(l)&&gn(s.gt)?im(f):rm(s.serializer,f)}(r,e)}function Gv(r,e,t){return r instanceof vl?zv(r,e):r instanceof uc?Wv(r,e):t}function kc(r,e){return r instanceof bo?gn(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Eo extends xh{}class vl extends xh{constructor(e){super(),this.elements=e}}function zv(r,e){const t=Rh(e);for(const s of r.elements)t.some(a=>I(a,s))||t.push(s);return{arrayValue:{values:t}}}class uc extends xh{constructor(e){super(),this.elements=e}}function Wv(r,e){let t=Rh(e);for(const s of r.elements)t=t.filter(a=>!I(a,s));return{arrayValue:{values:t}}}class bo extends xh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Mh(r){return qi(r.integerValue||r.doubleValue)}function Rh(r){return Wn(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class bd{constructor(e,t){this.field=e,this.transform=t}}class wd{constructor(e,t){this.version=e,this.transformResults=t}}class Xi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xi}static exists(e){return new Xi(void 0,e)}static updateTime(e){return new Xi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Id(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class _l{}function Oh(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new bl(r.key,Xi.none()):new Nc(r.key,r.data,Xi.none());{const t=r.data,s=wi.empty();let a=new xi(_i.comparator);for(let l of e.fields)if(!a.has(l)){let f=t.field(l);null===f&&l.length>1&&(l=l.popLast(),f=t.field(l)),null===f?s.delete(l):s.set(l,f),a=a.add(l)}return new Nu(r.key,s,new Ks(a.toArray()),Xi.none())}}function am(r,e,t){r instanceof Nc?function(s,a,l){const f=s.value.clone(),D=um(s.fieldTransforms,a,l.transformResults);f.setAll(D),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Nu?function(s,a,l){if(!Id(s.precondition,a))return void a.convertToUnknownDocument(l.version);const f=um(s.fieldTransforms,a,l.transformResults),D=a.data;D.setAll(Nh(s)),D.setAll(f),a.convertToFoundDocument(l.version,D).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ph(r,e,t,s){return r instanceof Nc?function(a,l,f,D){if(!Id(a.precondition,l))return f;const F=a.value.clone(),j=cm(a.fieldTransforms,D,l);return F.setAll(j),l.convertToFoundDocument(l.version,F).setHasLocalMutations(),null}(r,e,t,s):r instanceof Nu?function(a,l,f,D){if(!Id(a.precondition,l))return f;const F=cm(a.fieldTransforms,D,l),j=l.data;return j.setAll(Nh(a)),j.setAll(F),l.convertToFoundDocument(l.version,j).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(ne=>ne.field))}(r,e,t,s):(f=t,Id(r.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function El(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),l=kc(s.transform,a||null);null!=l&&(null===t&&(t=wi.empty()),t.set(s.field,l))}return t||null}function kh(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&Wa(t,s,(a,l)=>function om(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof vl&&s instanceof vl||t instanceof uc&&s instanceof uc?Wa(t.elements,s.elements,I):t instanceof bo&&s instanceof bo?I(t.gt,s.gt):t instanceof Eo&&s instanceof Eo);var t,s}(a,l))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Nc extends _l{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Nu extends _l{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Nh(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function um(r,e,t){const s=new Map;jn(r.length===t.length);for(let a=0;a<t.length;a++){const l=r[a],f=l.transform,D=e.data.field(l.field);s.set(l.field,Gv(f,D,t[a]))}return s}function cm(r,e,t){const s=new Map;for(const a of r){const l=a.transform,f=t.data.field(a.field);s.set(a.field,Hv(l,f,e))}return s}class bl extends _l{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jf extends _l{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hf{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&am(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ph(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ph(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=nm();return this.mutations.forEach(a=>{const l=e.get(a.key),f=l.overlayedDocument;let D=this.applyToLocalView(f,l.mutatedFields);D=t.has(a.key)?null:D;const F=Oh(f,D);null!==F&&s.set(a.key,F),f.isValidDocument()||f.convertToNoDocument(nr.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Kr())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,(t,s)=>kh(t,s))&&Wa(this.baseMutations,e.baseMutations,(t,s)=>kh(t,s))}}class Gf{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){jn(e.mutations.length===s.length);let a=$v;const l=e.mutations;for(let f=0;f<l.length;f++)a=a.insert(l[f].key,s[f].version);return new Gf(e,t,s,a)}}class Fh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lm{constructor(e,t){this.count=e,this.unchangedNames=t}}var _s,li;function dm(r){switch(r){default:return En();case Tt.CANCELLED:case Tt.UNKNOWN:case Tt.DEADLINE_EXCEEDED:case Tt.RESOURCE_EXHAUSTED:case Tt.INTERNAL:case Tt.UNAVAILABLE:case Tt.UNAUTHENTICATED:return!1;case Tt.INVALID_ARGUMENT:case Tt.NOT_FOUND:case Tt.ALREADY_EXISTS:case Tt.PERMISSION_DENIED:case Tt.FAILED_PRECONDITION:case Tt.ABORTED:case Tt.OUT_OF_RANGE:case Tt.UNIMPLEMENTED:case Tt.DATA_LOSS:return!0}}function Wf(r){if(void 0===r)return lr("GRPC error has no .code"),Tt.UNKNOWN;switch(r){case _s.OK:return Tt.OK;case _s.CANCELLED:return Tt.CANCELLED;case _s.UNKNOWN:return Tt.UNKNOWN;case _s.DEADLINE_EXCEEDED:return Tt.DEADLINE_EXCEEDED;case _s.RESOURCE_EXHAUSTED:return Tt.RESOURCE_EXHAUSTED;case _s.INTERNAL:return Tt.INTERNAL;case _s.UNAVAILABLE:return Tt.UNAVAILABLE;case _s.UNAUTHENTICATED:return Tt.UNAUTHENTICATED;case _s.INVALID_ARGUMENT:return Tt.INVALID_ARGUMENT;case _s.NOT_FOUND:return Tt.NOT_FOUND;case _s.ALREADY_EXISTS:return Tt.ALREADY_EXISTS;case _s.PERMISSION_DENIED:return Tt.PERMISSION_DENIED;case _s.FAILED_PRECONDITION:return Tt.FAILED_PRECONDITION;case _s.ABORTED:return Tt.ABORTED;case _s.OUT_OF_RANGE:return Tt.OUT_OF_RANGE;case _s.UNIMPLEMENTED:return Tt.UNIMPLEMENTED;case _s.DATA_LOSS:return Tt.DATA_LOSS;default:return En()}}(li=_s||(_s={}))[li.OK=0]="OK",li[li.CANCELLED=1]="CANCELLED",li[li.UNKNOWN=2]="UNKNOWN",li[li.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",li[li.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",li[li.NOT_FOUND=5]="NOT_FOUND",li[li.ALREADY_EXISTS=6]="ALREADY_EXISTS",li[li.PERMISSION_DENIED=7]="PERMISSION_DENIED",li[li.UNAUTHENTICATED=16]="UNAUTHENTICATED",li[li.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",li[li.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",li[li.ABORTED=10]="ABORTED",li[li.OUT_OF_RANGE=11]="OUT_OF_RANGE",li[li.UNIMPLEMENTED=12]="UNIMPLEMENTED",li[li.INTERNAL=13]="INTERNAL",li[li.UNAVAILABLE=14]="UNAVAILABLE",li[li.DATA_LOSS=15]="DATA_LOSS";class Lh{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ou}static getOrCreateInstance(){return null===ou&&(ou=new Lh),ou}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ou=null;function Kf(){return new TextEncoder}const hm=new U([4294967295,4294967295],0);function fm(r){const e=Kf().encode(r),t=new V;return t.update(e),new Uint8Array(t.digest())}function Cd(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new U([t,s],0),new U([a,l],0)]}class Yf{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new wl(`Invalid padding: ${t}`);if(s<0)throw new wl(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new wl(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new wl(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=U.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(U.fromNumber(s)));return 1===a.compare(hm)&&(a=new U([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=fm(e),[s,a]=Cd(t);for(let l=0;l<this.hashCount;l++){const f=this.Et(s,a,l);if(!this.At(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new Yf(l,a,t);return s.forEach(D=>f.insert(D)),f}insert(e){if(0===this.It)return;const t=fm(e),[s,a]=Cd(t);for(let l=0;l<this.hashCount;l++){const f=this.Et(s,a,l);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Il{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Il(nr.min(),a,new fi(Gn),ao(),Kr())}}class Cl{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Cl(s,t,Kr(),Kr(),Kr())}}class Dl{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class qf{constructor(e,t){this.targetId=e,this.Vt=t}}class Dd{constructor(e,t,s=ai.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Td{constructor(){this.St=0,this.Dt=Zf(),this.Ct=ai.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Kr(),t=Kr(),s=Kr();return this.Dt.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:En()}}),new Cl(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=Zf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class pm{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ao(),this.zt=Bh(),this.Wt=new fi(Gn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:En()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,l=this.se(s);if(l){const f=l.target;if(Jn(f))if(0===a){const D=new vn(f.path);this.Yt(s,D,Ui.newNoDocument(D,nr.min()))}else jn(1===a);else{const D=this.ie(s);if(D!==a){const F=this.re(e,D);0!==F&&(this.ee(s),this.Wt=this.Wt.insert(s,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Lh.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(j,ne,Ve){var _t,Ut,un,bn,Fn,Ar;const hi={localCacheCount:ne,existenceFilterCount:Ve.count},Hr=Ve.unchangedNames;return Hr&&(hi.bloomFilter={applied:0===j,hashCount:null!==(_t=null==Hr?void 0:Hr.hashCount)&&void 0!==_t?_t:0,bitmapLength:null!==(bn=null===(un=null===(Ut=null==Hr?void 0:Hr.bits)||void 0===Ut?void 0:Ut.bitmap)||void 0===un?void 0:un.length)&&void 0!==bn?bn:0,padding:null!==(Ar=null===(Fn=null==Hr?void 0:Hr.bits)||void 0===Fn?void 0:Fn.padding)&&void 0!==Ar?Ar:0}),hi}(F,D,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:D=0}=s;let F,j;try{F=us(l).toUint8Array()}catch(ne){if(ne instanceof Mu)return Xn("Decoding the base64 bloom filter in existence filter failed ("+ne.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ne}try{j=new Yf(F,f,D)}catch(ne){return Xn(ne instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",ne),1}return 0===j.It?1:a!==t-this.oe(e.targetId,j)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(l=>{const f=this.Gt.ue(),D=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;t.vt(D)||(this.Yt(e,l,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((l,f)=>{const D=this.se(f);if(D){if(l.current&&Jn(D.target)){const F=new vn(D.target.path);null!==this.jt.get(F)||this.ae(f,F)||this.Yt(f,F,Ui.newNoDocument(F,e))}l.Mt&&(t.set(f,l.Ot()),l.Ft())}});let s=Kr();this.zt.forEach((l,f)=>{let D=!0;f.forEachWhile(F=>{const j=this.se(F);return!j||"TargetPurposeLimboResolution"===j.purpose||(D=!1,!1)}),D&&(s=s.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const a=new Il(e,t,this.Wt,this.jt,s);return this.jt=ao(),this.zt=Bh(),this.Wt=new fi(Gn),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Td,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new xi(Gn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||yt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Td),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Bh(){return new fi(vn.comparator)}function Zf(){return new fi(vn.comparator)}const Xf={asc:"ASCENDING",desc:"DESCENDING"},Sd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kv={and:"AND",or:"OR"};class gm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qf(r,e){return r.useProto3Json||Go(e)?e:{value:e}}function Tl(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jf(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ep(r,e){return Tl(r,e.toTimestamp())}function Es(r){return jn(!!r),nr.fromTimestamp(function(e){const t=oa(e);return new Li(t.seconds,t.nanos)}(r))}function mm(r,e){return(t=r,new ei(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function tp(r){const e=ei.fromString(r);return jn(jh(e)),e}function Ad(r,e){return mm(r.databaseId,e.path)}function Ma(r,e){const t=tp(e);if(t.get(1)!==r.databaseId.projectId)throw new $t(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new $t(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new vn(vm(t))}function np(r,e){return mm(r.databaseId,e)}function ym(r){const e=tp(r);return 4===e.length?ei.emptyPath():vm(e)}function wo(r){return new ei(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function vm(r){return jn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function rp(r,e,t){return{name:Ad(r,e),fields:t.value.mapValue.fields}}function _m(r,e,t){const s=Ma(r,e.name),a=Es(e.updateTime),l=e.createTime?Es(e.createTime):nr.min(),f=new wi({mapValue:{fields:e.fields}}),D=Ui.newFoundDocument(s,a,l,f);return t&&D.setHasCommittedMutations(),t?D.setHasCommittedMutations():D}function xd(r,e){let t;if(e instanceof Nc)t={update:rp(r,e.key,e.value)};else if(e instanceof bl)t={delete:Ad(r,e.key)};else if(e instanceof Nu)t={update:rp(r,e.key,e.data),updateMask:Lu(e.fieldMask)};else{if(!(e instanceof jf))return En();t={verify:Ad(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const f=l.transform;if(f instanceof Eo)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof vl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof uc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof bo)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw En()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:ep(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:En()),t;var a}function Vh(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Xi.updateTime(Es(a.updateTime)):void 0!==a.exists?Xi.exists(a.exists):Xi.none():Xi.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(l,f){let D=null;"setToServerValue"in f?(jn("REQUEST_TIME"===f.setToServerValue),D=new Eo):"appendMissingElements"in f?D=new vl(f.appendMissingElements.values||[]):"removeAllFromArray"in f?D=new uc(f.removeAllFromArray.values||[]):"increment"in f?D=new bo(l,f.increment):En();const F=_i.fromServerFormat(f.fieldPath);return new bd(F,D)}(r,a)):[];var a;if(e.update){const a=Ma(r,e.update.name),l=new wi({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Ks((e.updateMask.fieldPaths||[]).map(j=>_i.fromServerFormat(j)));return new Nu(a,l,f,t,s)}return new Nc(a,l,t,s)}if(e.delete){const a=Ma(r,e.delete);return new bl(a,t)}if(e.verify){const a=Ma(r,e.verify);return new jf(a,t)}return En()}function Em(r,e){return{documents:[np(r,e.path)]}}function ip(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=np(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=np(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(F){if(0!==F.length)return Uh(ri.create(F,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(F){if(0!==F.length)return F.map(j=>{return{field:Fu((ne=j).field),direction:wm(ne.dir)};var ne})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=Qf(r,e.limit);var D,F;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(t.structuredQuery.endAt={before:!(F=e.endAt).inclusive,values:F.position}),t}function jr(r){let e=ym(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){jn(1===s);const ne=t.from[0];ne.allDescendants?a=ne.collectionId:e=e.child(ne.collectionId)}let l=[];t.where&&(l=function(ne){const Ve=sp(ne);return Ve instanceof ri&&hl(Ve)?Ve.getFilters():[Ve]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(ne=>{return new Rc(Sl((Ve=ne).field),function(_t){switch(_t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ve.direction));var Ve}));let D=null;t.limit&&(D=function(ne){let Ve;return Ve="object"==typeof ne?ne.value:ne,Go(Ve)?null:Ve}(t.limit));let F=null;var ne;t.startAt&&(F=new ua((ne=t.startAt).values||[],!!ne.before));let j=null;return t.endAt&&(j=function(ne){return new ua(ne.values||[],!ne.before)}(t.endAt)),$s(e,a,f,l,D,"F",F,j)}function sp(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Sl(e.unaryFilter.field);return Xr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Sl(e.unaryFilter.field);return Xr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Sl(e.unaryFilter.field);return Xr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Sl(e.unaryFilter.field);return Xr.create(l,"!=",{nullValue:"NULL_VALUE"});default:return En()}}(r):void 0!==r.fieldFilter?Xr.create(Sl((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return En()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return ri.create(e.compositeFilter.filters.map(t=>sp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return En()}}(e.compositeFilter.op))}(r):En();var e}function wm(r){return Xf[r]}function $h(r){return Sd[r]}function Ra(r){return Kv[r]}function Fu(r){return{fieldPath:r.canonicalString()}}function Sl(r){return _i.fromServerFormat(r.fieldPath)}function Uh(r){return r instanceof Xr?function(e){if("=="===e.op){if(Cr(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NAN"}};if(_r(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Cr(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NOT_NAN"}};if(_r(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fu(e.field),op:$h(e.op),value:e.value}}}(r):r instanceof ri?function(e){const t=e.getFilters().map(s=>Uh(s));return 1===t.length?t[0]:{compositeFilter:{op:Ra(e.op),filters:t}}}(r):En()}function Lu(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jh(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class au{constructor(e,t,s,a,l=nr.min(),f=nr.min(),D=ai.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=D,this.expectedCount=F}withSequenceNumber(e){return new au(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new au(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new au(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new au(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Hh{constructor(e){this.fe=e}}function op(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ap(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Ad(a=r.fe,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Tl(a,l.version.toTimestamp()),createTime:Tl(a,l.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:uu(e.version)};else{if(!e.isUnknownDocument())return En();s.unknownDocument={path:t.path.toArray(),version:uu(e.version)}}var a,l;return s}function ap(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function uu(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function cu(r){const e=new Li(r.seconds,r.nanoseconds);return nr.fromTimestamp(e)}function Bu(r,e){const t=(e.baseMutations||[]).map(l=>Vh(r.fe,l));for(let l=0;l<e.mutations.length-1;++l){const f=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(f.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const s=e.mutations.map(l=>Vh(r.fe,l)),a=Li.fromMillis(e.localWriteTimeMs);return new Hf(e.batchId,a,t,s)}function Fc(r){const e=cu(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?cu(r.lastLimboFreeSnapshotVersion):nr.min();let s;var a;return void 0!==r.query.documents?(jn(1===(a=r.query).documents.length),s=Us(ca(ym(a.documents[0])))):s=Us(jr(r.query)),new au(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,ai.fromBase64String(r.resumeToken))}function Gh(r,e){const t=uu(e.snapshotVersion),s=uu(e.lastLimboFreeSnapshotVersion);let a;a=Jn(e.target)?Em(r.fe,e.target):ip(r.fe,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:an(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function Im(r){const e=jr({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Pc(e,e.limit,"L"):e}function up(r,e){return new Fh(e.largestBatchId,Vh(r.fe,e.overlayMutation))}function Cm(r,e){const t=e.path.lastSegment();return[r,os(e.path.popLast()),t]}function Dm(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:uu(s.readTime),documentKey:os(s.documentKey.path),largestBatchId:s.largestBatchId}}class Xv{getBundleMetadata(e,t){return cp(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:cu(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return cp(e).put({bundleId:(s=t).id,createTime:uu(Es(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Qv(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:Im(a.bundledQuery),readTime:cu(a.readTime)};var a})}saveNamedQuery(e,t){return Qv(e).put({name:(s=t).name,readTime:uu(Es(s.readTime)),bundledQuery:s.bundledQuery});var s}}function cp(r){return as(r,"bundles")}function Qv(r){return as(r,"namedQueries")}class zh{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new zh(e,t.uid||"")}getOverlay(e,t){return Wh(e).get(Cm(this.userId,t)).next(s=>s?up(this.serializer,s):null)}getOverlays(e,t){const s=su();return Et.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((l,f)=>{const D=new Fh(t,f);a.push(this.we(e,D))}),Et.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(f=>a.add(os(f.getCollectionPath())));const l=[];return a.forEach(f=>{const D=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,s+1],!1,!0);l.push(Wh(e).J("collectionPathOverlayIndex",D))}),Et.waitFor(l)}getOverlaysForCollection(e,t,s){const a=su(),l=os(t),f=IDBKeyRange.bound([this.userId,l,s],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Wh(e).j("collectionPathOverlayIndex",f).next(D=>{for(const F of D){const j=up(this.serializer,F);a.set(j.getKey(),j)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const l=su();let f;const D=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Wh(e).X({index:"collectionGroupOverlayIndex",range:D},(F,j,ne)=>{const Ve=up(this.serializer,j);l.size()<a||Ve.largestBatchId===f?(l.set(Ve.getKey(),Ve),f=Ve.largestBatchId):ne.done()}).next(()=>l)}we(e,t){return Wh(e).put(function(s,a,l){const[f,D,F]=Cm(a,l.mutation.key);return{userId:a,collectionPath:D,documentId:F,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:xd(s.fe,l.mutation)}}(this.serializer,this.userId,t))}}function Wh(r){return as(r,"documentOverlays")}class cc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(qi(e.integerValue));else if("doubleValue"in e){const s=qi(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),Tu(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(us(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?Ru(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):En()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),vn.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Tm(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function Sm(r){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const l=Tm(255&t[a]);if(s+=l,8!==l)break}return s}(r);return Math.ceil(e/8)}cc.Ve=new cc;class lp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.De(s.value),s=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ne(s.value),s=t.next();this.ke()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),s=Sm(t);this.Be(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),s=Sm(t);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,a,!1),new Uint8Array(l.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class oE{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class aE{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Kh{constructor(){this.je=new lp,this.ze=new oE(this.je),this.We=new aE(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Al{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Al(this.indexId,this.documentKey,this.arrayValue,s)}}function Lc(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=Jv(r.arrayValue,e.arrayValue),0!==t?t:(t=Jv(r.directionalValue,e.directionalValue),0!==t?t:vn.comparator(r.documentKey,e.documentKey)))}function Jv(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class uE{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){jn(e.collectionGroup===this.collectionId);const t=Ka(e);if(void 0!==t&&!this.en(t))return!1;const s=Qs(e);let a=new Set,l=0,f=0;for(;l<s.length&&this.en(s[l]);++l)a=a.add(s[l].fieldPath.canonicalString());if(l===s.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const D=s[l];if(!this.nn(this.Ze,D)||!this.sn(this.Ye[f++],D))return!1}++l}for(;l<s.length;++l){const D=s[l];if(f>=this.Ye.length||!this.sn(this.Ye[f++],D))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function e_(r){var e,t;if(jn(r instanceof Xr||r instanceof ri),r instanceof Xr){if(r instanceof C){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(l=>Xr.create(r.field,"==",l)))||[];return ri.create(a,"or")}return r}const s=r.filters.map(a=>e_(a));return ri.create(s,r.op)}function cE(r){if(0===r.getFilters().length)return[];const e=dp(e_(r));return jn(Yh(e)),Am(e)||lu(e)?[e]:e.getFilters()}function Am(r){return r instanceof Xr}function lu(r){return r instanceof ri&&hl(r)}function Yh(r){return Am(r)||lu(r)||function(e){if(e instanceof ri&&gd(e)){for(const t of e.getFilters())if(!Am(t)&&!lu(t))return!1;return!0}return!1}(r)}function dp(r){if(jn(r instanceof Xr||r instanceof ri),r instanceof Xr)return r;if(1===r.filters.length)return dp(r.filters[0]);const e=r.filters.map(s=>dp(s));let t=ri.create(e,r.op);return t=Md(t),Yh(t)?t:(jn(t instanceof ri),jn(ac(t)),jn(t.filters.length>1),t.filters.reduce((s,a)=>qh(s,a)))}function qh(r,e){let t;return jn(r instanceof Xr||r instanceof ri),jn(e instanceof Xr||e instanceof ri),t=r instanceof Xr?e instanceof Xr?ri.create([r,e],"and"):Zh(r,e):e instanceof Xr?Zh(e,r):function(s,a){if(jn(s.filters.length>0&&a.filters.length>0),ac(s)&&ac(a))return Ah(s,a.getFilters());const l=gd(s)?s:a,f=gd(s)?a:s,D=l.filters.map(F=>qh(F,f));return ri.create(D,"or")}(r,e),Md(t)}function Zh(r,e){if(ac(e))return Ah(e,r.getFilters());{const t=e.filters.map(s=>qh(r,s));return ri.create(t,"or")}}function Md(r){if(jn(r instanceof Xr||r instanceof ri),r instanceof Xr)return r;const e=r.getFilters();if(1===e.length)return Md(e[0]);if(Th(r))return r;const t=e.map(a=>Md(a)),s=[];return t.forEach(a=>{a instanceof Xr?s.push(a):a instanceof ri&&(a.op===r.op?s.push(...a.filters):s.push(a))}),1===s.length?s[0]:ri.create(s,r.op)}class hp{constructor(){this.rn=new fp}addToCollectionParentIndex(e,t){return this.rn.add(t),Et.resolve()}getCollectionParents(e,t){return Et.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Et.resolve()}deleteFieldIndex(e,t){return Et.resolve()}getDocumentsMatchingTarget(e,t){return Et.resolve(null)}getIndexType(e,t){return Et.resolve(0)}getFieldIndexes(e,t){return Et.resolve([])}getNextCollectionGroupToUpdate(e){return Et.resolve(null)}getMinOffset(e,t){return Et.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,t){return Et.resolve(ys.min())}updateCollectionGroup(e,t,s){return Et.resolve()}updateIndexEntries(e,t){return Et.resolve()}}class fp{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new xi(ei.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new xi(ei.comparator)).toArray()}}const Oa=new Uint8Array(0);class xm{constructor(e,t){this.user=e,this.databaseId=t,this.on=new fp,this.un=new ku(s=>an(s),(s,a)=>Cn(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const l={collectionId:s,parent:os(a)};return Mm(e).put(l)}return Et.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[wh(t),""],!1,!0);return Mm(e).j(a).next(l=>{for(const f of l){if(f.collectionId!==t)break;s.push(Ws(f.parent))}return s})}addFieldIndex(e,t){const s=Xh(e),a={indexId:(f=t).indexId,collectionGroup:f.collectionGroup,fields:f.fields.map(D=>[D.fieldPath.canonicalString(),D.kind])};var f;delete a.indexId;const l=s.add(a);if(t.indexState){const f=xl(e);return l.next(D=>{f.put(Dm(D,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const s=Xh(e),a=xl(e),l=Bc(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Bc(e);let a=!0;const l=new Map;return Et.forEach(this.cn(t),f=>this.an(e,f).next(D=>{a&&(a=!!D),l.set(f,D)})).next(()=>{if(a){let f=Kr();const D=[];return Et.forEach(l,(F,j)=>{var ne;yt("IndexedDbIndexManager",`Using index ${ne=F,`id=${ne.indexId}|cg=${ne.collectionGroup}|f=${ne.fields.map(Hr=>`${Hr.fieldPath}:${Hr.kind}`).join(",")}`} to execute ${an(t)}`);const Ve=function(Hr,ps){const Qi=Ka(ps);if(void 0===Qi)return null;for(const ji of qr(Hr,Qi.fieldPath))switch(ji.op){case"array-contains-any":return ji.value.arrayValue.values||[];case"array-contains":return[ji.value]}return null}(j,F),_t=function(Hr,ps){const Qi=new Map;for(const ji of Qs(ps))for(const Co of qr(Hr,ji.fieldPath))switch(Co.op){case"==":case"in":Qi.set(ji.fieldPath.canonicalString(),Co.value);break;case"not-in":case"!=":return Qi.set(ji.fieldPath.canonicalString(),Co.value),Array.from(Qi.values())}return null}(j,F),Ut=function(Hr,ps){const Qi=[];let ji=!0;for(const Co of Qs(ps)){const wc=0===Co.kind?oo(Hr,Co.fieldPath,Hr.startAt):ru(Hr,Co.fieldPath,Hr.startAt);Qi.push(wc.value),ji&&(ji=wc.inclusive)}return new ua(Qi,ji)}(j,F),un=function(Hr,ps){const Qi=[];let ji=!0;for(const Co of Qs(ps)){const wc=0===Co.kind?ru(Hr,Co.fieldPath,Hr.endAt):oo(Hr,Co.fieldPath,Hr.endAt);Qi.push(wc.value),ji&&(ji=wc.inclusive)}return new ua(Qi,ji)}(j,F),bn=this.hn(F,j,Ut),Fn=this.hn(F,j,un),Ar=this.ln(F,j,_t),hi=this.fn(F.indexId,Ve,bn,Ut.inclusive,Fn,un.inclusive,Ar);return Et.forEach(hi,Hr=>s.H(Hr,t.limit).next(ps=>{ps.forEach(Qi=>{const ji=vn.fromSegments(Qi.documentKey);f.has(ji)||(f=f.add(ji),D.push(ji))})}))}).next(()=>D)}return Et.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:cE(ri.create(e.filters,"and")).map(s=>xt(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,s,a,l,f,D){const F=(null!=t?t.length:1)*Math.max(s.length,l.length),j=F/(null!=t?t.length:1),ne=[];for(let Ve=0;Ve<F;++Ve){const _t=t?this.dn(t[Ve/j]):Oa,Ut=this.wn(e,_t,s[Ve%j],a),un=this._n(e,_t,l[Ve%j],f),bn=D.map(Fn=>this.wn(e,_t,Fn,!0));ne.push(...this.createRange(Ut,un,bn))}return ne}wn(e,t,s,a){const l=new Al(e,vn.empty(),t,s);return a?l:l.Je()}_n(e,t,s,a){const l=new Al(e,vn.empty(),t,s);return a?l.Je():l}an(e,t){const s=new uE(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(l=>{let f=null;for(const D of l)s.tn(D)&&(!f||D.fields.length>f.fields.length)&&(f=D);return f})}getIndexType(e,t){let s=2;const a=this.cn(t);return Et.forEach(a,l=>this.an(e,l).next(f=>{f?0!==s&&f.fields.length<function(D){let F=new xi(_i.comparator),j=!1;for(const ne of D.filters)for(const Ve of ne.getFlattenedFilters())Ve.field.isKeyField()||("array-contains"===Ve.op||"array-contains-any"===Ve.op?j=!0:F=F.add(Ve.field));for(const ne of D.orderBy)ne.field.isKeyField()||(F=F.add(ne.field));return F.size+(j?1:0)}(l)&&(s=1):s=0})).next(()=>null!==t.limit&&a.length>1&&2===s?1:s)}mn(e,t){const s=new Kh;for(const a of Qs(e)){const l=t.data.field(a.fieldPath);if(null==l)return null;const f=s.He(a.kind);cc.Ve._e(l,f)}return s.Qe()}dn(e){const t=new Kh;return cc.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const s=new Kh;return cc.Ve._e(yn(this.databaseId,t),s.He(function(a){const l=Qs(a);return 0===l.length?0:l[l.length-1].kind}(e))),s.Qe()}ln(e,t,s){if(null===s)return[];let a=[];a.push(new Kh);let l=0;for(const f of Qs(e)){const D=s[l++];for(const F of a)if(this.yn(t,f.fieldPath)&&Wn(D))a=this.pn(a,f,D);else{const j=F.He(f.kind);cc.Ve._e(D,j)}}return this.In(a)}hn(e,t,s){return this.ln(e,t,s.position)}In(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Qe();return t}pn(e,t,s){const a=[...e],l=[];for(const f of s.arrayValue.values||[])for(const D of a){const F=new Kh;F.seed(D.Qe()),cc.Ve._e(f,F.He(t.kind)),l.push(F)}return l}yn(e,t){return!!e.filters.find(s=>s instanceof Xr&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Xh(e),a=xl(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(l=>{const f=[];return Et.forEach(l,D=>a.get([D.indexId,this.uid]).next(F=>{f.push(function(j,ne){const Ve=ne?new Ms(ne.sequenceNumber,new ys(cu(ne.readTime),new vn(Ws(ne.documentKey)),ne.largestBatchId)):Ms.empty(),_t=j.fields.map(([Ut,un])=>new Zu(_i.fromServerFormat(Ut),un));return new Bi(j.indexId,j.collectionGroup,_t,Ve)}(D,F))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const l=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==l?l:Gn(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=Xh(e),l=xl(e);return this.Tn(e).next(f=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(D=>Et.forEach(D,F=>l.put(Dm(F.indexId,this.user,f,s)))))}updateIndexEntries(e,t){const s=new Map;return Et.forEach(t,(a,l)=>{const f=s.get(a.collectionGroup);return(f?Et.resolve(f):this.getFieldIndexes(e,a.collectionGroup)).next(D=>(s.set(a.collectionGroup,D),Et.forEach(D,F=>this.En(e,a,F).next(j=>{const ne=this.An(l,F);return j.isEqual(ne)?Et.resolve():this.vn(e,l,F,j,ne)}))))})}Rn(e,t,s,a){return Bc(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(s,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,s,a){return Bc(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(s,t.key),t.key.path.toArray()])}En(e,t,s){const a=Bc(e);let l=new xi(Lc);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,t)])},(f,D)=>{l=l.add(new Al(s.indexId,t,D.arrayValue,D.directionalValue))}).next(()=>l)}An(e,t){let s=new xi(Lc);const a=this.mn(t,e);if(null==a)return s;const l=Ka(t);if(null!=l){const f=e.data.field(l.fieldPath);if(Wn(f))for(const D of f.arrayValue.values||[])s=s.add(new Al(t.indexId,e.key,this.dn(D),a))}else s=s.add(new Al(t.indexId,e.key,Oa,a));return s}vn(e,t,s,a,l){yt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(D,F,j,ne,Ve){const _t=D.getIterator(),Ut=F.getIterator();let un=eu(_t),bn=eu(Ut);for(;un||bn;){let Fn=!1,Ar=!1;if(un&&bn){const hi=j(un,bn);hi<0?Ar=!0:hi>0&&(Fn=!0)}else null!=un?Ar=!0:Fn=!0;Fn?(ne(bn),bn=eu(Ut)):Ar?(Ve(un),un=eu(_t)):(un=eu(_t),bn=eu(Ut))}}(a,l,Lc,D=>{f.push(this.Rn(e,t,s,D))},D=>{f.push(this.Pn(e,t,s,D))}),Et.waitFor(f)}Tn(e){let t=1;return xl(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,l)=>{l.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((f,D)=>Lc(f,D)).filter((f,D,F)=>!D||0!==Lc(f,F[D-1]));const a=[];a.push(e);for(const f of s){const D=Lc(f,e),F=Lc(f,t);if(0===D)a[0]=e.Je();else if(D>0&&F<0)a.push(f),a.push(f.Je());else if(F>0)break}a.push(t);const l=[];for(let f=0;f<a.length;f+=2){if(this.bn(a[f],a[f+1]))return[];l.push(IDBKeyRange.bound([a[f].indexId,this.uid,a[f].arrayValue,a[f].directionalValue,Oa,[]],[a[f+1].indexId,this.uid,a[f+1].arrayValue,a[f+1].directionalValue,Oa,[]]))}return l}bn(e,t){return Lc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Rm)}getMinOffset(e,t){return Et.mapArray(this.cn(t),s=>this.an(e,s).next(a=>a||En())).next(Rm)}}function Mm(r){return as(r,"collectionParents")}function Bc(r){return as(r,"indexEntries")}function Xh(r){return as(r,"indexConfiguration")}function xl(r){return as(r,"indexState")}function Rm(r){jn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const a=r[s].indexState.offset;Ya(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new ys(e.readTime,e.documentKey,t)}const Om={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Os{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Os(e,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Vc(r,e,t){const s=r.store("mutations"),a=r.store("documentMutations"),l=[],f=IDBKeyRange.only(t.batchId);let D=0;const F=s.X({range:f},(ne,Ve,_t)=>(D++,_t.delete()));l.push(F.next(()=>{jn(1===D)}));const j=[];for(const ne of t.mutations){const Ve=ol(e,ne.key.path,t.batchId);l.push(a.delete(Ve)),j.push(ne.key)}return Et.waitFor(l).next(()=>j)}function Ml(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw En();e=r.noDocument}return JSON.stringify(e).length}Os.DEFAULT_COLLECTION_PERCENTILE=10,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Os.DEFAULT=new Os(41943040,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Os.DISABLED=new Os(-1,0,0);class Vu{constructor(e,t,s,a){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=a,this.Vn={}}static de(e,t,s,a){jn(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Vu(l,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wo(e).X({index:"userMutationsIndex",range:s},(a,l,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const l=Ol(e),f=Wo(e);return f.add({}).next(D=>{jn("number"==typeof D);const F=new Hf(D,t,s,a),j=function(_t,Ut,un){const bn=un.baseMutations.map(Ar=>xd(_t.fe,Ar)),Fn=un.mutations.map(Ar=>xd(_t.fe,Ar));return{userId:Ut,batchId:un.batchId,localWriteTimeMs:un.localWriteTime.toMillis(),baseMutations:bn,mutations:Fn}}(this.serializer,this.userId,F),ne=[];let Ve=new xi((_t,Ut)=>Gn(_t.canonicalString(),Ut.canonicalString()));for(const _t of a){const Ut=ol(this.userId,_t.key.path,D);Ve=Ve.add(_t.key.path.popLast()),ne.push(f.put(j)),ne.push(l.put(Ut,Za))}return Ve.forEach(_t=>{ne.push(this.indexManager.addToCollectionParentIndex(e,_t))}),e.addOnCommittedListener(()=>{this.Vn[D]=F.keys()}),Et.waitFor(ne).next(()=>F)})}lookupMutationBatch(e,t){return Wo(e).get(t).next(s=>s?(jn(s.userId===this.userId),Bu(this.serializer,s)):null)}Sn(e,t){return this.Vn[t]?Et.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let l=null;return Wo(e).X({index:"userMutationsIndex",range:a},(f,D,F)=>{D.userId===this.userId&&(jn(D.batchId>=s),l=Bu(this.serializer,D)),F.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Wo(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,l,f)=>{s=l.batchId,f.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wo(e).j("userMutationsIndex",t).next(s=>s.map(a=>Bu(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Da(this.userId,t.path),a=IDBKeyRange.lowerBound(s),l=[];return Ol(e).X({range:a},(f,D,F)=>{const[j,ne,Ve]=f,_t=Ws(ne);if(j===this.userId&&t.path.isEqual(_t))return Wo(e).get(Ve).next(Ut=>{if(!Ut)throw En();jn(Ut.userId===this.userId),l.push(Bu(this.serializer,Ut))});F.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new xi(Gn);const a=[];return t.forEach(l=>{const f=Da(this.userId,l.path),D=IDBKeyRange.lowerBound(f),F=Ol(e).X({range:D},(j,ne,Ve)=>{const[_t,Ut,un]=j,bn=Ws(Ut);_t===this.userId&&l.path.isEqual(bn)?s=s.add(un):Ve.done()});a.push(F)}),Et.waitFor(a).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,l=Da(this.userId,s),f=IDBKeyRange.lowerBound(l);let D=new xi(Gn);return Ol(e).X({range:f},(F,j,ne)=>{const[Ve,_t,Ut]=F,un=Ws(_t);Ve===this.userId&&s.isPrefixOf(un)?un.length===a&&(D=D.add(Ut)):ne.done()}).next(()=>this.Dn(e,D))}Dn(e,t){const s=[],a=[];return t.forEach(l=>{a.push(Wo(e).get(l).next(f=>{if(null===f)throw En();jn(f.userId===this.userId),s.push(Bu(this.serializer,f))}))}),Et.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return Vc(e.ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Et.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Et.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return Ol(e).X({range:s},(l,f,D)=>{if(l[0]===this.userId){const F=Ws(l[1]);a.push(F)}else D.done()}).next(()=>{jn(0===a.length)})})}containsKey(e,t){return Rl(e,this.userId,t)}xn(e){return pp(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Rl(r,e,t){const s=Da(e,t.path),a=s[1],l=IDBKeyRange.lowerBound(s);let f=!1;return Ol(r).X({range:l,Y:!0},(D,F,j)=>{const[ne,Ve,_t]=D;ne===e&&Ve===a&&(f=!0),j.done()}).next(()=>f)}function Wo(r){return as(r,"mutations")}function Ol(r){return as(r,"documentMutations")}function pp(r){return as(r,"mutationQueues")}class lc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new lc(0)}static Mn(){return new lc(-1)}}class gp{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const s=new lc(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>nr.fromTimestamp(new Li(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>dc(e).delete(t.targetId)).next(()=>this.$n(e)).next(s=>(jn(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let a=0;const l=[];return dc(e).X((f,D)=>{const F=Fc(D);F.sequenceNumber<=t&&null===s.get(F.targetId)&&(a++,l.push(this.removeTargetData(e,F)))}).next(()=>Et.waitFor(l)).next(()=>a)}forEachTarget(e,t){return dc(e).X((s,a)=>{const l=Fc(a);t(l)})}$n(e){return mp(e).get("targetGlobalKey").next(t=>(jn(null!==t),t))}On(e,t){return mp(e).put("targetGlobalKey",t)}Fn(e,t){return dc(e).put(Gh(this.serializer,t))}Bn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const s=an(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let l=null;return dc(e).X({range:a,index:"queryTargetsIndex"},(f,D,F)=>{const j=Fc(D);Cn(t,j.target)&&(l=j,F.done())}).next(()=>l)}addMatchingKeys(e,t,s){const a=[],l=Pa(e);return t.forEach(f=>{const D=os(f.path);a.push(l.put({targetId:s,path:D})),a.push(this.referenceDelegate.addReference(e,s,f))}),Et.waitFor(a)}removeMatchingKeys(e,t,s){const a=Pa(e);return Et.forEach(t,l=>{const f=os(l.path);return Et.waitFor([a.delete([s,f]),this.referenceDelegate.removeReference(e,s,l)])})}removeMatchingKeysForTargetId(e,t){const s=Pa(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=Pa(e);let l=Kr();return a.X({range:s,Y:!0},(f,D,F)=>{const j=Ws(f[1]),ne=new vn(j);l=l.add(ne)}).next(()=>l)}containsKey(e,t){const s=os(t.path),a=IDBKeyRange.bound([s],[wh(s)],!1,!0);let l=0;return Pa(e).X({index:"documentTargetsIndex",Y:!0,range:a},([f,D],F,j)=>{0!==f&&(l++,j.done())}).next(()=>l>0)}le(e,t){return dc(e).get(t).next(s=>s?Fc(s):null)}}function dc(r){return as(r,"targets")}function mp(r){return as(r,"targetGlobal")}function Pa(r){return as(r,"targetDocuments")}function Pm([r,e],[t,s]){const a=Gn(r,t);return 0===a?Gn(e,s):a}class km{constructor(e){this.Ln=e,this.buffer=new xi(Pm),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Pm(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class t_{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;yt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,te.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Js(s)?yt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield jo(s)}yield t.Qn(3e5)}))}}class Nm{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Et.resolve(Vi.ct);const s=new km(t);return this.jn.forEachTarget(e,a=>s.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>s.Kn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),Et.resolve(Om)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Om):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let s,a,l,f,D,F,j;const ne=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ve=>(Ve>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ve}`),a=this.params.maximumSequenceNumbersToCollect):a=Ve,f=Date.now(),this.nthSequenceNumber(e,a))).next(Ve=>(s=Ve,D=Date.now(),this.removeTargets(e,s,t))).next(Ve=>(l=Ve,F=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ve=>(j=Date.now(),Vn()<=et.in.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-ne}ms\n\tDetermined least recently used ${a} in `+(D-f)+`ms\n\tRemoved ${l} targets in `+(F-D)+`ms\n\tRemoved ${Ve} documents in `+(j-F)+`ms\nTotal Duration: ${j-ne}ms`),Et.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:Ve})))}}class n_{constructor(e,t){this.db=e,this.garbageCollector=function yp(r,e){return new Nm(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Jn(e){let t=0;return this.Wn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(s,a)=>t(a))}addReference(e,t,s){return Rd(e,s)}removeReference(e,t,s){return Rd(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Rd(e,t)}Xn(e,t){return function(s,a){let l=!1;return pp(s).Z(f=>Rl(s,f,a).next(D=>(D&&(l=!0),Et.resolve(!D)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Yn(e,(f,D)=>{if(D<=t){const F=this.Xn(e,f).next(j=>{if(!j)return l++,s.getEntry(e,f).next(()=>(s.removeEntry(f,nr.min()),Pa(e).delete([0,os(f.path)])))});a.push(F)}}).next(()=>Et.waitFor(a)).next(()=>s.apply(e)).next(()=>l)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Rd(e,t)}Yn(e,t){const s=Pa(e);let a,l=Vi.ct;return s.X({index:"documentTargetsIndex"},([f,D],{path:F,sequenceNumber:j})=>{0===f?(l!==Vi.ct&&t(new vn(Ws(a)),l),l=j,a=F):l=Vi.ct}).next(()=>{l!==Vi.ct&&t(new vn(Ws(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Rd(r,e){return Pa(r).put((s=r.currentSequenceNumber,{targetId:0,path:os(e.path),sequenceNumber:s}));var s}class Fm{constructor(){this.changes=new ku(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ui.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Et.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class r_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Pl(e).put(s)}removeEntry(e,t,s){return Pl(e).delete(function(a,l){const f=a.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],ap(l),f[f.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Zn(e,s)))}getEntry(e,t){let s=Ui.newInvalidDocument(t);return Pl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Qh(t))},(a,l)=>{s=this.ts(t,l)}).next(()=>s)}es(e,t){let s={size:0,document:Ui.newInvalidDocument(t)};return Pl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Qh(t))},(a,l)=>{s={document:this.ts(t,l),size:Ml(l)}}).next(()=>s)}getEntries(e,t){let s=ao();return this.ns(e,t,(a,l)=>{const f=this.ts(a,l);s=s.insert(a,f)}).next(()=>s)}ss(e,t){let s=ao(),a=new fi(vn.comparator);return this.ns(e,t,(l,f)=>{const D=this.ts(l,f);s=s.insert(l,D),a=a.insert(l,Ml(f))}).next(()=>({documents:s,rs:a}))}ns(e,t,s){if(t.isEmpty())return Et.resolve();let a=new xi(s_);t.forEach(F=>a=a.add(F));const l=IDBKeyRange.bound(Qh(a.first()),Qh(a.last())),f=a.getIterator();let D=f.getNext();return Pl(e).X({index:"documentKeyIndex",range:l},(F,j,ne)=>{const Ve=vn.fromSegments([...j.prefixPath,j.collectionGroup,j.documentId]);for(;D&&s_(D,Ve)<0;)s(D,null),D=f.getNext();D&&D.isEqual(Ve)&&(s(D,j),D=f.hasNext()?f.getNext():null),D?ne.G(Qh(D)):ne.done()}).next(()=>{for(;D;)s(D,null),D=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,t,s,a){const l=t.path,f=[l.popLast().toArray(),l.lastSegment(),ap(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],D=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pl(e).j(IDBKeyRange.bound(f,D,!0)).next(F=>{let j=ao();for(const ne of F){const Ve=this.ts(vn.fromSegments(ne.prefixPath.concat(ne.collectionGroup,ne.documentId)),ne);Ve.isFoundDocument()&&(yl(t,Ve)||a.has(Ve.key))&&(j=j.insert(Ve.key,Ve))}return j})}getAllFromCollectionGroup(e,t,s,a){let l=ao();const f=vp(t,s),D=vp(t,ys.max());return Pl(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,D,!0)},(F,j,ne)=>{const Ve=this.ts(vn.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);l=l.insert(Ve.key,Ve),l.size===a&&ne.done()}).next(()=>l)}newChangeBuffer(e){return new i_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Lm(e).get("remoteDocumentGlobalKey").next(t=>(jn(!!t),t))}Zn(e,t){return Lm(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const s=function sE(r,e){let t;if(e.document)t=_m(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=vn.fromSegments(e.noDocument.path),a=cu(e.noDocument.readTime);t=Ui.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return En();{const s=vn.fromSegments(e.unknownDocument.path),a=cu(e.unknownDocument.version);t=Ui.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new Li(s[0],s[1]);return nr.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(nr.min()))return s}return Ui.newInvalidDocument(e)}}function Po(r){return new r_(r)}class i_ extends Fm{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new ku(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new xi((l,f)=>Gn(l.canonicalString(),f.canonicalString()));return this.changes.forEach((l,f)=>{const D=this.us.get(l);if(t.push(this.os.removeEntry(e,l,D.readTime)),f.isValidDocument()){const F=op(this.os.serializer,f);a=a.add(l.path.popLast()),s+=Ml(F)-D.size,t.push(this.os.addEntry(e,l,F))}else if(s-=D.size,this.trackRemovals){const F=op(this.os.serializer,f.convertToNoDocument(nr.min()));t.push(this.os.addEntry(e,l,F))}}),a.forEach(l=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.os.updateMetadata(e,s)),Et.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(s=>(this.us.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:s,rs:a})=>(a.forEach((l,f)=>{this.us.set(l,{size:f,readTime:s.get(l).readTime})}),s))}}function Lm(r){return as(r,"remoteDocumentGlobal")}function Pl(r){return as(r,"remoteDocumentsV14")}function Qh(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function vp(r,e){const t=e.documentKey.path.toArray();return[r,ap(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function s_(r,e){const t=r.path.toArray(),s=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<s.length-2;++l)if(a=Gn(t[l],s[l]),a)return a;return a=Gn(t.length,s.length),a||(a=Gn(t[t.length-2],s[s.length-2]),a||Gn(t[t.length-1],s[s.length-1]))}class o_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jh{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&Ph(s.mutation,a,Ks.empty(),Li.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Kr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Kr()){const a=su();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let f=vd();return l.forEach((D,F)=>{f=f.insert(D,F.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=su();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Kr()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((f,D)=>{t.set(f,D)})})}computeViews(e,t,s,a){let l=ao();const f=Ed(),D=Ed();return t.forEach((F,j)=>{const ne=s.get(j.key);a.has(j.key)&&(void 0===ne||ne.mutation instanceof Nu)?l=l.insert(j.key,j):void 0!==ne?(f.set(j.key,ne.mutation.getFieldMask()),Ph(ne.mutation,j,ne.mutation.getFieldMask(),Li.now())):f.set(j.key,Ks.empty())}),this.recalculateAndSaveOverlays(e,l).next(F=>(F.forEach((j,ne)=>f.set(j,ne)),t.forEach((j,ne)=>{var Ve;return D.set(j,new o_(ne,null!==(Ve=f.get(j))&&void 0!==Ve?Ve:null))}),D))}recalculateAndSaveOverlays(e,t){const s=Ed();let a=new fi((f,D)=>f-D),l=Kr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const D of f)D.keys().forEach(F=>{const j=t.get(F);if(null===j)return;let ne=s.get(F)||Ks.empty();ne=D.applyToLocalView(j,ne),s.set(F,ne);const Ve=(a.get(D.batchId)||Kr()).add(F);a=a.insert(D.batchId,Ve)})}).next(()=>{const f=[],D=a.getReverseIterator();for(;D.hasNext();){const F=D.getNext(),j=F.key,ne=F.value,Ve=nm();ne.forEach(_t=>{if(!l.has(_t)){const Ut=Oh(t.get(_t),s.get(_t));null!==Ut&&Ve.set(_t,Ut),l=l.add(_t)}}),f.push(this.documentOverlayCache.saveOverlays(e,j,Ve))}return Et.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return vn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):iu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const f=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):Et.resolve(su());let D=-1,F=l;return f.next(j=>Et.forEach(j,(ne,Ve)=>(D<Ve.largestBatchId&&(D=Ve.largestBatchId),l.get(ne)?Et.resolve():this.remoteDocumentCache.getEntry(e,ne).next(_t=>{F=F.insert(ne,_t)}))).next(()=>this.populateOverlays(e,j,l)).next(()=>this.computeViews(e,F,j,Kr())).next(ne=>({batchId:D,changes:_d(ne)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new vn(t)).next(s=>{let a=vd();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let l=vd();return this.indexManager.getCollectionParents(e,a).next(f=>Et.forEach(f,D=>{const F=(j=t,ne=D.child(a),new Ys(ne,null,j.explicitOrderBy.slice(),j.filters.slice(),j.limit,j.limitType,j.startAt,j.endAt));var j,ne;return this.getDocumentsMatchingCollectionQuery(e,F,s).next(j=>{j.forEach((ne,Ve)=>{l=l.insert(ne,Ve)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(l=>{a.forEach((D,F)=>{const j=F.getKey();null===l.get(j)&&(l=l.insert(j,Ui.newInvalidDocument(j)))});let f=vd();return l.forEach((D,F)=>{const j=a.get(D);void 0!==j&&Ph(j.mutation,F,Ks.empty(),Li.now()),yl(t,F)&&(f=f.insert(D,F))}),f})}}class Bm{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Et.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Es(s.createTime)}),Et.resolve()}getNamedQuery(e,t){return Et.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:Im(s.bundledQuery),readTime:Es(s.readTime)}),Et.resolve();var s}}class a_{constructor(){this.overlays=new fi(vn.comparator),this.ls=new Map}getOverlay(e,t){return Et.resolve(this.overlays.get(t))}getOverlays(e,t){const s=su();return Et.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.we(e,t,l)}),Et.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(s)),Et.resolve()}getOverlaysForCollection(e,t,s){const a=su(),l=t.length+1,f=new vn(t.child("")),D=this.overlays.getIteratorFrom(f);for(;D.hasNext();){const F=D.getNext().value,j=F.getKey();if(!t.isPrefixOf(j.path))break;j.path.length===l&&F.largestBatchId>s&&a.set(F.getKey(),F)}return Et.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new fi((j,ne)=>j-ne);const f=this.overlays.getIterator();for(;f.hasNext();){const j=f.getNext().value;if(j.getKey().getCollectionGroup()===t&&j.largestBatchId>s){let ne=l.get(j.largestBatchId);null===ne&&(ne=su(),l=l.insert(j.largestBatchId,ne)),ne.set(j.getKey(),j)}}const D=su(),F=l.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((j,ne)=>D.set(j,ne)),!(D.size()>=a)););return Et.resolve(D)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Fh(t,s));let l=this.ls.get(t);void 0===l&&(l=Kr(),this.ls.set(t,l)),this.ls.set(t,l.add(s.key))}}class _p{constructor(){this.fs=new xi(qs.ds),this.ws=new xi(qs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new qs(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new qs(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new vn(new ei([])),s=new qs(t,e),a=new qs(t,e+1),l=[];return this.ws.forEachInRange([s,a],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new vn(new ei([])),s=new qs(t,e),a=new qs(t,e+1);let l=Kr();return this.ws.forEachInRange([s,a],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new qs(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class qs{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return vn.comparator(e.key,t.key)||Gn(e.As,t.As)}static _s(e,t){return Gn(e.As,t.As)||vn.comparator(e.key,t.key)}}class Vm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new xi(qs.ds)}checkEmpty(e){return Et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const l=this.vs;this.vs++;const f=new Hf(l,t,s,a);this.mutationQueue.push(f);for(const D of a)this.Rs=this.Rs.add(new qs(D.key,l)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return Et.resolve(f)}lookupMutationBatch(e,t){return Et.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),l=a<0?0:a;return Et.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Et.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new qs(t,0),a=new qs(t,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([s,a],f=>{const D=this.Ps(f.As);l.push(D)}),Et.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new xi(Gn);return t.forEach(a=>{const l=new qs(a,0),f=new qs(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],D=>{s=s.add(D.As)})}),Et.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;vn.isDocumentKey(l)||(l=l.child(""));const f=new qs(new vn(l),0);let D=new xi(Gn);return this.Rs.forEachWhile(F=>{const j=F.key.path;return!!s.isPrefixOf(j)&&(j.length===a&&(D=D.add(F.As)),!0)},f),Et.resolve(this.Vs(D))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){jn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Et.forEach(t.mutations,a=>{const l=new qs(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new qs(t,0),a=this.Rs.firstAfterOrEqual(s);return Et.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Et.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class u_{constructor(e){this.Ds=e,this.docs=new fi(vn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,f=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Et.resolve(s?s.document.mutableCopy():Ui.newInvalidDocument(t))}getEntries(e,t){let s=ao();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Ui.newInvalidDocument(a))}),Et.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=ao();const f=t.path,D=new vn(f.child("")),F=this.docs.getIteratorFrom(D);for(;F.hasNext();){const{key:j,value:{document:ne}}=F.getNext();if(!f.isPrefixOf(j.path))break;j.path.length>f.length+1||Ya(Ia(ne),s)<=0||(a.has(ne.key)||yl(t,ne))&&(l=l.insert(ne.key,ne.mutableCopy()))}return Et.resolve(l)}getAllFromCollectionGroup(e,t,s,a){En()}Cs(e,t){return Et.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new $m(this)}getSize(e){return Et.resolve(this.size)}}class $m extends Fm{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),Et.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class c_{constructor(e){this.persistence=e,this.xs=new ku(t=>an(t),Cn),this.lastRemoteSnapshotVersion=nr.min(),this.highestTargetId=0,this.Ns=0,this.ks=new _p,this.targetCount=0,this.Ms=lc.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),Et.resolve()}getLastRemoteSnapshotVersion(e){return Et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Et.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Et.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),Et.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new lc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Et.resolve()}updateTargetData(e,t){return this.Fn(t),Et.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Et.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.xs.forEach((f,D)=>{D.sequenceNumber<=t&&null===s.get(D.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,D.targetId)),a++)}),Et.waitFor(l).next(()=>a)}getTargetCount(e){return Et.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return Et.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),Et.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(f=>{l.push(a.markPotentiallyOrphaned(e,f))}),Et.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Et.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return Et.resolve(s)}containsKey(e,t){return Et.resolve(this.ks.containsKey(t))}}class Ep{constructor(e,t){this.$s={},this.overlays={},this.Os=new Vi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new c_(this),this.indexManager=new hp,this.remoteDocumentCache=new u_(s=>this.referenceDelegate.Ls(s)),this.serializer=new Hh(t),this.qs=new Bm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new a_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new Vm(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){yt("MemoryPersistence","Starting transaction:",e);const a=new Um(this.Os.next());return this.referenceDelegate.Us(),s(a).next(l=>this.referenceDelegate.Ks(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Gs(e,t){return Et.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class Um extends Xu{constructor(e){super(),this.currentSequenceNumber=e}}class Od{constructor(e){this.persistence=e,this.Qs=new _p,this.js=null}static zs(e){return new Od(e)}get Ws(){if(this.js)return this.js;throw En()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),Et.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),Et.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Et.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.Ws.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Et.forEach(this.Ws,s=>{const a=vn.fromPath(s);return this.Hs(e,a).next(l=>{l||t.removeEntry(a,nr.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Et.or([()=>Et.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class du{constructor(e){this.serializer=e}O(e,t,s,a){const l=new vs("createOrUpgrade",t);var D;s<1&&a>=1&&(e.createObjectStore("owner"),(D=e).createObjectStore("mutationQueues",{keyPath:"userId"}),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ud,{unique:!0}),D.createObjectStore("documentMutations"),tf(e),function(D){D.createObjectStore("remoteDocuments")}(e));let f=Et.resolve();return s<3&&a>=3&&(0!==s&&(function(D){D.deleteObjectStore("targetDocuments"),D.deleteObjectStore("targets"),D.deleteObjectStore("targetGlobal")}(e),tf(e)),f=f.next(()=>function(D){const F=D.store("targetGlobal"),j={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:nr.min().toTimestamp(),targetCount:0};return F.put("targetGlobalKey",j)}(l))),s<4&&a>=4&&(0!==s&&(f=f.next(()=>function(D,F){return F.store("mutations").j().next(j=>{D.deleteObjectStore("mutations"),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ud,{unique:!0});const ne=F.store("mutations"),Ve=j.map(_t=>ne.put(_t));return Et.waitFor(Ve)})}(e,l))),f=f.next(()=>{!function(D){D.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(f=f.next(()=>this.Ys(l))),s<6&&a>=6&&(f=f.next(()=>(function(D){D.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(l)))),s<7&&a>=7&&(f=f.next(()=>this.Zs(l))),s<8&&a>=8&&(f=f.next(()=>this.ti(e,l))),s<9&&a>=9&&(f=f.next(()=>{!function(D){D.objectStoreNames.contains("remoteDocumentChanges")&&D.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(f=f.next(()=>this.ei(l))),s<11&&a>=11&&(f=f.next(()=>{(function(D){D.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(D){D.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(f=f.next(()=>{!function(D){const F=D.createObjectStore("documentOverlays",{keyPath:xu});F.createIndex("collectionPathOverlayIndex",Ac,{unique:!1}),F.createIndex("collectionGroupOverlayIndex",Qa,{unique:!1})}(e)})),s<13&&a>=13&&(f=f.next(()=>function(D){const F=D.createObjectStore("remoteDocumentsV14",{keyPath:tc});F.createIndex("documentKeyIndex",cd),F.createIndex("collectionGroupIndex",$i)}(e)).next(()=>this.ni(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(f=f.next(()=>this.si(e,l))),s<15&&a>=15&&(f=f.next(()=>function(D){D.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),D.createObjectStore("indexState",{keyPath:al}).createIndex("sequenceNumberIndex",Dh,{unique:!1}),D.createObjectStore("indexEntries",{keyPath:dd}).createIndex("documentKeyIndex",Au,{unique:!1})}(e))),f}Xs(e){let t=0;return e.store("remoteDocuments").X((s,a)=>{t+=Ml(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(a=>Et.forEach(a,l=>{const f=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",f).next(D=>Et.forEach(D,F=>{jn(F.userId===l.userId);const j=Bu(this.serializer,F);return Vc(e,l.userId,j).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const l=[];return s.X((f,D)=>{const F=new ei(f),j=[0,os(F)];l.push(t.get(j).next(ne=>ne?Et.resolve():t.put({targetId:0,path:os(F),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Et.waitFor(l))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Xa});const s=t.store("collectionParents"),a=new fp,l=f=>{if(a.add(f)){const D=f.lastSegment(),F=f.popLast();return s.put({collectionId:D,parent:os(F)})}};return t.store("remoteDocuments").X({Y:!0},(f,D)=>{const F=new ei(f);return l(F.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([f,D,F],j)=>{const ne=Ws(D);return l(ne.popLast())}))}ei(e){const t=e.store("targets");return t.X((s,a)=>{const l=Fc(a),f=Gh(this.serializer,l);return t.put(f)})}ni(e,t){const s=t.store("remoteDocuments"),a=[];return s.X((l,f)=>{const D=t.store("remoteDocumentsV14"),F=(j=f,j.document?new vn(ei.fromString(j.document.name).popFirst(5)):j.noDocument?vn.fromSegments(j.noDocument.path):j.unknownDocument?vn.fromSegments(j.unknownDocument.path):En()).path.toArray();var j;const ne={prefixPath:F.slice(0,F.length-2),collectionGroup:F[F.length-2],documentId:F[F.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};a.push(D.put(ne))}).next(()=>Et.waitFor(a))}si(e,t){const s=t.store("mutations"),a=Po(this.serializer),l=new Ep(Od.zs,this.serializer.fe);return s.j().next(f=>{const D=new Map;return f.forEach(F=>{var j;let ne=null!==(j=D.get(F.userId))&&void 0!==j?j:Kr();Bu(this.serializer,F).keys().forEach(Ve=>ne=ne.add(Ve)),D.set(F.userId,ne)}),Et.forEach(D,(F,j)=>{const ne=new Re(j),Ve=zh.de(this.serializer,ne),_t=l.getIndexManager(ne),Ut=Vu.de(ne,this.serializer,_t,l.referenceDelegate);return new Jh(a,Ut,Ve,_t).recalculateAndSaveOverlaysForDocumentKeys(new Mc(t,Vi.ct),F).next()})})}}function tf(r){r.createObjectStore("targetDocuments",{keyPath:Ch}).createIndex("documentTargetsIndex",Ta,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ld,{unique:!0}),r.createObjectStore("targetGlobal")}const bp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wp{constructor(e,t,s,a,l,f,D,F,j,ne,Ve=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ii=l,this.window=f,this.document=D,this.ri=j,this.oi=ne,this.ui=Ve,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=_t=>Promise.resolve(),!wp.D())throw new $t(Tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new n_(this,a),this.di=t+"main",this.serializer=new Hh(F),this.wi=new Bs(this.di,this.ui,new du(this.serializer)),this.Bs=new gp(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Po(this.serializer),this.qs=new Xv,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===ne&&lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $t(Tt.FAILED_PRECONDITION,bp);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Vi(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var s=(0,te.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,te.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,te.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Pd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Js(e))return yt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return yt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return nf(e).get("owner").next(t=>Et.resolve(this.Ri(t)))}Pi(e){return Pd(e).delete(this.clientId)}bi(){var e=this;return(0,te.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=as(s,"clientMetadata");return a.j().next(l=>{const f=e.Si(l,18e5),D=l.filter(F=>-1===f.indexOf(F));return Et.forEach(D,F=>a.delete(F.clientId)).next(()=>D)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Et.resolve(!0):nf(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new $t(Tt.FAILED_PRECONDITION,bp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Pd(e).j().next(s=>void 0===this.Si(s,5e3).find(a=>{if(this.clientId!==a.clientId){const f=!this.inForeground&&a.inForeground,D=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||f&&D)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&yt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,te.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Mc(t,Vi.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(s=>this.Vi(s.updateTimeMs,t)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Pd(e).j().next(t=>this.Si(t,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Vu.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xm(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return zh.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,s){yt("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",l=15===(f=this.ui)?xc:14===f?Sa:13===f?rc:12===f?ul:11===f?nc:void En();var f;let D;return this.wi.runTransaction(e,a,l,F=>(D=new Mc(F,this.Os?this.Os.next():Vi.ct),"readwrite-primary"===t?this.Ti(D).next(j=>!!j||this.Ei(D)).next(j=>{if(!j)throw lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new $t(Tt.FAILED_PRECONDITION,sl);return s(D)}).next(j=>this.vi(D).next(()=>j)):this.Oi(D).next(()=>s(D)))).then(F=>(D.raiseOnCommittedEvent(),F))}Oi(e){return nf(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new $t(Tt.FAILED_PRECONDITION,bp)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nf(e).put("owner",t)}static D(){return Bs.D()}Ai(e){const t=nf(e);return t.get("owner").next(s=>this.Ri(s)?(yt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Et.resolve())}Vi(e,t){const s=Date.now();return!(e<s-t||e>s&&(lr(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,st.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return yt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return lr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){lr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nf(r){return as(r,"owner")}function Pd(r){return as(r,"clientMetadata")}function Ip(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Cp{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=Kr(),a=Kr();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Cp(e,t.fromCache,s,a)}}class jm{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(l=>l||this.Gi(e,t,a,s)).next(l=>l||this.Qi(e,t))}Ki(e,t){if(gl(t))return Et.resolve(null);let s=Us(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Pc(t,null,"F"),s=Us(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const f=Kr(...l);return this.Ui.getDocuments(e,f).next(D=>this.indexManager.getMinOffset(e,s).next(F=>{const j=this.ji(t,D);return this.zi(t,j,f,F.readTime)?this.Ki(e,Pc(t,null,"F")):this.Wi(e,j,t,F)}))})))}Gi(e,t,s,a){return gl(t)||a.isEqual(nr.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(l=>{const f=this.ji(t,l);return this.zi(t,f,s,a)?this.Qi(e,t):(Vn()<=et.in.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vf(t)),this.Wi(e,f,t,Tc(a,-1)))})}ji(e,t){let s=new xi(em(e));return t.forEach((a,l)=>{yl(e,l)&&(s=s.add(l))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Qi(e,t){return Vn()<=et.in.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",Vf(t)),this.Ui.getDocumentsMatchingQuery(e,t,ys.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(f=>{l=l.insert(f.key,f)}),l))}}class Dp{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new fi(Gn),this.Yi=new ku(l=>an(l),Cn),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jh(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Hm(r,e,t,s){return new Dp(r,e,t,s)}function Gm(r,e){return kl.apply(this,arguments)}function kl(){return kl=(0,te.Z)(function*(r,e){const t=mn(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const f=[],D=[];let F=Kr();for(const j of a){f.push(j.batchId);for(const ne of j.mutations)F=F.add(ne.key)}for(const j of l){D.push(j.batchId);for(const ne of j.mutations)F=F.add(ne.key)}return t.localDocuments.getDocuments(s,F).next(j=>({er:j,removedBatchIds:f,addedBatchIds:D}))})})}),kl.apply(this,arguments)}function Tp(r,e){const t=mn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,D,F,j){const ne=F.batch,Ve=ne.keys();let _t=Et.resolve();return Ve.forEach(Ut=>{_t=_t.next(()=>j.getEntry(D,Ut)).next(un=>{const bn=F.docVersions.get(Ut);jn(null!==bn),un.version.compareTo(bn)<0&&(ne.applyToRemoteDocument(un,F),un.isValidDocument()&&(un.setReadTime(F.commitVersion),j.addEntry(un)))})}),_t.next(()=>f.mutationQueue.removeMutationBatch(D,ne))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let D=Kr();for(let F=0;F<f.mutationResults.length;++F)f.mutationResults[F].transformResults.length>0&&(D=D.add(f.batch.mutations[F].key));return D}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function zm(r){const e=mn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Sp(r,e){const t=mn(r),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const D=[];e.targetChanges.forEach((ne,Ve)=>{const _t=a.get(Ve);if(!_t)return;D.push(t.Bs.removeMatchingKeys(l,ne.removedDocuments,Ve).next(()=>t.Bs.addMatchingKeys(l,ne.addedDocuments,Ve)));let Ut=_t.withSequenceNumber(l.currentSequenceNumber);var un,bn,Fn;null!==e.targetMismatches.get(Ve)?Ut=Ut.withResumeToken(ai.EMPTY_BYTE_STRING,nr.min()).withLastLimboFreeSnapshotVersion(nr.min()):ne.resumeToken.approximateByteSize()>0&&(Ut=Ut.withResumeToken(ne.resumeToken,s)),a=a.insert(Ve,Ut),bn=Ut,Fn=ne,(0===(un=_t).resumeToken.approximateByteSize()||bn.snapshotVersion.toMicroseconds()-un.snapshotVersion.toMicroseconds()>=3e8||Fn.addedDocuments.size+Fn.modifiedDocuments.size+Fn.removedDocuments.size>0)&&D.push(t.Bs.updateTargetData(l,Ut))});let F=ao(),j=Kr();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&D.push(t.persistence.referenceDelegate.updateLimboDocument(l,ne))}),D.push(rf(l,f,e.documentUpdates).next(ne=>{F=ne.nr,j=ne.sr})),!s.isEqual(nr.min())){const ne=t.Bs.getLastRemoteSnapshotVersion(l).next(Ve=>t.Bs.setTargetsMetadata(l,l.currentSequenceNumber,s));D.push(ne)}return Et.waitFor(D).next(()=>f.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,F,j)).next(()=>F)}).then(l=>(t.Ji=a,l))}function rf(r,e,t){let s=Kr(),a=Kr();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let f=ao();return t.forEach((D,F)=>{const j=l.get(D);F.isFoundDocument()!==j.isFoundDocument()&&(a=a.add(D)),F.isNoDocument()&&F.version.isEqual(nr.min())?(e.removeEntry(D,F.readTime),f=f.insert(D,F)):!j.isValidDocument()||F.version.compareTo(j.version)>0||0===F.version.compareTo(j.version)&&j.hasPendingWrites?(e.addEntry(F),f=f.insert(D,F)):yt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",j.version," Watch version:",F.version)}),{nr:f,sr:a}})}function Wm(r,e){const t=mn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Nl(r,e){const t=mn(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(l=>l?(a=l,Et.resolve(a)):t.Bs.allocateTargetId(s).next(f=>(a=new au(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function Fl(r,e,t){return kd.apply(this,arguments)}function kd(){return kd=(0,te.Z)(function*(r,e,t){const s=mn(r),a=s.Ji.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Js(f))throw f;yt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),kd.apply(this,arguments)}function Ap(r,e,t){const s=mn(r);let a=nr.min(),l=Kr();return s.persistence.runTransaction("Execute query","readonly",f=>function(D,F,j){const ne=mn(D),Ve=ne.Yi.get(j);return void 0!==Ve?Et.resolve(ne.Ji.get(Ve)):ne.Bs.getTargetData(F,j)}(s,f,Us(e)).next(D=>{if(D)return a=D.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(f,D.targetId).next(F=>{l=F})}).next(()=>s.Hi.getDocumentsMatchingQuery(f,e,t?a:nr.min(),t?l:Kr())).next(D=>(Mp(s,Jg(e),D),{documents:D,ir:l})))}function Km(r,e){const t=mn(r),s=mn(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>s.le(l,e).next(f=>f?f.target:null))}function xp(r,e){const t=mn(r),s=t.Xi.get(e)||nr.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,Tc(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(Mp(t,e,a),a))}function Mp(r,e,t){let s=r.Xi.get(e)||nr.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Xi.set(e,s)}function sf(){return sf=(0,te.Z)(function*(r,e,t,s){const a=mn(r);let l=Kr(),f=ao();for(const j of t){const ne=e.rr(j.metadata.name);j.document&&(l=l.add(ne));const Ve=e.ur(j);Ve.setReadTime(e.cr(j.metadata.readTime)),f=f.insert(ne,Ve)}const D=a.Zi.newChangeBuffer({trackRemovals:!0}),F=yield Nl(a,(j=s,Us(ca(ei.fromString(`__bundle__/docs/${j}`)))));var j;return a.persistence.runTransaction("Apply bundle documents","readwrite",j=>rf(j,D,f).next(ne=>(D.apply(j),ne)).next(ne=>a.Bs.removeMatchingKeysForTargetId(j,F.targetId).next(()=>a.Bs.addMatchingKeys(j,l,F.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(j,ne.nr,ne.sr)).next(()=>ne.nr)))}),sf.apply(this,arguments)}function qm(r,e){return ka.apply(this,arguments)}function ka(){return ka=(0,te.Z)(function*(r,e,t=Kr()){const s=yield Nl(r,Us(Im(e.bundledQuery))),a=mn(r);return a.persistence.runTransaction("Save named query","readwrite",l=>{const f=Es(e.readTime);if(s.snapshotVersion.compareTo(f)>=0)return a.qs.saveNamedQuery(l,e);const D=s.withResumeToken(ai.EMPTY_BYTE_STRING,f);return a.Ji=a.Ji.insert(D.targetId,D),a.Bs.updateTargetData(l,D).next(()=>a.Bs.removeMatchingKeysForTargetId(l,s.targetId)).next(()=>a.Bs.addMatchingKeys(l,t,s.targetId)).next(()=>a.qs.saveNamedQuery(l,e))})}),ka.apply(this,arguments)}function Nd(r,e){return`firestore_clients_${r}_${e}`}function Zm(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Rp(r,e){return`firestore_targets_${r}_${e}`}class Op{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static ar(e,t,s){const a=JSON.parse(s);let l,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(l=new $t(a.error.code,a.error.message))),f?new Op(e,t,a.state,l):(lr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $c{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static ar(e,t){const s=JSON.parse(t);let a,l="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(a=new $t(s.error.code,s.error.message))),l?new $c(e,s.state,a):(lr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,l=Uf();for(let f=0;a&&f<s.activeTargetIds.length;++f)a=yo(s.activeTargetIds[f]),l=l.add(s.activeTargetIds[f]);return a?new Fd(e,l):(lr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ld{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ld(t.clientId,t.onlineState):(lr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Uc{constructor(){this.activeTargetIds=Uf()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pp{constructor(e,t,s,a,l){this.window=e,this.ii=t,this.persistenceKey=s,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new fi(Gn),this.started=!1,this.yr=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.pr=Nd(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Uc),this.Tr=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(D){return`firestore_bundle_loaded_v2_${D}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,te.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const l=e.getItem(Nd(e.persistenceKey,a));if(l){const f=Fd.ar(a,l);f&&(e.gr=e.gr.insert(f.clientId,f))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const a=e.br(s);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,s){this.Dr(e,t,s),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Rp(this.persistenceKey,e));if(s){const a=$c.ar(e,s);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Rp(this.persistenceKey,e))}updateQueryState(e,t,s){this.kr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return yt("SharedClientState","READ",e,t),t}setItem(e,t){yt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){yt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(yt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,te.Z)(function*(){if(t.started){if(null!==s.key)if(t.Tr.test(s.key)){if(null==s.newValue){const a=t.Or(s.key);return t.Fr(a,null)}{const a=t.Br(s.key,s.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const a=t.Lr(s.key,s.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(s.key)){if(null!==s.newValue){const a=t.Ur(s.key,s.newValue);if(a)return t.Kr(a)}}else if(s.key===t.vr){if(null!==s.newValue){const a=t.br(s.newValue);if(a)return t.Vr(a)}}else if(s.key===t.Ir){const a=function(l){let f=Vi.ct;if(null!=l)try{const D=JSON.parse(l);jn("number"==typeof D),f=D}catch(D){lr("SharedClientState","Failed to read sequence number from WebStorage",D)}return f}(s.newValue);a!==Vi.ct&&t.sequenceNumberHandler(a)}else if(s.key===t.Rr){const a=t.Gr(s.newValue);yield Promise.all(a.map(l=>t.syncEngine.Qr(l)))}}else t.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,s){const a=new Op(this.currentUser,e,t,s),l=Zm(this.persistenceKey,this.currentUser,e);this.setItem(l,a.hr())}Cr(e){const t=Zm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,s){const a=Rp(this.persistenceKey,e),l=new $c(e,t,s);this.setItem(a,l.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const s=this.Or(e);return Fd.ar(s,t)}Lr(e,t){const s=this.Er.exec(e),a=Number(s[1]);return Op.ar(new Re(void 0!==s[2]?s[2]:null),a,t)}Ur(e,t){const s=this.Ar.exec(e),a=Number(s[1]);return $c.ar(a,t)}br(e){return Ld.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,te.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);yt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const s=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),l=this.Sr(s),f=[],D=[];return l.forEach(F=>{a.has(F)||f.push(F)}),a.forEach(F=>{l.has(F)||D.push(F)}),this.syncEngine.Wr(f,D).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Uf();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class of{constructor(){this.Hr=new Uc,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Uc,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xm{Yr(e){}shutdown(){}}class kp{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){yt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){yt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Bd=null;function Np(){return null===Bd?Bd=268435456+Math.round(2147483648*Math.random()):Bd++,"0x"+Bd.toString(16)}const Fp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l_{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const uo="WebChannelConnection";class Qm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,l){const f=Np(),D=this.To(e,t);yt("RestConnection",`Sending RPC '${e}' ${f}:`,D,s);const F={};return this.Eo(F,a,l),this.Ao(e,D,F,s).then(j=>(yt("RestConnection",`Received RPC '${e}' ${f}: `,j),j),j=>{throw Xn("RestConnection",`RPC '${e}' ${f} failed with error: `,j,"url: ",D,"request:",s),j})}vo(e,t,s,a,l,f){return this.Io(e,t,s,a,l)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+He,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}To(e,t){return`${this.mo}/v1/${t}:${Fp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const l=Np();return new Promise((f,D)=>{const F=new b;F.setWithCredentials(!0),F.listenOnce(ea.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case Mo.NO_ERROR:const ne=F.getResponseJson();yt(uo,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(ne)),f(ne);break;case Mo.TIMEOUT:yt(uo,`RPC '${e}' ${l} timed out`),D(new $t(Tt.DEADLINE_EXCEEDED,"Request time out"));break;case Mo.HTTP_ERROR:const Ve=F.getStatus();if(yt(uo,`RPC '${e}' ${l} failed with status:`,Ve,"response text:",F.getResponseText()),Ve>0){let _t=F.getResponseJson();Array.isArray(_t)&&(_t=_t[0]);const Ut=null==_t?void 0:_t.error;if(Ut&&Ut.status&&Ut.message){const un=function(bn){const Fn=bn.toLowerCase().replace(/_/g,"-");return Object.values(Tt).indexOf(Fn)>=0?Fn:Tt.UNKNOWN}(Ut.status);D(new $t(un,Ut.message))}else D(new $t(Tt.UNKNOWN,"Server responded with status "+F.getStatus()))}else D(new $t(Tt.UNAVAILABLE,"Connection failed."));break;default:En()}}finally{yt(uo,`RPC '${e}' ${l} completed.`)}});const j=JSON.stringify(a);yt(uo,`RPC '${e}' ${l} sending request:`,a),F.send(t,"POST",j,s,15)})}Ro(e,t,s){const a=Np(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=$o(),D=Iu(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;void 0!==j&&(F.longPollingTimeout=Math.round(1e3*j)),this.useFetchStreams&&(F.xmlHttpFactory=new x({})),this.Eo(F.initMessageHeaders,t,s),F.encodeInitMessageHeaders=!0;const ne=l.join("");yt(uo,`Creating RPC '${e}' stream ${a}: ${ne}`,F);const Ve=f.createWebChannel(ne,F);let _t=!1,Ut=!1;const un=new l_({ro:Fn=>{Ut?yt(uo,`Not sending because RPC '${e}' stream ${a} is closed:`,Fn):(_t||(yt(uo,`Opening RPC '${e}' stream ${a} transport.`),Ve.open(),_t=!0),yt(uo,`RPC '${e}' stream ${a} sending:`,Fn),Ve.send(Fn))},oo:()=>Ve.close()}),bn=(Fn,Ar,hi)=>{Fn.listen(Ar,Hr=>{try{hi(Hr)}catch(ps){setTimeout(()=>{throw ps},0)}})};return bn(Ve,T.EventType.OPEN,()=>{Ut||yt(uo,`RPC '${e}' stream ${a} transport opened.`)}),bn(Ve,T.EventType.CLOSE,()=>{Ut||(Ut=!0,yt(uo,`RPC '${e}' stream ${a} transport closed`),un.wo())}),bn(Ve,T.EventType.ERROR,Fn=>{Ut||(Ut=!0,Xn(uo,`RPC '${e}' stream ${a} transport errored:`,Fn),un.wo(new $t(Tt.UNAVAILABLE,"The operation could not be completed")))}),bn(Ve,T.EventType.MESSAGE,Fn=>{var Ar;if(!Ut){const hi=Fn.data[0];jn(!!hi);const Hr=hi,ps=Hr.error||(null===(Ar=Hr[0])||void 0===Ar?void 0:Ar.error);if(ps){yt(uo,`RPC '${e}' stream ${a} received error:`,ps);const Qi=ps.status;let ji=function(wc){const Lf=_s[wc];if(void 0!==Lf)return Wf(Lf)}(Qi),Co=ps.message;void 0===ji&&(ji=Tt.INTERNAL,Co="Unknown error status: "+Qi+" with message "+ps.message),Ut=!0,un.wo(new $t(ji,Co)),Ve.close()}else yt(uo,`RPC '${e}' stream ${a} received:`,hi),un._o(hi)}}),bn(D,Ro.STAT_EVENT,Fn=>{Fn.stat===Cc.PROXY?yt(uo,`RPC '${e}' stream ${a} detected buffering proxy`):Fn.stat===Cc.NOPROXY&&yt(uo,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{un.fo()},0),un}}function jc(){return"undefined"!=typeof window?window:null}function Vd(){return"undefined"!=typeof document?document:null}function $d(r){return new gm(r,!0)}class Lp{constructor(e,t,s=1e3,a=1.5,l=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&yt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Hc{constructor(e,t,s,a,l,f,D,F){this.ii=e,this.$o=s,this.Oo=a,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=D,this.listener=F,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Lp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,te.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,te.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,te.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===Tt.RESOURCE_EXHAUSTED?(lr(t.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===Tt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new $t(Tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,te.Z)(function*(){e.state=0,e.start()}))}tu(e){return yt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(yt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d_ extends Hc{constructor(e,t,s,a,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=l}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function qv(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(F=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===F?1:"REMOVE"===F?2:"CURRENT"===F?3:"RESET"===F?4:En(),a=e.targetChange.targetIds||[],l=function(F,j){return F.useProto3Json?(jn(void 0===j||"string"==typeof j),ai.fromBase64String(j||"")):(jn(void 0===j||j instanceof Uint8Array),ai.fromUint8Array(j||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,D=f&&function(F){const j=void 0===F.code?Tt.UNKNOWN:Wf(F.code);return new $t(j,F.message||"")}(f);t=new Dd(s,a,l,D||null)}else if("documentChange"in e){const s=e.documentChange,a=Ma(r,s.document.name),l=Es(s.document.updateTime),f=s.document.createTime?Es(s.document.createTime):nr.min(),D=new wi({mapValue:{fields:s.document.fields}}),F=Ui.newFoundDocument(a,l,f,D);t=new Dl(s.targetIds||[],s.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const s=e.documentDelete,a=Ma(r,s.document),l=s.readTime?Es(s.readTime):nr.min(),f=Ui.newNoDocument(a,l);t=new Dl([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=Ma(r,s.document);t=new Dl([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return En();{const s=e.filter,{count:a=0,unchangedNames:l}=s,f=new lm(a,l);t=new qf(s.targetId,f)}}var F;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return nr.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?nr.min():l.readTime?Es(l.readTime):nr.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=wo(this.serializer),t.addTarget=function(a,l){let f;const D=l.target;if(f=Jn(D)?{documents:Em(a,D)}:{query:ip(a,D)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=Jf(a,l.resumeToken);const F=Qf(a,l.expectedCount);null!==F&&(f.expectedCount=F)}else if(l.snapshotVersion.compareTo(nr.min())>0){f.readTime=Tl(a,l.snapshotVersion.toTimestamp());const F=Qf(a,l.expectedCount);null!==F&&(f.expectedCount=F)}return f}(this.serializer,e);const s=function bm(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return En()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=wo(this.serializer),t.removeTarget=e,this.Wo(t)}}class h_ extends Hc{constructor(e,t,s,a,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(jn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Zv(r,e){return r&&r.length>0?(jn(void 0!==e),r.map(t=>function(s,a){let l=Es(s.updateTime?s.updateTime:a);return l.isEqual(nr.min())&&(l=Es(a)),new wd(l,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Es(e.commitTime);return this.listener.cu(s,t)}return jn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=wo(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>xd(this.serializer,s))};this.Wo(t)}}class f_ extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new $t(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Io(e,t,s,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $t(Tt.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,t,s,l,f,a)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new $t(Tt.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class Bp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(lr(t),this.mu=!1):yt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Jm{constructor(e,t,s,a,l){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(D=>{s.enqueueAndForget((0,te.Z)(function*(){var F;hc(f)&&(yt("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,te.Z)(function*(j){const ne=mn(j);ne.vu.add(4),yield Gc(ne),ne.bu.set("Unknown"),ne.vu.delete(4),yield Ll(ne)}),function(j){return F.apply(this,arguments)})(f))}))}),this.bu=new Bp(s,a)}}function Ll(r){return af.apply(this,arguments)}function af(){return af=(0,te.Z)(function*(r){if(hc(r))for(const e of r.Ru)yield e(!0)}),af.apply(this,arguments)}function Gc(r){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,te.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),Vp.apply(this,arguments)}function uf(r,e){const t=mn(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),cf(t)?ey(t):Vl(t).Ko()&&$p(t,e))}function Ud(r,e){const t=mn(r),s=Vl(t);t.Au.delete(e),s.Ko()&&Up(t,e),0===t.Au.size&&(s.Ko()?s.jo():hc(t)&&t.bu.set("Unknown"))}function $p(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nr.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vl(r).su(e)}function Up(r,e){r.Vu.qt(e),Vl(r).iu(e)}function ey(r){r.Vu=new pm({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),Vl(r).start(),r.bu.gu()}function cf(r){return hc(r)&&!Vl(r).Uo()&&r.Au.size>0}function hc(r){return 0===mn(r).vu.size}function ty(r){r.Vu=void 0}function lE(r){return ny.apply(this,arguments)}function ny(){return ny=(0,te.Z)(function*(r){r.Au.forEach((e,t)=>{$p(r,e)})}),ny.apply(this,arguments)}function jp(r,e){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,te.Z)(function*(r,e){ty(r),cf(r)?(r.bu.Iu(e),ey(r)):r.bu.set("Unknown")}),Hp.apply(this,arguments)}function ry(r,e,t){return lf.apply(this,arguments)}function lf(){return lf=(0,te.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof Dd&&2===e.state&&e.cause)try{yield(s=(0,te.Z)(function*(a,l){const f=l.cause;for(const D of l.targetIds)a.Au.has(D)&&(yield a.remoteSyncer.rejectListen(D,f),a.Au.delete(D),a.Vu.removeTarget(D))}),function(a,l){return s.apply(this,arguments)})(r,e)}catch(s){yt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Gp(r,s)}else if(e instanceof Dl?r.Vu.Ht(e):e instanceof qf?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(nr.min()))try{const s=yield zm(r.localStore);t.compareTo(s)>=0&&(yield function(a,l){const f=a.Vu.ce(l);return f.targetChanges.forEach((D,F)=>{if(D.resumeToken.approximateByteSize()>0){const j=a.Au.get(F);j&&a.Au.set(F,j.withResumeToken(D.resumeToken,l))}}),f.targetMismatches.forEach((D,F)=>{const j=a.Au.get(D);if(!j)return;a.Au.set(D,j.withResumeToken(ai.EMPTY_BYTE_STRING,j.snapshotVersion)),Up(a,D);const ne=new au(j.target,D,F,j.sequenceNumber);$p(a,ne)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){yt("RemoteStore","Failed to raise snapshot:",s),yield Gp(r,s)}var s}),lf.apply(this,arguments)}function Gp(r,e,t){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,te.Z)(function*(r,e,t){if(!Js(e))throw e;r.vu.add(1),yield Gc(r),r.bu.set("Offline"),t||(t=()=>zm(r.localStore)),r.asyncQueue.enqueueRetryable((0,te.Z)(function*(){yt("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield Ll(r)}))}),Yo.apply(this,arguments)}function g_(r,e){return e().catch(t=>Gp(r,t,e))}function jd(r){return df.apply(this,arguments)}function df(){return df=(0,te.Z)(function*(r){const e=mn(r),t=da(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;iy(e);)try{const a=yield Wm(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,sy(e,a)}catch(a){yield Gp(e,a)}oy(e)&&m_(e)}),df.apply(this,arguments)}function iy(r){return hc(r)&&r.Eu.length<10}function sy(r,e){r.Eu.push(e);const t=da(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function oy(r){return hc(r)&&!da(r).Uo()&&r.Eu.length>0}function m_(r){da(r).start()}function ay(r){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,te.Z)(function*(r){da(r).hu()}),Hd.apply(this,arguments)}function y_(r){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,te.Z)(function*(r){const e=da(r);for(const t of r.Eu)e.uu(t.mutations)}),Gd.apply(this,arguments)}function v_(r,e,t){return zp.apply(this,arguments)}function zp(){return zp=(0,te.Z)(function*(r,e,t){const s=r.Eu.shift(),a=Gf.from(s,e,t);yield g_(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield jd(r)}),zp.apply(this,arguments)}function __(r,e){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,te.Z)(function*(r,e){var t;e&&da(r).ou&&(yield(t=(0,te.Z)(function*(s,a){if(dm(l=a.code)&&l!==Tt.ABORTED){const f=s.Eu.shift();da(s).Qo(),yield g_(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield jd(s)}var l}),function(s,a){return t.apply(this,arguments)})(r,e)),oy(r)&&m_(r)}),Wp.apply(this,arguments)}function uy(r,e){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,te.Z)(function*(r,e){const t=mn(r);t.asyncQueue.verifyOperationInProgress(),yt("RemoteStore","RemoteStore received new credentials");const s=hc(t);t.vu.add(3),yield Gc(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Ll(t)}),Kp.apply(this,arguments)}function Bl(r,e){return fc.apply(this,arguments)}function fc(){return fc=(0,te.Z)(function*(r,e){const t=mn(r);e?(t.vu.delete(2),yield Ll(t)):e||(t.vu.add(2),yield Gc(t),t.bu.set("Unknown"))}),fc.apply(this,arguments)}function Vl(r){return r.Su||(r.Su=function(e,t,s){const a=mn(e);return a.fu(),new d_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:lE.bind(null,r),ao:jp.bind(null,r),nu:ry.bind(null,r)}),r.Ru.push(function(){var e=(0,te.Z)(function*(t){t?(r.Su.Qo(),cf(r)?ey(r):r.bu.set("Unknown")):(yield r.Su.stop(),ty(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function da(r){return r.Du||(r.Du=function(e,t,s){const a=mn(e);return a.fu(),new h_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:ay.bind(null,r),ao:__.bind(null,r),au:y_.bind(null,r),cu:v_.bind(null,r)}),r.Ru.push(function(){var e=(0,te.Z)(function*(t){t?(r.Du.Qo(),yield jd(r)):(yield r.Du.stop(),r.Eu.length>0&&(yt("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class Yp{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,l){const f=Date.now()+s,D=new Yp(e,t,f,a,l);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $t(Tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $l(r,e){if(lr("AsyncQueue",`${e}: ${r}`),Js(r))return new $t(Tt.UNAVAILABLE,`${e}: ${r}`);throw r}class pc{constructor(e){this.comparator=e?(t,s)=>e(t,s)||vn.comparator(t.key,s.key):(t,s)=>vn.comparator(t.key,s.key),this.keyedMap=vd(),this.sortedSet=new fi(this.comparator)}static emptySet(e){return new pc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new pc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Na{constructor(){this.Cu=new fi(vn.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):En():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class hu{constructor(e,t,s,a,l,f,D,F,j){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=D,this.excludesMetadataChanges=F,this.hasCachedResults=j}static fromInitialDocuments(e,t,s,a,l){const f=[];return t.forEach(D=>{f.push({type:0,doc:D})}),new hu(e,t,pc.emptySet(t),f,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class co{constructor(){this.Nu=void 0,this.listeners=[]}}class zc{constructor(){this.queries=new ku(e=>yd(e),Pu),this.onlineState="Unknown",this.ku=new Set}}function Ul(r,e){return ko.apply(this,arguments)}function ko(){return ko=(0,te.Z)(function*(r,e){const t=mn(r),s=e.query;let a=!1,l=t.queries.get(s);if(l||(a=!0,l=new co),a)try{l.Nu=yield t.onListen(s)}catch(f){const D=$l(f,`Initialization of query '${Vf(e.query)}' failed`);return void e.onError(D)}t.queries.set(s,l),l.listeners.push(e),e.Mu(t.onlineState),l.Nu&&e.$u(l.Nu)&&mc(t)}),ko.apply(this,arguments)}function zd(r,e){return gc.apply(this,arguments)}function gc(){return gc=(0,te.Z)(function*(r,e){const t=mn(r),s=e.query;let a=!1;const l=t.queries.get(s);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),a=0===l.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),gc.apply(this,arguments)}function jl(r,e){const t=mn(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const D of f.listeners)D.$u(a)&&(s=!0);f.Nu=a}}s&&mc(t)}function Hl(r,e,t){const s=mn(r),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);s.queries.delete(e)}function mc(r){r.ku.forEach(e=>{e.next()})}class yc{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new hu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Gl{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Wc{constructor(e){this.serializer=e}rr(e){return Ma(this.serializer,e)}ur(e){return e.metadata.exists?_m(this.serializer,e.document,!1):Ui.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Es(e)}}class zl{constructor(e,t,s){this.ju=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Kc(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const s=ei.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,s=new Wc(this.serializer);for(const a of e)if(a.metadata.queries){const l=s.rr(a.metadata.name);for(const f of a.metadata.queries){const D=(t.get(f)||Kr()).add(l);t.set(f,D)}}return t}complete(){var e=this;return(0,te.Z)(function*(){const t=yield function Ym(r,e,t,s){return sf.apply(this,arguments)}(e.localStore,new Wc(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const a of e.queries)yield qm(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Kc(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class qp{constructor(e){this.key=e}}class Zp{constructor(e){this.key=e}}class Xp{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Kr(),this.mutatedKeys=Kr(),this.tc=em(e),this.ec=new pc(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new Na,a=t?t.ec:this.ec;let l=t?t.mutatedKeys:this.mutatedKeys,f=a,D=!1;const F="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,j="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ne,Ve)=>{const _t=a.get(ne),Ut=yl(this.query,Ve)?Ve:null,un=!!_t&&this.mutatedKeys.has(_t.key),bn=!!Ut&&(Ut.hasLocalMutations||this.mutatedKeys.has(Ut.key)&&Ut.hasCommittedMutations);let Fn=!1;_t&&Ut?_t.data.isEqual(Ut.data)?un!==bn&&(s.track({type:3,doc:Ut}),Fn=!0):this.rc(_t,Ut)||(s.track({type:2,doc:Ut}),Fn=!0,(F&&this.tc(Ut,F)>0||j&&this.tc(Ut,j)<0)&&(D=!0)):!_t&&Ut?(s.track({type:0,doc:Ut}),Fn=!0):_t&&!Ut&&(s.track({type:1,doc:_t}),Fn=!0,(F||j)&&(D=!0)),Fn&&(Ut?(f=f.add(Ut),l=bn?l.add(ne):l.delete(ne)):(f=f.delete(ne),l=l.delete(ne)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const ne="F"===this.query.limitType?f.last():f.first();f=f.delete(ne.key),l=l.delete(ne.key),s.track({type:1,doc:ne})}return{ec:f,ic:s,zi:D,mutatedKeys:l}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((j,ne)=>function(Ve,_t){const Ut=un=>{switch(un){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return En()}};return Ut(Ve)-Ut(_t)}(j.type,ne.type)||this.tc(j.doc,ne.doc)),this.oc(s);const f=t?this.uc():[],D=0===this.Zu.size&&this.current?1:0,F=D!==this.Xu;return this.Xu=D,0!==l.length||F?{snapshot:new hu(this.query,e.ec,a,l,e.mutatedKeys,0===D,F,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Na,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Kr(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new Zp(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new qp(s))}),t}hc(e){this.Yu=e.ir,this.Zu=Kr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return hu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class cy{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class ly{constructor(e){this.key=e,this.fc=!1}}class dy{constructor(e,t,s,a,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new ku(D=>yd(D),Pu),this._c=new Map,this.mc=new Set,this.gc=new fi(vn.comparator),this.yc=new Map,this.Ic=new _p,this.Tc={},this.Ec=new Map,this.Ac=lc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function hy(r,e){return hf.apply(this,arguments)}function hf(){return hf=(0,te.Z)(function*(r,e){const t=cg(r);let s,a;const l=t.wc.get(e);if(l)s=l.targetId,t.sharedClientState.addLocalQueryTarget(s),a=l.view.lc();else{const f=yield Nl(t.localStore,Us(e)),D=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield ff(t,e,s,"current"===D,f.resumeToken),t.isPrimaryClient&&uf(t.remoteStore,f)}return a}),hf.apply(this,arguments)}function ff(r,e,t,s,a){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,te.Z)(function*(r,e,t,s,a){r.Rc=(Ve,_t,Ut)=>{return(un=(0,te.Z)(function*(bn,Fn,Ar,hi){let Hr=Fn.view.sc(Ar);Hr.zi&&(Hr=yield Ap(bn.localStore,Fn.query,!1).then(({documents:ji})=>Fn.view.sc(ji,Hr)));const ps=hi&&hi.targetChanges.get(Fn.targetId),Qi=Fn.view.applyChanges(Hr,bn.isPrimaryClient,ps);return og(bn,Fn.targetId,Qi.cc),Qi.snapshot}),function(bn,Fn,Ar,hi){return un.apply(this,arguments)})(r,Ve,_t,Ut);var un};const l=yield Ap(r.localStore,e,!0),f=new Xp(e,l.ir),D=f.sc(l.documents),F=Cl.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),j=f.applyChanges(D,r.isPrimaryClient,F);og(r,t,j.cc);const ne=new cy(e,t,f);return r.wc.set(e,ne),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),j.snapshot}),Qp.apply(this,arguments)}function fy(r,e){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,te.Z)(function*(r,e){const t=mn(r),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(l=>!Pu(l,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Fl(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Ud(t.remoteStore,s.targetId),Kd(t,s.targetId)}).catch(jo))):(Kd(t,s.targetId),yield Fl(t.localStore,s.targetId,!0))}),Jp.apply(this,arguments)}function pf(){return pf=(0,te.Z)(function*(r,e,t){const s=Cy(r);try{const a=yield function(l,f){const D=mn(l),F=Li.now(),j=f.reduce((_t,Ut)=>_t.add(Ut.key),Kr());let ne,Ve;return D.persistence.runTransaction("Locally write mutations","readwrite",_t=>{let Ut=ao(),un=Kr();return D.Zi.getEntries(_t,j).next(bn=>{Ut=bn,Ut.forEach((Fn,Ar)=>{Ar.isValidDocument()||(un=un.add(Fn))})}).next(()=>D.localDocuments.getOverlayedDocuments(_t,Ut)).next(bn=>{ne=bn;const Fn=[];for(const Ar of f){const hi=El(Ar,ne.get(Ar.key).overlayedDocument);null!=hi&&Fn.push(new Nu(Ar.key,hi,nu(hi.value.mapValue),Xi.exists(!0)))}return D.mutationQueue.addMutationBatch(_t,F,Fn,f)}).next(bn=>{Ve=bn;const Fn=bn.applyToLocalDocumentSet(ne,un);return D.documentOverlayCache.saveOverlays(_t,bn.batchId,Fn)})}).then(()=>({batchId:Ve.batchId,changes:_d(ne)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(l,f,D){let F=l.Tc[l.currentUser.toKey()];F||(F=new fi(Gn)),F=F.insert(f,D),l.Tc[l.currentUser.toKey()]=F}(s,a.batchId,t),yield $u(s,a.changes),yield jd(s.remoteStore)}catch(a){const l=$l(a,"Failed to persist write");t.reject(l)}}),pf.apply(this,arguments)}function gy(r,e){return eg.apply(this,arguments)}function eg(){return eg=(0,te.Z)(function*(r,e){const t=mn(r);try{const s=yield Sp(t.localStore,e);e.targetChanges.forEach((a,l)=>{const f=t.yc.get(l);f&&(jn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?jn(f.fc):a.removedDocuments.size>0&&(jn(f.fc),f.fc=!1))}),yield $u(t,s,e)}catch(s){yield jo(s)}}),eg.apply(this,arguments)}function tg(r,e,t){const s=mn(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((l,f)=>{const D=f.view.Mu(e);D.snapshot&&a.push(D.snapshot)}),function(l,f){const D=mn(l);D.onlineState=f;let F=!1;D.queries.forEach((j,ne)=>{for(const Ve of ne.listeners)Ve.Mu(f)&&(F=!0)}),F&&mc(D)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function E_(r,e,t){return gf.apply(this,arguments)}function gf(){return gf=(0,te.Z)(function*(r,e,t){const s=mn(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),l=a&&a.key;if(l){let f=new fi(vn.comparator);f=f.insert(l,Ui.newNoDocument(l,nr.min()));const D=Kr().add(l),F=new Il(nr.min(),new Map,new fi(Gn),f,D);yield gy(s,F),s.gc=s.gc.remove(l),s.yc.delete(e),vy(s)}else yield Fl(s.localStore,e,!1).then(()=>Kd(s,e,t)).catch(jo)}),gf.apply(this,arguments)}function b_(r,e){return ng.apply(this,arguments)}function ng(){return ng=(0,te.Z)(function*(r,e){const t=mn(r),s=e.batch.batchId;try{const a=yield Tp(t.localStore,e);my(t,s,null),sg(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield $u(t,a)}catch(a){yield jo(a)}}),ng.apply(this,arguments)}function dE(r,e,t){return rg.apply(this,arguments)}function rg(){return rg=(0,te.Z)(function*(r,e,t){const s=mn(r);try{const a=yield function(l,f){const D=mn(l);return D.persistence.runTransaction("Reject batch","readwrite-primary",F=>{let j;return D.mutationQueue.lookupMutationBatch(F,f).next(ne=>(jn(null!==ne),j=ne.keys(),D.mutationQueue.removeMutationBatch(F,ne))).next(()=>D.mutationQueue.performConsistencyCheck(F)).next(()=>D.documentOverlayCache.removeOverlaysForBatchId(F,j,f)).next(()=>D.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(F,j)).next(()=>D.localDocuments.getDocuments(F,j))})}(s.localStore,e);my(s,e,t),sg(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield $u(s,a)}catch(a){yield jo(a)}}),rg.apply(this,arguments)}function Wd(){return Wd=(0,te.Z)(function*(r,e){const t=mn(r);hc(t.remoteStore)||yt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(l){const f=mn(l);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",D=>f.mutationQueue.getHighestUnacknowledgedBatchId(D))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Ec.get(s)||[];a.push(e),t.Ec.set(s,a)}catch(s){const a=$l(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Wd.apply(this,arguments)}function sg(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function my(r,e,t){const s=mn(r);let a=s.Tc[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function Kd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||w_(r,s)})}function w_(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(Ud(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),vy(r))}function og(r,e,t){for(const s of t)s instanceof qp?(r.Ic.addReference(s.key,e),yy(r,s)):s instanceof Zp?(yt("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||w_(r,s.key)):En()}function yy(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||(yt("SyncEngine","New document in limbo: "+t),r.mc.add(s),vy(r))}function vy(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new vn(ei.fromString(e)),s=r.Ac.next();r.yc.set(s,new ly(t)),r.gc=r.gc.insert(t,s),uf(r.remoteStore,new au(Us(ca(t.path)),s,"TargetPurposeLimboResolution",Vi.ct))}}function $u(r,e,t){return vc.apply(this,arguments)}function vc(){return vc=(0,te.Z)(function*(r,e,t){const s=mn(r),a=[],l=[],f=[];var D;s.wc.isEmpty()||(s.wc.forEach((D,F)=>{f.push(s.Rc(F,e,t).then(j=>{if((j||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(F.targetId,(null==j?void 0:j.fromCache)?"not-current":"current"),j){a.push(j);const ne=Cp.Li(F.targetId,j);l.push(ne)}}))}),yield Promise.all(f),s.dc.nu(a),yield(D=(0,te.Z)(function*(F,j){const ne=mn(F);try{yield ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ve=>Et.forEach(j,_t=>Et.forEach(_t.Fi,Ut=>ne.persistence.referenceDelegate.addReference(Ve,_t.targetId,Ut)).next(()=>Et.forEach(_t.Bi,Ut=>ne.persistence.referenceDelegate.removeReference(Ve,_t.targetId,Ut)))))}catch(Ve){if(!Js(Ve))throw Ve;yt("LocalStore","Failed to update sequence numbers: "+Ve)}for(const Ve of j){const _t=Ve.targetId;if(!Ve.fromCache){const Ut=ne.Ji.get(_t),bn=Ut.withLastLimboFreeSnapshotVersion(Ut.snapshotVersion);ne.Ji=ne.Ji.insert(_t,bn)}}}),function(F,j){return D.apply(this,arguments)})(s.localStore,l))}),vc.apply(this,arguments)}function I_(r,e){return mf.apply(this,arguments)}function mf(){return mf=(0,te.Z)(function*(r,e){const t=mn(r);if(!t.currentUser.isEqual(e)){yt("SyncEngine","User change. New user:",e.toKey());const s=yield Gm(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(f=>{f.forEach(D=>{D.reject(new $t(Tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield $u(t,s.er)}var a}),mf.apply(this,arguments)}function C_(r,e){const t=mn(r),s=t.yc.get(e);if(s&&s.fc)return Kr().add(s.key);{let a=Kr();const l=t._c.get(e);if(!l)return a;for(const f of l){const D=t.wc.get(f);a=a.unionWith(D.view.nc)}return a}}function _y(r,e){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,te.Z)(function*(r,e){const t=mn(r),s=yield Ap(t.localStore,e.query,!0),a=e.view.hc(s);return t.isPrimaryClient&&og(t,e.targetId,a.cc),a}),Wl.apply(this,arguments)}function D_(r,e){return yf.apply(this,arguments)}function yf(){return yf=(0,te.Z)(function*(r,e){const t=mn(r);return xp(t.localStore,e).then(s=>$u(t,s))}),yf.apply(this,arguments)}function T_(r,e,t,s){return ag.apply(this,arguments)}function ag(){return ag=(0,te.Z)(function*(r,e,t,s){const a=mn(r),l=yield function(f,D){const F=mn(f),j=mn(F.mutationQueue);return F.persistence.runTransaction("Lookup mutation documents","readonly",ne=>j.Sn(ne,D).next(Ve=>Ve?F.localDocuments.getDocuments(ne,Ve):Et.resolve(null)))}(a.localStore,e);var D;null!==l?("pending"===t?yield jd(a.remoteStore):"acknowledged"===t||"rejected"===t?(my(a,e,s||null),sg(a,e),D=e,mn(mn(a.localStore).mutationQueue).Cn(D)):En(),yield $u(a,l)):yt("SyncEngine","Cannot apply mutation batch with id: "+e)}),ag.apply(this,arguments)}function ug(){return ug=(0,te.Z)(function*(r,e){const t=mn(r);if(cg(t),Cy(t),!0===e&&!0!==t.vc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield Ey(t,s.toArray());t.vc=!0,yield Bl(t.remoteStore,!0);for(const l of a)uf(t.remoteStore,l)}else if(!1===e&&!1!==t.vc){const s=[];let a=Promise.resolve();t._c.forEach((l,f)=>{t.sharedClientState.isLocalQueryTarget(f)?s.push(f):a=a.then(()=>(Kd(t,f),Fl(t.localStore,f,!0))),Ud(t.remoteStore,f)}),yield a,yield Ey(t,s),function(l){const f=mn(l);f.yc.forEach((D,F)=>{Ud(f.remoteStore,F)}),f.Ic.Ts(),f.yc=new Map,f.gc=new fi(vn.comparator)}(t),t.vc=!1,yield Bl(t.remoteStore,!1)}}),ug.apply(this,arguments)}function Ey(r,e,t){return vf.apply(this,arguments)}function vf(){return vf=(0,te.Z)(function*(r,e,t){const s=mn(r),a=[],l=[];for(const f of e){let D;const F=s._c.get(f);if(F&&0!==F.length){D=yield Nl(s.localStore,Us(F[0]));for(const j of F){const ne=s.wc.get(j),Ve=yield _y(s,ne);Ve.snapshot&&l.push(Ve.snapshot)}}else{const j=yield Km(s.localStore,f);D=yield Nl(s.localStore,j),yield ff(s,by(j),f,!1,D.resumeToken)}a.push(D)}return s.dc.nu(l),a}),vf.apply(this,arguments)}function by(r){return $s(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function wy(r){const e=mn(r);return mn(mn(e.localStore).persistence).$i()}function Iy(r,e,t,s){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,te.Z)(function*(r,e,t,s){const a=mn(r);if(a.vc)return void yt("SyncEngine","Ignoring unexpected query state notification.");const l=a._c.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const f=yield xp(a.localStore,Jg(l[0])),D=Il.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ai.EMPTY_BYTE_STRING);yield $u(a,f,D);break}case"rejected":yield Fl(a.localStore,e,!0),Kd(a,e,s);break;default:En()}}),Yd.apply(this,arguments)}function hE(r,e,t){return qd.apply(this,arguments)}function qd(){return qd=(0,te.Z)(function*(r,e,t){const s=cg(r);if(s.vc){for(const a of e){if(s._c.has(a)){yt("SyncEngine","Adding an already active target "+a);continue}const l=yield Km(s.localStore,a),f=yield Nl(s.localStore,l);yield ff(s,by(l),f.targetId,!1,f.resumeToken),uf(s.remoteStore,f)}for(const a of t)s._c.has(a)&&(yield Fl(s.localStore,a,!1).then(()=>{Ud(s.remoteStore,a),Kd(s,a)}).catch(jo))}}),qd.apply(this,arguments)}function cg(r){const e=mn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=gy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E_.bind(null,e),e.dc.nu=jl.bind(null,e.eventManager),e.dc.Pc=Hl.bind(null,e.eventManager),e}function Cy(r){const e=mn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dE.bind(null,e),e}class Kl{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,te.Z)(function*(){t.serializer=$d(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Hm(this.persistence,new jm,e.initialUser,this.serializer)}createPersistence(e){return new Ep(Od.zs,this.serializer)}createSharedClientState(e){return new of}terminate(){var e=this;return(0,te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Xd extends Kl{constructor(e,t,s){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,te.Z)(function*(){yield t().call(s,e),yield s.Vc.initialize(s,e),yield Cy(s.Vc.syncEngine),yield jd(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Hm(this.persistence,new jm,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new t_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new ec(t,this.persistence);return new Ho(e.asyncQueue,s)}createPersistence(e){const t=Ip(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Os.withCacheSize(this.cacheSizeBytes):Os.DEFAULT;return new wp(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,jc(),Vd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new of}}class Dy extends Xd{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,te.Z)(function*(){yield t().call(s,e);const a=s.Vc.syncEngine;s.sharedClientState instanceof Pp&&(s.sharedClientState.syncEngine={jr:T_.bind(null,a),zr:Iy.bind(null,a),Wr:hE.bind(null,a),$i:wy.bind(null,a),Qr:D_.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var l=(0,te.Z)(function*(f){yield function S_(r,e){return ug.apply(this,arguments)}(s.Vc.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start():f||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(f&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():f||s.indexBackfillerScheduler.stop())});return function(f){return l.apply(this,arguments)}}())})()}createSharedClientState(e){const t=jc();if(!Pp.D(t))throw new $t(Tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Ip(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Pp(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Uu{initialize(e,t){var s=this;return(0,te.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>tg(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=I_.bind(null,s.syncEngine),yield Bl(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new zc}createDatastore(e){const t=$d(e.databaseInfo.databaseId),s=new Qm(e.databaseInfo);return new f_(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,l=D=>tg(this.syncEngine,D,0),f=kp.D()?new kp:new Xm,new Jm(t,s,a,l,f);var t,s,a,l,f}createSyncEngine(e,t){return function(s,a,l,f,D,F,j){const ne=new dy(s,a,l,f,D,F);return j&&(ne.vc=!0),ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,te.Z)(function*(t){const s=mn(t);yt("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield Gc(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Qd(r,e=10240){let t=0;return{read:()=>(0,te.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,te.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Yl{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class fE{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Fi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,te.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,te.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,te.Z)(function*(){const t=yield e.kc();if(null===t)return null;const s=e.xc.decode(t),a=Number(s);isNaN(a)&&e.Mc(`length string (${s}) is not valid number`);const l=yield e.$c(a);return new Gl(JSON.parse(l),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,te.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}$c(e){var t=this;return(0,te.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const s=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,te.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class A_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new $t(Tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,te.Z)(function*(l,f){const D=mn(l),F=wo(D.serializer)+"/documents",j={documents:f.map(Ut=>Ad(D.serializer,Ut))},ne=yield D.vo("BatchGetDocuments",F,j,f.length),Ve=new Map;ne.forEach(Ut=>{const un=function Yv(r,e){return"found"in e?function(t,s){jn(!!s.found);const a=Ma(t,s.found.name),l=Es(s.found.updateTime),f=s.found.createTime?Es(s.found.createTime):nr.min(),D=new wi({mapValue:{fields:s.found.fields}});return Ui.newFoundDocument(a,l,f,D)}(r,e):"missing"in e?function(t,s){jn(!!s.missing),jn(!!s.readTime);const a=Ma(t,s.missing),l=Es(s.readTime);return Ui.newNoDocument(a,l)}(r,e):En()}(D.serializer,Ut);Ve.set(un.key.toString(),un)});const _t=[];return f.forEach(Ut=>{const un=Ve.get(Ut.toString());jn(!!un),_t.push(un)}),_t}),function(l,f){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new bl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const l=vn.fromPath(a);e.mutations.push(new jf(l,e.precondition(l)))}),yield(s=(0,te.Z)(function*(a,l){const f=mn(a),D=wo(f.serializer)+"/documents",F={writes:l.map(j=>xd(f.serializer,j))};yield f.Io("Commit",D,F)}),function(a,l){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw En();t=nr.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new $t(Tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(nr.min())?Xi.exists(!1):Xi.updateTime(t):Xi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(nr.min()))throw new $t(Tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xi.updateTime(t)}return Xi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _f{constructor(e,t,s,a,l){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=l,this.Bc=s.maxAttempts,this.qo=new Lp(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,te.Z)(function*(){const t=new A_(e.datastore),s=e.qc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.Uc(l)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!Go(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!dm(t)}return!1}}class Ef{constructor(e,t,s,a){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Re.UNAUTHENTICATED,this.clientId=Dc.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,te.Z)(function*(D){yt("FirestoreClient","Received user=",D.uid),yield l.authCredentialListener(D),l.user=D});return function(D){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(yt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $t(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=$l(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function ql(r,e){return bf.apply(this,arguments)}function bf(){return bf=(0,te.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),yt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,te.Z)(function*(l){s.isEqual(l)||(yield Gm(e.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),bf.apply(this,arguments)}function Jd(r,e){return wf.apply(this,arguments)}function wf(){return wf=(0,te.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield eh(r);yt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>uy(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>uy(e.remoteStore,l)),r._onlineComponents=e}),wf.apply(this,arguments)}function dg(r){return"FirebaseError"===r.name?r.code===Tt.FAILED_PRECONDITION||r.code===Tt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function eh(r){return If.apply(this,arguments)}function If(){return If=(0,te.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){yt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ql(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!dg(t))throw t;Xn("Error using user provided cache. Falling back to memory cache: "+t),yield ql(r,new Kl)}}else yt("FirestoreClient","Using default OfflineComponentProvider"),yield ql(r,new Kl);return r._offlineComponents}),If.apply(this,arguments)}function Cf(r){return Df.apply(this,arguments)}function Df(){return Df=(0,te.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(yt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Jd(r,r._uninitializedComponentsProvider._online)):(yt("FirestoreClient","Using default OnlineComponentProvider"),yield Jd(r,new Uu))),r._onlineComponents}),Df.apply(this,arguments)}function hg(r){return eh(r).then(e=>e.persistence)}function Zl(r){return eh(r).then(e=>e.localStore)}function fg(r){return Cf(r).then(e=>e.remoteStore)}function pg(r){return Cf(r).then(e=>e.syncEngine)}function Yc(r){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,te.Z)(function*(r){const e=yield Cf(r),t=e.eventManager;return t.onListen=hy.bind(null,e.syncEngine),t.onUnlisten=fy.bind(null,e.syncEngine),t}),Tf.apply(this,arguments)}function mg(r,e,t={}){const s=new Fi;return r.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(a,l,f,D,F){const j=new Yl({next:Ve=>{l.enqueueAndForget(()=>zd(a,ne));const _t=Ve.docs.has(f);!_t&&Ve.fromCache?F.reject(new $t(Tt.UNAVAILABLE,"Failed to get document because the client is offline.")):_t&&Ve.fromCache&&D&&"server"===D.source?F.reject(new $t(Tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):F.resolve(Ve)},error:Ve=>F.reject(Ve)}),ne=new yc(ca(f.path),j,{includeMetadataChanges:!0,Ku:!0});return Ul(a,ne)}(yield Yc(r),r.asyncQueue,e,t,s)})),s.promise}function yg(r,e,t={}){const s=new Fi;return r.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(a,l,f,D,F){const j=new Yl({next:Ve=>{l.enqueueAndForget(()=>zd(a,ne)),Ve.fromCache&&"server"===D.source?F.reject(new $t(Tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):F.resolve(Ve)},error:Ve=>F.reject(Ve)}),ne=new yc(f,j,{includeMetadataChanges:!0,Ku:!0});return Ul(a,ne)}(yield Yc(r),r.asyncQueue,e,t,s)})),s.promise}function Oy(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Py=new Map;function Af(r,e,t){if(!t)throw new $t(Tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ky(r,e,t,s){if(!0===e&&!0===s)throw new $t(Tt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Ps(r){if(!vn.isDocumentKey(r))throw new $t(Tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function vg(r){if(vn.isDocumentKey(r))throw new $t(Tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function xf(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":En()}function ii(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new $t(Tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xf(r);throw new $t(Tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function _g(r,e){if(e<=0)throw new $t(Tt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Ny{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new $t(Tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $t(Tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ky("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Oy(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new $t(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new $t(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new $t(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xl{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ny({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $t(Tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $t(Tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ny(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ku;switch(t.type){case"firstParty":return new na(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new $t(Tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Py.get(e);t&&(yt("ComponentProvider","Removing Datastore"),Py.delete(e),t.terminate())}(this),Promise.resolve()}}class Mi{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mi(this.firestore,e,this._key)}}class to{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class fu extends to{constructor(e,t,s){super(e,t,ca(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mi(this.firestore,null,new vn(e))}withConverter(e){return new fu(this.firestore,e,this._path)}}function bg(r,e,...t){if(r=(0,st.m9)(r),Af("collection","path",e),r instanceof Xl){const s=ei.fromString(e,...t);return vg(s),new fu(r,null,s)}{if(!(r instanceof Mi||r instanceof fu))throw new $t(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ei.fromString(e,...t));return vg(s),new fu(r.firestore,null,s)}}function th(r,e,...t){if(r=(0,st.m9)(r),1===arguments.length&&(e=Dc.A()),Af("doc","path",e),r instanceof Xl){const s=ei.fromString(e,...t);return Ps(s),new Mi(r,null,new vn(s))}{if(!(r instanceof Mi||r instanceof fu))throw new $t(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ei.fromString(e,...t));return Ps(s),new Mi(r.firestore,r instanceof fu?r.converter:null,new vn(s))}}function M_(r,e){return r=(0,st.m9)(r),e=(0,st.m9)(e),(r instanceof Mi||r instanceof fu)&&(e instanceof Mi||e instanceof fu)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Mf(r,e){return r=(0,st.m9)(r),e=(0,st.m9)(e),r instanceof to&&e instanceof to&&r.firestore===e.firestore&&Pu(r._query,e._query)&&r.converter===e.converter}class wg{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Lp(this,"async_queue_retry"),this.Xc=()=>{const t=Vd();t&&yt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Vd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Vd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Fi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,te.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Js(t))throw t;yt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,lr("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=Yp.createAndSchedule(this,e,t,s,l=>this.na(l));return this.zc.push(a),a}Zc(){this.Wc&&En()}verifyOperationInProgress(){}sa(){var e=this;return(0,te.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function ha(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class R_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class di extends Xl{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new wg,this._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ig(this),this._firestoreClient.terminate()}}function bs(r){return r._firestoreClient||Ig(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Ig(r){var e,t,s;const a=r._freezeSettings(),l=(D=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new hd(r._databaseId,D,r._persistenceKey,(j=a).host,j.ssl,j.experimentalForceLongPolling,j.experimentalAutoDetectLongPolling,Oy(j.experimentalLongPollingOptions),j.useFetchStreams));var D,j;r._firestoreClient=new Ef(r._authCredentials,r._appCheckCredentials,r._queue,l),(null===(t=a.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(s=a.cache)||void 0===s?void 0:s._onlineComponentProvider)&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Ly(r,e,t){const s=new Fi;return r.asyncQueue.enqueue((0,te.Z)(function*(){try{yield ql(r,t),yield Jd(r,e),s.resolve()}catch(a){const l=a;if(!dg(l))throw l;Xn("Error enabling indexeddb cache. Falling back to memory cache: "+l),s.reject(l)}})).then(()=>s.promise)}function Dg(r){if(r._initialized||r._terminated)throw new $t(Tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fa(ai.fromBase64String(e))}catch(t){throw new $t(Tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fa(ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new $t(Tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yu{constructor(e){this._methodName=e}}class Ql{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $t(Tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $t(Tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gn(this._lat,e._lat)||Gn(this._long,e._long)}}const $y=/^__.*__$/;class Uy{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Nu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nc(e,this.data,t,this.fieldTransforms)}}class Tg{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Nu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Sg(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw En()}}class rh{constructor(e,t,s,a,l,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new rh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Pf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Sg(this.ca)&&$y.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class jy{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||$d(e)}ya(e,t,s,a=!1){return new rh({ca:e,methodName:t,ga:s,path:_i.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ec(r){const e=r._freezeSettings(),t=$d(r._databaseId);return new jy(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Rf(r,e,t,s,a,l={}){const f=r.ya(l.merge||l.mergeFields?2:0,e,t,a);Rg("Data must be an object, but it was:",f,s);const D=zy(s,f);let F,j;if(l.merge)F=new Ks(f.fieldMask),j=f.fieldTransforms;else if(l.mergeFields){const ne=[];for(const Ve of l.mergeFields){const _t=sh(e,Ve,t);if(!f.contains(_t))throw new $t(Tt.INVALID_ARGUMENT,`Field '${_t}' is specified in your field mask but missing from your input data.`);Og(ne,_t)||ne.push(_t)}F=new Ks(ne),j=f.fieldTransforms.filter(Ve=>F.covers(Ve.field))}else F=null,j=f.fieldTransforms;return new Uy(new wi(D),F,j)}class ih extends yu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ih}}function Hy(r,e,t){return new rh({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ag extends yu{_toFieldTransform(e){return new bd(e.path,new Eo)}isEqual(e){return e instanceof Ag}}class V_ extends yu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Hy(this,e,!0),s=this.pa.map(l=>qc(l,t)),a=new vl(s);return new bd(e.path,a)}isEqual(e){return this===e}}class $_ extends yu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Hy(this,e,!0),s=this.pa.map(l=>qc(l,t)),a=new uc(s);return new bd(e.path,a)}isEqual(e){return this===e}}class U_ extends yu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new bo(e.serializer,sm(e.serializer,this.Ia));return new bd(e.path,t)}isEqual(e){return this===e}}function xg(r,e,t,s){const a=r.ya(1,e,t);Rg("Data must be an object, but it was:",a,s);const l=[],f=wi.empty();Rs(s,(F,j)=>{const ne=Of(e,F,t);j=(0,st.m9)(j);const Ve=a.da(ne);if(j instanceof ih)l.push(ne);else{const _t=qc(j,Ve);null!=_t&&(l.push(ne),f.set(ne,_t))}});const D=new Ks(l);return new Tg(f,D,a.fieldTransforms)}function Mg(r,e,t,s,a,l){const f=r.ya(1,e,t),D=[sh(e,s,t)],F=[a];if(l.length%2!=0)throw new $t(Tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _t=0;_t<l.length;_t+=2)D.push(sh(e,l[_t])),F.push(l[_t+1]);const j=[],ne=wi.empty();for(let _t=D.length-1;_t>=0;--_t)if(!Og(j,D[_t])){const Ut=D[_t];let un=F[_t];un=(0,st.m9)(un);const bn=f.da(Ut);if(un instanceof ih)j.push(Ut);else{const Fn=qc(un,bn);null!=Fn&&(j.push(Ut),ne.set(Ut,Fn))}}const Ve=new Ks(j);return new Tg(ne,Ve,f.fieldTransforms)}function Gy(r,e,t,s=!1){return qc(t,r.ya(s?4:3,e))}function qc(r,e){if(Wy(r=(0,st.m9)(r)))return Rg("Unsupported field value:",e,r),zy(r,e);if(r instanceof yu)return function(t,s){if(!Sg(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let l=0;for(const f of t){let D=qc(f,s.wa(l));null==D&&(D={nullValue:"NULL_VALUE"}),a.push(D),l++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,st.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return sm(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Li.fromDate(t);return{timestampValue:Tl(s.serializer,a)}}if(t instanceof Li){const a=new Li(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Tl(s.serializer,a)}}if(t instanceof Ql)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Fa)return{bytesValue:Jf(s.serializer,t._byteString)};if(t instanceof Mi){const a=s.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw s._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:mm(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${xf(t)}`)}(r,e)}function zy(r,e){const t={};return Ja(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(r,(s,a)=>{const l=qc(a,e.ha(s));null!=l&&(t[s]=l)}),{mapValue:{fields:t}}}function Wy(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Li||r instanceof Ql||r instanceof Fa||r instanceof Mi||r instanceof yu)}function Rg(r,e,t){if(!Wy(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=xf(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function sh(r,e,t){if((e=(0,st.m9)(e))instanceof mu)return e._internalPath;if("string"==typeof e)return Of(r,e);throw Pf("Field path arguments must be of type string or ",r,!1,void 0,t)}const j_=new RegExp("[~\\*/\\[\\]]");function Of(r,e,t){if(e.search(j_)>=0)throw Pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new mu(...e.split("."))._internalPath}catch(s){throw Pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Pf(r,e,t,s,a){const l=s&&!s.isEmpty(),f=void 0!==a;let D=`Function ${e}() called with invalid data`;t&&(D+=" (via `toFirestore()`)"),D+=". ";let F="";return(l||f)&&(F+=" (found",l&&(F+=` in field ${s}`),f&&(F+=` in document ${a}`),F+=")"),new $t(Tt.INVALID_ARGUMENT,D+r+F)}function Og(r,e){return r.some(t=>t.isEqual(e))}class Jl{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Mi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ky(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ky extends Jl{data(){return super.data()}}function oh(r,e){return"string"==typeof e?Of(r,e):e instanceof mu?e._internalPath:e._delegate._internalPath}function Pg(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new $t(Tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kf{}class ed extends kf{}function ju(r,e,...t){let s=[];e instanceof kf&&s.push(e),s=s.concat(t),function(a){const l=a.filter(D=>D instanceof Zc).length,f=a.filter(D=>D instanceof td).length;if(l>1||l>0&&f>0)throw new $t(Tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class td extends ed{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new td(e,t,s)}_apply(e){const t=this._parse(e);return ch(e._query,t),new to(e.firestore,e.converter,ml(e._query,t))}_parse(e){const t=Ec(e.firestore);return function(a,l,f,D,F,j,ne){let Ve;if(F.isKeyField()){if("array-contains"===j||"array-contains-any"===j)throw new $t(Tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${j}' queries on documentId().`);if("in"===j||"not-in"===j){Xy(ne,j);const _t=[];for(const Ut of ne)_t.push(uh(D,a,Ut));Ve={arrayValue:{values:_t}}}else Ve=uh(D,a,ne)}else"in"!==j&&"not-in"!==j&&"array-contains-any"!==j||Xy(ne,j),Ve=Gy(f,"where",ne,"in"===j||"not-in"===j);return Xr.create(F,j,Ve)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Zc extends kf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zc(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:ri.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let l=s;const f=a.getFlattenedFilters();for(const D of f)ch(l,D),l=ml(l,D)}(e._query,t),new to(e.firestore,e.converter,ml(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class kg extends ed{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new kg(e,t)}_apply(e){const t=function(s,a,l){if(null!==s.startAt)throw new $t(Tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new $t(Tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new Rc(a,l);return function(D,F){if(null===Oc(D)){const j=hs(D);null!==j&&lh(0,j,F.field)}}(s,f),f}(e._query,this._field,this._direction);return new to(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new Ys(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Ng extends ed{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Ng(e,t,s)}_apply(e){return new to(e.firestore,e.converter,Pc(e._query,this._limit,this._limitType))}}class ah extends ed{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new ah(e,t,s)}_apply(e){const t=Zy(e,this.type,this._docOrFields,this._inclusive);return new to(e.firestore,e.converter,(a=t,new Ys((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class dr extends ed{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new dr(e,t,s)}_apply(e){const t=Zy(e,this.type,this._docOrFields,this._inclusive);return new to(e.firestore,e.converter,(a=t,new Ys((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function Zy(r,e,t,s){if(t[0]=(0,st.m9)(t[0]),t[0]instanceof Jl)return function(a,l,f,D,F){if(!D)throw new $t(Tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const j=[];for(const ne of la(a))if(ne.field.isKeyField())j.push(yn(l,D.key));else{const Ve=D.data.field(ne.field);if(tu(Ve))throw new $t(Tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ne.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ve){const _t=ne.field.canonicalString();throw new $t(Tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_t}' (used as the orderBy) does not exist.`)}j.push(Ve)}return new ua(j,F)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const a=Ec(r.firestore);return function(l,f,D,F,j,ne){const Ve=l.explicitOrderBy;if(j.length>Ve.length)throw new $t(Tt.INVALID_ARGUMENT,`Too many arguments provided to ${F}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _t=[];for(let Ut=0;Ut<j.length;Ut++){const un=j[Ut];if(Ve[Ut].field.isKeyField()){if("string"!=typeof un)throw new $t(Tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${F}(), but got a ${typeof un}`);if(!iu(l)&&-1!==un.indexOf("/"))throw new $t(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${F}() must be a plain document ID, but '${un}' contains a slash.`);const bn=l.path.child(ei.fromString(un));if(!vn.isDocumentKey(bn))throw new $t(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${F}() must result in a valid document path, but '${bn}' is not because it contains an odd number of segments.`);const Fn=new vn(bn);_t.push(yn(f,Fn))}else{const bn=Gy(D,F,un);_t.push(bn)}}return new ua(_t,ne)}(r._query,r.firestore._databaseId,a,e,t,s)}}function uh(r,e,t){if("string"==typeof(t=(0,st.m9)(t))){if(""===t)throw new $t(Tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iu(e)&&-1!==t.indexOf("/"))throw new $t(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ei.fromString(t));if(!vn.isDocumentKey(s))throw new $t(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return yn(r,new vn(s))}if(t instanceof Mi)return yn(r,t._key);throw new $t(Tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xf(t)}.`)}function Xy(r,e){if(!Array.isArray(r)||0===r.length)throw new $t(Tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ch(r,e){if(e.isInequality()){const s=hs(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new $t(Tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const l=Oc(r);null!==l&&lh(0,a,l)}const t=function(s,a){for(const l of s)for(const f of l.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new $t(Tt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function lh(r,e,t){if(!t.isEqual(e))throw new $t(Tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Qy{convertValue(e,t="none"){switch(xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw En()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Rs(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertGeoPoint(e){return new Ql(qi(e.latitude),qi(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=_o(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Aa(e));default:return null}}convertTimestamp(e){const t=oa(e);return new Li(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ei.fromString(e);jn(jh(s));const a=new eo(s.get(1),s.get(3)),l=new vn(s.popFirst(5));return a.isEqual(t)||lr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function dh(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class z_ extends Qy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mi(this.firestore,null,t)}}class Xc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hu extends Jl{constructor(e,t,s,a,l,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(oh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class hh extends Hu{data(e={}){return super.data(e)}}class fa{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Xc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new hh(this._firestore,this._userDataWriter,s.key,s,new Xc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $t(Tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new hh(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Xc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const D=new hh(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Xc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let F=-1,j=-1;return 0!==f.type&&(F=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),j=l.indexOf(f.doc.key)),{type:q_(f.type),doc:D,oldIndex:F,newIndex:j}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function q_(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return En()}}function ev(r,e){return r instanceof Hu&&e instanceof Hu?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof fa&&e instanceof fa&&r._firestore===e._firestore&&Mf(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class La extends Qy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mi(this.firestore,null,t)}}function id(r,e,t){r=ii(r,Mi);const s=ii(r.firestore,di),a=dh(r.converter,e,t);return Qc(s,[Rf(Ec(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,Xi.none())])}function iv(r,e,t,...s){r=ii(r,Mi);const a=ii(r.firestore,di),l=Ec(a);let f;return f="string"==typeof(e=(0,st.m9)(e))||e instanceof mu?Mg(l,"updateDoc",r._key,e,t,s):xg(l,"updateDoc",r._key,e),Qc(a,[f.toMutation(r._key,Xi.exists(!0))])}function Lg(r,...e){var t,s,a;r=(0,st.m9)(r);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||ha(e[f])||(l=e[f],f++);const D={includeMetadataChanges:l.includeMetadataChanges};if(ha(e[f])){const Ve=e[f];e[f]=null===(t=Ve.next)||void 0===t?void 0:t.bind(Ve),e[f+1]=null===(s=Ve.error)||void 0===s?void 0:s.bind(Ve),e[f+2]=null===(a=Ve.complete)||void 0===a?void 0:a.bind(Ve)}let F,j,ne;if(r instanceof Mi)j=ii(r.firestore,di),ne=ca(r._key.path),F={next:Ve=>{e[f]&&e[f](Bg(j,r,Ve))},error:e[f+1],complete:e[f+2]};else{const Ve=ii(r,to);j=ii(Ve.firestore,di),ne=Ve._query;const _t=new La(j);F={next:Ut=>{e[f]&&e[f](new fa(j,_t,Ve,Ut))},error:e[f+1],complete:e[f+2]},Pg(r._query)}return function(Ve,_t,Ut,un){const bn=new Yl(un),Fn=new yc(_t,bn,Ut);return Ve.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return Ul(yield Yc(Ve),Fn)})),()=>{bn.Dc(),Ve.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return zd(yield Yc(Ve),Fn)}))}}(bs(j),ne,D,F)}function Qc(r,e){return function(t,s){const a=new Fi;return t.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function py(r,e,t){return pf.apply(this,arguments)}(yield pg(t),s,a)})),a.promise}(bs(r),e)}function Bg(r,e,t){const s=t.docs.get(e._key),a=new La(r);return new Hu(r,a,e._key,s,new Xc(t.hasPendingWrites,t.fromCache),e.converter)}const o0={maxAttempts:5};class av{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ec(e)}set(e,t,s){this._verifyNotCommitted();const a=bc(e,this._firestore),l=dh(a.converter,t,s),f=Rf(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,s);return this._mutations.push(f.toMutation(a._key,Xi.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const l=bc(e,this._firestore);let f;return f="string"==typeof(t=(0,st.m9)(t))||t instanceof mu?Mg(this._dataReader,"WriteBatch.update",l._key,t,s,a):xg(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(f.toMutation(l._key,Xi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=bc(e,this._firestore);return this._mutations=this._mutations.concat(new bl(t._key,Xi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $t(Tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bc(r,e){if((r=(0,st.m9)(r)).firestore!==e)throw new $t(Tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class a0 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ec(e)}get(e){const t=bc(e,this._firestore),s=new z_(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return En();const l=a[0];if(l.isFoundDocument())return new Jl(this._firestore,s,l.key,l,t.converter);if(l.isNoDocument())return new Jl(this._firestore,s,t._key,null,t.converter);throw En()})}set(e,t,s){const a=bc(e,this._firestore),l=dh(a.converter,t,s),f=Rf(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,s);return this._transaction.set(a._key,f),this}update(e,t,s,...a){const l=bc(e,this._firestore);let f;return f="string"==typeof(t=(0,st.m9)(t))||t instanceof mu?Mg(this._dataReader,"Transaction.update",l._key,t,s,a):xg(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,f),this}delete(e){const t=bc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=bc(e,this._firestore),s=new La(this._firestore);return super.get(e).then(a=>new Hu(this._firestore,s,t._key,a._document,new Xc(!1,!1),t.converter))}}function gh(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $t("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function hv(){if("undefined"==typeof Uint8Array)throw new $t("unimplemented","Uint8Arrays are not available in this environment.")}function $g(){if(!function ic(){return"undefined"!=typeof atob}())throw new $t("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){He=Ke.SDK_VERSION,(0,Ke._registerComponent)(new Oe.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const l=t.getProvider("app").getImmediate(),f=new di(new Uo(t.getProvider("auth-internal")),new wa(t.getProvider("app-check-internal")),function(D,F){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new $t(Tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eo(D.options.projectId,F)}(l,s),l);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,Ke.registerVersion)(re,"3.13.0",r),(0,Ke.registerVersion)(re,"3.13.0","esm2017")}();class od{constructor(e){this._delegate=e}static fromBase64String(e){return $g(),new od(Fa.fromBase64String(e))}static fromUint8Array(e){return hv(),new od(Fa.fromUint8Array(e))}toBase64(){return $g(),this._delegate.toBase64()}toUint8Array(){return hv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ug(r){return function f0(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class p0{enableIndexedDbPersistence(e,t){return function O_(r,e){Dg(r=ii(r,di));const t=bs(r);if(t._uninitializedComponentsProvider)throw new $t(Tt.FAILED_PRECONDITION,"SDK cache is already specified.");Xn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=r._freezeSettings(),a=new Uu;return Ly(t,a,new Xd(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function P_(r){Dg(r=ii(r,di));const e=bs(r);if(e._uninitializedComponentsProvider)throw new $t(Tt.FAILED_PRECONDITION,"SDK cache is already specified.");Xn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),s=new Uu;return Ly(e,s,new Dy(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function k_(r){if(r._initialized&&!r._terminated)throw new $t(Tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fi;return r._queue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{yield(t=(0,te.Z)(function*(s){if(!Bs.D())return Promise.resolve();const a=s+"main";yield Bs.delete(a)}),function(s){return t.apply(this,arguments)})(Ip(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Nf{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof eo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Xn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Eg(r,e,t,s={}){var a;const l=(r=ii(r,Xl))._getSettings(),f=`${e}:${t}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Xn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),s.mockUserToken){let D,F;if("string"==typeof s.mockUserToken)D=s.mockUserToken,F=Re.MOCK_USER;else{D=(0,st.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const j=s.mockUserToken.sub||s.mockUserToken.user_id;if(!j)throw new $t(Tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new Re(j)}r._authCredentials=new ta(new ss(D,F))}}(this._delegate,e,t,s)}enableNetwork(){return function nh(r){return function Sf(r){return r.asyncQueue.enqueue((0,te.Z)(function*(){const e=yield hg(r),t=yield fg(r);return e.setNetworkEnabled(!0),function(s){const a=mn(s);return a.vu.delete(0),Ll(a)}(t)}))}(bs(r=ii(r,di)))}(this._delegate)}disableNetwork(){return function N_(r){return function Ty(r){return r.asyncQueue.enqueue((0,te.Z)(function*(){const e=yield hg(r),t=yield fg(r);return e.setNetworkEnabled(!1),(s=(0,te.Z)(function*(a){const l=mn(a);l.vu.add(0),yield Gc(l),l.bu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(bs(r=ii(r,di)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,ky("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Cg(r){return function(e){const t=new Fi;return e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function ig(r,e){return Wd.apply(this,arguments)}(yield pg(e),t)})),t.promise}(bs(r=ii(r,di)))}(this._delegate)}onSnapshotsInSync(e){return function sv(r,e){return function xy(r,e){const t=new Yl(e);return r.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return s=yield Yc(r),a=t,mn(s).ku.add(a),void a.next();var s,a})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return s=yield Yc(r),a=t,void mn(s).ku.delete(a);var s,a}))}}(bs(r=ii(r,di)),ha(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new $t("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new el(this,bg(this._delegate,e))}catch(t){throw Io(t,"collection()","Firestore.collection()")}}doc(e){try{return new pa(this,th(this._delegate,e))}catch(t){throw Io(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new lo(this,function x_(r,e){if(r=ii(r,Xl),Af("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $t(Tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new to(r,null,(t=e,new Ys(ei.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Io(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function uv(r,e,t){r=ii(r,di);const s=Object.assign(Object.assign({},o0),t);return function(a){if(a.maxAttempts<1)throw new $t(Tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,l,f){const D=new Fi;return a.asyncQueue.enqueueAndForget((0,te.Z)(function*(){const F=yield function gg(r){return Cf(r).then(e=>e.datastore)}(a);new _f(a.asyncQueue,F,f,l,D).run()})),D.promise}(bs(r),a=>e(new a0(r,a)),s)}(this._delegate,t=>e(new pv(this,t)))}batch(){return bs(this._delegate),new gv(new av(this._delegate,e=>Qc(this._delegate,e)))}loadBundle(e){return function L_(r,e){const t=bs(r=ii(r,di)),s=new R_;return function My(r,e,t,s){const a=function(l,f){let D;return D="string"==typeof l?Kf().encode(l):l,F=function(F,j){if(F instanceof Uint8Array)return Qd(F,j);if(F instanceof ArrayBuffer)return Qd(new Uint8Array(F),j);if(F instanceof ReadableStream)return F.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(D),new fE(F,f);var F}(t,$d(e));r.asyncQueue.enqueueAndForget((0,te.Z)(function*(){!function Zd(r,e,t){const s=mn(r);var a;(a=(0,te.Z)(function*(l,f,D){try{const F=yield f.getMetadata();if(yield function(_t,Ut){const un=mn(_t),bn=Es(Ut.createTime);return un.persistence.runTransaction("hasNewerBundle","readonly",Fn=>un.qs.getBundleMetadata(Fn,Ut.id)).then(Fn=>!!Fn&&Fn.createTime.compareTo(bn)>=0)}(l.localStore,F))return yield f.close(),D._completeWith({taskState:"Success",documentsLoaded:(_t=F).totalDocuments,bytesLoaded:_t.totalBytes,totalDocuments:_t.totalDocuments,totalBytes:_t.totalBytes}),Promise.resolve(new Set);D._updateProgress(Kc(F));const j=new zl(F,l.localStore,f.serializer);let ne=yield f.bc();for(;ne;){const _t=yield j.zu(ne);_t&&D._updateProgress(_t),ne=yield f.bc()}const Ve=yield j.complete();return yield $u(l,Ve.Ju,void 0),yield function(_t,Ut){const un=mn(_t);return un.persistence.runTransaction("Save bundle","readwrite",bn=>un.qs.saveBundleMetadata(bn,Ut))}(l.localStore,F),D._completeWith(Ve.progress),Promise.resolve(Ve.Hu)}catch(F){return Xn("SyncEngine",`Loading bundle failed with ${F}`),D._failWith(F),Promise.resolve(new Set)}var _t}),function(l,f,D){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield pg(r),a,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function By(r,e){return function Ry(r,e){return r.asyncQueue.enqueue((0,te.Z)(function*(){return function(t,s){const a=mn(t);return a.persistence.runTransaction("Get named query","readonly",l=>a.qs.getNamedQuery(l,s))}(yield Zl(r),e)}))}(bs(r=ii(r,di)),e).then(t=>t?new to(r,null,t.query):null)}(this._delegate,e).then(t=>t?new lo(this,t):null)}}class Ff extends Qy{constructor(e){super(),this.firestore=e}convertBytes(e){return new od(new Fa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return pa.forKey(t,this.firestore,null)}}class pv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ff(e)}get(e){const t=tl(e);return this._delegate.get(t).then(s=>new mh(this._firestore,new Hu(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=tl(e);return s?(gh("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=tl(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=tl(e);return this._delegate.delete(t),this}}class gv{constructor(e){this._delegate=e}set(e,t,s){const a=tl(e);return s?(gh("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=tl(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=tl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Jc{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new hh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ad(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Jc.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let l=a.get(t);return l||(l=new Jc(e,new Ff(e),t),a.set(t,l)),l}}Jc.INSTANCES=new WeakMap;class pa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ff(e)}static forPath(e,t,s){if(e.length%2!=0)throw new $t("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new pa(t,new Mi(t._delegate,s,new vn(e)))}static forKey(e,t,s){return new pa(t,new Mi(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new el(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new el(this.firestore,bg(this._delegate,e))}catch(t){throw Io(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,st.m9)(e))instanceof Mi&&M_(this._delegate,e)}set(e,t){t=gh("DocumentReference.set",t);try{return t?id(this._delegate,e,t):id(this._delegate,e)}catch(s){throw Io(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?iv(this._delegate,e):iv(this._delegate,e,t,...s)}catch(a){throw Io(a,"updateDoc()","DocumentReference.update()")}}delete(){return function Q_(r){return Qc(ii(r.firestore,di),[new bl(r._key,Xi.none())])}(this._delegate)}onSnapshot(...e){const t=mv(e),s=yv(e,a=>new mh(this.firestore,new Hu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Lg(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function tv(r){r=ii(r,Mi);const e=ii(r.firestore,di),t=bs(e),s=new La(e);return function Sy(r,e){const t=new Fi;return r.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(s=(0,te.Z)(function*(a,l,f){try{const D=yield function(F,j){const ne=mn(F);return ne.persistence.runTransaction("read document","readonly",Ve=>ne.localDocuments.getDocument(Ve,j))}(a,l);D.isFoundDocument()?f.resolve(D):D.isNoDocument()?f.resolve(null):f.reject(new $t(Tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(D){const F=$l(D,`Failed to get document '${l} from cache`);f.reject(F)}}),function(a,l,f){return s.apply(this,arguments)})(yield Zl(r),e,t);var s})),t.promise}(t,r._key).then(a=>new Hu(e,s,r._key,a,new Xc(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function nv(r){r=ii(r,Mi);const e=ii(r.firestore,di);return mg(bs(e),r._key,{source:"server"}).then(t=>Bg(e,r,t))}(this._delegate):function Z_(r){r=ii(r,Mi);const e=ii(r.firestore,di);return mg(bs(e),r._key).then(t=>Bg(e,r,t))}(this._delegate),t.then(s=>new mh(this.firestore,new Hu(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new pa(this.firestore,this._delegate.withConverter(e?Jc.getInstance(this.firestore,e):null))}}function Io(r,e,t){return r.message=r.message.replace(e,t),r}function mv(r){for(const e of r)if("object"==typeof e&&!Ug(e))return e;return{}}function yv(r,e){var t,s;let a;return a=Ug(r[0])?r[0]:Ug(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class mh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new pa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ev(this._delegate,e._delegate)}}class ad extends mh{data(e){const t=this._delegate.data(e);return function Oo(r,e){r||En()}(void 0!==t),t}}class lo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ff(e)}where(e,t,s){try{return new lo(this.firestore,ju(this._delegate,function Yy(r,e,t){const s=e,a=oh("where",r);return td._create(a,s,t)}(e,t,s)))}catch(a){throw Io(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new lo(this.firestore,ju(this._delegate,function rd(r,e="asc"){const t=e,s=oh("orderBy",r);return kg._create(s,t)}(e,t)))}catch(s){throw Io(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new lo(this.firestore,ju(this._delegate,function Fg(r){return _g("limit",r),Ng._create("limit",r,"F")}(e)))}catch(t){throw Io(t,"limit()","Query.limit()")}}limitToLast(e){try{return new lo(this.firestore,ju(this._delegate,function mE(r){return _g("limitToLast",r),Ng._create("limitToLast",r,"L")}(e)))}catch(t){throw Io(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new lo(this.firestore,ju(this._delegate,function qy(...r){return ah._create("startAt",r,!0)}(...e)))}catch(t){throw Io(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new lo(this.firestore,ju(this._delegate,function yE(...r){return ah._create("startAfter",r,!1)}(...e)))}catch(t){throw Io(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new lo(this.firestore,ju(this._delegate,function H_(...r){return dr._create("endBefore",r,!1)}(...e)))}catch(t){throw Io(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new lo(this.firestore,ju(this._delegate,function G_(...r){return dr._create("endAt",r,!0)}(...e)))}catch(t){throw Io(t,"endAt()","Query.endAt()")}}isEqual(e){return Mf(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function X_(r){r=ii(r,to);const e=ii(r.firestore,di),t=bs(e),s=new La(e);return function Ay(r,e){const t=new Fi;return r.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(s=(0,te.Z)(function*(a,l,f){try{const D=yield Ap(a,l,!0),F=new Xp(l,D.ir),j=F.sc(D.documents),ne=F.applyChanges(j,!1);f.resolve(ne.snapshot)}catch(D){const F=$l(D,`Failed to execute query '${l} against cache`);f.reject(F)}}),function(a,l,f){return s.apply(this,arguments)})(yield Zl(r),e,t);var s})),t.promise}(t,r._query).then(a=>new fa(e,s,r,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function fh(r){r=ii(r,to);const e=ii(r.firestore,di),t=bs(e),s=new La(e);return yg(t,r._query,{source:"server"}).then(a=>new fa(e,s,r,a))}(this._delegate):function rv(r){r=ii(r,to);const e=ii(r.firestore,di),t=bs(e),s=new La(e);return Pg(r._query),yg(t,r._query).then(a=>new fa(e,s,r,a))}(this._delegate),t.then(s=>new jg(this.firestore,new fa(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=mv(e),s=yv(e,a=>new jg(this.firestore,new fa(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Lg(this._delegate,t,s)}withConverter(e){return new lo(this.firestore,this._delegate.withConverter(e?Jc.getInstance(this.firestore,e):null))}}class g0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ad(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new lo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ad(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new g0(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new ad(this._firestore,s))})}isEqual(e){return ev(this._delegate,e._delegate)}}class el extends lo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pa(this.firestore,e):null}doc(e){try{return new pa(this.firestore,void 0===e?th(this._delegate):th(this._delegate,e))}catch(t){throw Io(t,"doc()","CollectionReference.doc()")}}add(e){return function J_(r,e){const t=ii(r.firestore,di),s=th(r),a=dh(r.converter,e);return Qc(t,[Rf(Ec(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,Xi.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new pa(this.firestore,t))}isEqual(e){return M_(this._delegate,e._delegate)}withConverter(e){return new el(this.firestore,this._delegate.withConverter(e?Jc.getInstance(this.firestore,e):null))}}function tl(r){return ii(r,Mi)}class Hg{constructor(...e){this._delegate=new mu(...e)}static documentId(){return new Hg(_i.keyField().canonicalString())}isEqual(e){return(e=(0,st.m9)(e))instanceof mu&&this._delegate._internalPath.isEqual(e._internalPath)}}class nl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function c0(){return new Ag("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new nl(e)}static delete(){const e=function u0(){return new ih("deleteField")}();return e._methodName="FieldValue.delete",new nl(e)}static arrayUnion(...e){const t=function sd(...r){return new V_("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new nl(t)}static arrayRemove(...e){const t=function l0(...r){return new $_("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new nl(t)}static increment(e){const t=function cv(r){return new U_("increment",r)}(e);return t._methodName="FieldValue.increment",new nl(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Gg={Firestore:Nf,GeoPoint:Ql,Timestamp:Li,Blob:od,Transaction:pv,WriteBatch:gv,DocumentReference:pa,DocumentSnapshot:mh,Query:lo,QueryDocumentSnapshot:ad,QuerySnapshot:jg,CollectionReference:el,FieldPath:Hg,FieldValue:nl,setLogLevel:function fv(r){!function Yr(r){Ot.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function vv(r){(function zg(r,e){r.INTERNAL.registerComponent(new Oe.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(s,a)},"PUBLIC").setServiceProps(Object.assign({},Gg)))})(r,(e,t)=>new Nf(e,t,new p0)),r.registerVersion("@firebase/firestore-compat","0.3.12")}(ut.Z);var vu=O(40913),m0=O(56217),y0=O(29260);function _v(r,e){return function Wg(r,e=P.z){return new k.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(r,e)}function Kg(r,e){return _v(r,e).pipe((0,me.U)(t=>({payload:t,type:"query"})))}function yh(r,e){return Kg(r,e).pipe((0,X.O)(void 0),ye(),(0,me.U)(([t,s])=>{const a=s.payload.docChanges(),l=a.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((f,D)=>{const F=a.find(ne=>ne.doc.ref.isEqual(f.ref)),j=null==t?void 0:t.payload.docs.find(ne=>ne.ref.isEqual(f.ref));F&&JSON.stringify(F.doc.metadata)===JSON.stringify(f.metadata)||!F&&j&&JSON.stringify(j.metadata)===JSON.stringify(f.metadata)||l.push({type:"modified",payload:{oldIndex:D,newIndex:D,type:"modified",doc:f}})}),l}))}function bv(r,e,t){return yh(r,t).pipe((0,ce.R)((s,a)=>function wv(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function v0(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Iv(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Iv(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Iv(r,e.oldIndex,1)}return r}(r,s))}),r}(s,a.map(l=>l.payload),e),[]),(0,ke.x)(),(0,me.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function Iv(r,e,t,...s){const a=r.slice();return a.splice(e,t,...s),a}function vh(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class Cv{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=yh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,me.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,X.O)(void 0),ye(),(0,we.h)(([s,a])=>a.length>0||!s),(0,me.U)(([s,a])=>a),ie.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ce.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=vh(e);return bv(this.query,t,this.afs.schedulers.outsideAngular).pipe(ie.iC)}valueChanges(e={}){return Kg(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),ie.iC)}get(e){return(0,Ie.D)(this.query.get(e)).pipe(ie.iC)}add(e){return this.ref.add(e)}doc(e){return new rl(this.ref.doc(e),this.afs)}}class rl{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:l}=Sv(s,t);return new Cv(a,l,this.afs)}snapshotChanges(){return function Ev(r,e){return _v(r,e).pipe((0,X.O)(void 0),ye(),(0,me.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ie.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,me.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ie.D)(this.ref.get(e)).pipe(ie.iC)}}class _h{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?yh(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,we.h)(t=>t.length>0),ie.iC):yh(this.query,this.afs.schedulers.outsideAngular).pipe(ie.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ce.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=vh(e);return bv(this.query,t,this.afs.schedulers.outsideAngular).pipe(ie.iC)}valueChanges(e={}){return Kg(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),ie.iC)}get(e){return(0,Ie.D)(this.query.get(e)).pipe(ie.iC)}}const Dv=new u.OlP("angularfire2.enableFirestorePersistence"),_0=new u.OlP("angularfire2.firestore.persistenceSettings"),Tv=new u.OlP("angularfire2.firestore.settings"),E0=new u.OlP("angularfire2.firestore.use-emulator");function Sv(r,e=(t=>t)){return{query:e(r),ref:r}}let Av=(()=>{class r{constructor(t,s,a,l,f,D,F,j,ne,Ve,_t,Ut,un,bn,Fn,Ar,hi){this.schedulers=F;const Hr=(0,pe.on)(t,D,s),ps=ne;Ve&&(0,vu.nw)(Hr,D,_t,un,bn,Fn,Ut,Ar),[this.firestore,this.persistenceEnabled$]=(0,pe.cc)(`${Hr.name}.firestore`,"AngularFirestore",Hr.name,()=>{const Qi=D.runOutsideAngular(()=>Hr.firestore());if(l&&Qi.settings(l),ps&&Qi.useEmulator(...ps),a&&!(0,Le.PM)(f)){const ji=()=>{try{return(0,Ie.D)(Qi.enablePersistence(j||void 0).then(()=>!0,()=>!1))}catch(Co){return"undefined"!=typeof console&&console.warn(Co),(0,Ee.of)(!1)}};return[Qi,D.runOutsideAngular(ji)]}return[Qi,(0,Ee.of)(!1)]},[l,ps,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:f}=Sv(a,s),D=this.schedulers.ngZone.run(()=>l);return new Cv(D,f,this)}collectionGroup(t,s){const a=s||(f=>f),l=this.firestore.collectionGroup(t);return new _h(a(l),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new rl(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(u.LFG(pe.Dh),u.LFG(pe.xv,8),u.LFG(Dv,8),u.LFG(Tv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ie.HU),u.LFG(_0,8),u.LFG(E0,8),u.LFG(vu.zQ,8),u.LFG(vu.Qv,8),u.LFG(vu.L6,8),u.LFG(vu._Q,8),u.LFG(vu.rT,8),u.LFG(vu.lh,8),u.LFG(vu.f7,8),u.LFG(m0.nm,8))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),b0=(()=>{class r{constructor(){y0.Z.registerVersion("angularfire",ie.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:Dv,useValue:!0},{provide:_0,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({providers:[Av]}),r})()},12011:(Kt,Je,O)=>{"use strict";O.d(Je,{hO:()=>ce,xv:()=>le,Dh:()=>ye,GT:()=>ie,cc:()=>ke,on:()=>Y,pX:()=>Ee});var u=O(29863),P=O(29260),k=O(48405);Kt=O.hmd(Kt);const Ie=["ngOnDestroy"],Ee=(Te,ut,te,Ke={})=>new Proxy(Te,{get:(Oe,et)=>te.runOutsideAngular(()=>{var st;if(Te[et])return(null===(st=null==Ke?void 0:Ke.spy)||void 0===st?void 0:st.get)&&Ke.spy.get(et,Te[et]),Te[et];if(Ie.indexOf(et)>-1)return()=>{};const lt=ut.toPromise().then(Pe=>{const ae=Pe&&Pe[et];return"function"==typeof ae?ae.bind(Pe):ae&&ae.then?ae.then(Se=>te.run(()=>Se)):te.run(()=>ae)});return new Proxy(()=>{},{get:(Pe,ae)=>lt[ae],apply:(Pe,ae,Se)=>lt.then(he=>{var Ae;const Ce=he&&he(...Se);return(null===(Ae=null==Ke?void 0:Ke.spy)||void 0===Ae?void 0:Ae.apply)&&Ke.spy.apply(et,Se,Ce),Ce})})})}),ie=(Te,ut)=>{ut.forEach(te=>{Object.getOwnPropertyNames(te.prototype||te).forEach(Ke=>{Object.defineProperty(Te.prototype,Ke,Object.getOwnPropertyDescriptor(te.prototype||te,Ke))})})};class de{constructor(ut){return ut}}const ye=new u.OlP("angularfire2.app.options"),le=new u.OlP("angularfire2.app.name");function Y(Te,ut,te){const Oe="object"==typeof te&&te||{};Oe.name=Oe.name||"string"==typeof te&&te||"[DEFAULT]";const st=P.Z.apps.filter(lt=>lt&&lt.name===Oe.name)[0]||ut.runOutsideAngular(()=>P.Z.initializeApp(Te,Oe));try{JSON.stringify(Te)!==JSON.stringify(st.options)&&X("error",`${st.name} Firebase App already initialized with different options${Kt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(lt){}return new de(st)}const X=(Te,...ut)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Te](...ut)},me={provide:de,useFactory:Y,deps:[ye,u.R0b,[new u.FiY,le]]};let ce=(()=>{class Te{constructor(te){P.Z.registerVersion("angularfire",k.q4.full,"core"),P.Z.registerVersion("angularfire",k.q4.full,"app-compat"),P.Z.registerVersion("angular",u.q4F.full,te.toString())}static initializeApp(te,Ke){return{ngModule:Te,providers:[{provide:ye,useValue:te},{provide:le,useValue:Ke}]}}}return Te.\u0275fac=function(te){return new(te||Te)(u.LFG(u.Lbi))},Te.\u0275mod=u.oAB({type:Te}),Te.\u0275inj=u.cJS({providers:[me]}),Te})();function ke(Te,ut,te,Ke,Oe){const[,et,st]=globalThis.\u0275AngularfireInstanceCache.find(lt=>lt[0]===Te)||[];if(et)return function we(Te,ut){try{return Te.toString()===ut.toString()}catch(te){return Te===ut}}(Oe,st)||(Le("error",`${ut} was already initialized on the ${te} Firebase App with different settings.${pe?" You may need to reload as Firebase is not HMR aware.":""}`),Le("warn",{is:Oe,was:st})),et;{const lt=Ke();return globalThis.\u0275AngularfireInstanceCache.push([Te,lt,Oe]),lt}}const pe=!!Kt.hot,Le=(Te,...ut)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Te](...ut)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},48405:(Kt,Je,O)=>{"use strict";O.d(Je,{q4:()=>as,iC:()=>eo,fc:()=>Aa,HU:()=>qi,vb:()=>ic,JM:()=>Mu});var u=O(29863),P=O(70259),k=O(15861),Ie=O(6881),Ee=O(42090),ie=O(34859),de=O(41877);let le,Y;const ce=new WeakMap,ke=new WeakMap,we=new WeakMap,pe=new WeakMap,Le=new WeakMap;let te={get(I,M,G){if(I instanceof IDBTransaction){if("done"===M)return ke.get(I);if("objectStoreNames"===M)return I.objectStoreNames||we.get(I);if("store"===M)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return st(I[M])},set:(I,M,G)=>(I[M]=G,!0),has:(I,M)=>I instanceof IDBTransaction&&("done"===M||"store"===M)||M in I};function et(I){return"function"==typeof I?function Oe(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...M){return I.apply(lt(this),M),st(ce.get(this))}:function(...M){return st(I.apply(lt(this),M))}:function(M,...G){const De=I.call(lt(this),M,...G);return we.set(De,M.sort?M.sort():[M]),st(De)}}(I):(I instanceof IDBTransaction&&function ut(I){if(ke.has(I))return;const M=new Promise((G,De)=>{const Xe=()=>{I.removeEventListener("complete",ht),I.removeEventListener("error",Pt),I.removeEventListener("abort",Pt)},ht=()=>{G(),Xe()},Pt=()=>{De(I.error||new DOMException("AbortError","AbortError")),Xe()};I.addEventListener("complete",ht),I.addEventListener("error",Pt),I.addEventListener("abort",Pt)});ke.set(I,M)}(I),((I,M)=>M.some(G=>I instanceof G))(I,function X(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,te):I)}function st(I){if(I instanceof IDBRequest)return function Te(I){const M=new Promise((G,De)=>{const Xe=()=>{I.removeEventListener("success",ht),I.removeEventListener("error",Pt)},ht=()=>{G(st(I.result)),Xe()},Pt=()=>{De(I.error),Xe()};I.addEventListener("success",ht),I.addEventListener("error",Pt)});return M.then(G=>{G instanceof IDBCursor&&ce.set(G,I)}).catch(()=>{}),Le.set(M,I),M}(I);if(pe.has(I))return pe.get(I);const M=et(I);return M!==I&&(pe.set(I,M),Le.set(M,I)),M}const lt=I=>Le.get(I),Se=["get","getKey","getAll","getAllKeys","count"],he=["put","add","delete","clear"],Ae=new Map;function Ce(I,M){if(!(I instanceof IDBDatabase)||M in I||"string"!=typeof M)return;if(Ae.get(M))return Ae.get(M);const G=M.replace(/FromIndex$/,""),De=M!==G,Xe=he.includes(G);if(!(G in(De?IDBIndex:IDBObjectStore).prototype)||!Xe&&!Se.includes(G))return;const ht=function(){var Pt=(0,k.Z)(function*(yn,...gn){const Wn=this.transaction(yn,Xe?"readwrite":"readonly");let _r=Wn.store;return De&&(_r=_r.index(gn.shift())),(yield Promise.all([_r[G](...gn),Xe&&Wn.done]))[0]});return function(gn){return Pt.apply(this,arguments)}}();return Ae.set(M,ht),ht}!function Ke(I){te=I(te)}(I=>Lv(Fv({},I),{get:(M,G,De)=>Ce(M,G)||I.get(M,G,De),has:(M,G)=>!!Ce(M,G)||I.has(M,G)}));const $e="@firebase/installations",dt="w:0.6.4",qe="FIS_v2",jt=new Ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function kt(I){return I instanceof Ee.ZR&&I.code.includes("request-failed")}function Zt({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Tn(I){return{token:I.token,requestStatus:2,expiresIn:Mt(I.expiresIn),creationTime:Date.now()}}function Rn(I,M){return hn.apply(this,arguments)}function hn(){return(hn=(0,k.Z)(function*(I,M){const De=(yield M.json()).error;return jt.create("request-failed",{requestName:I,serverCode:De.code,serverMessage:De.message,serverStatus:De.status})})).apply(this,arguments)}function Mn({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function or(I,{refreshToken:M}){const G=Mn(I);return G.append("Authorization",function Qn(I){return`${qe} ${I}`}(M)),G}function Dn(I){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,k.Z)(function*(I){const M=yield I();return M.status>=500&&M.status<600?I():M})).apply(this,arguments)}function Mt(I){return Number(I.replace("s","000"))}function Er(I,M){return br.apply(this,arguments)}function br(){return(br=(0,k.Z)(function*({appConfig:I,heartbeatServiceProvider:M},{fid:G}){const De=Zt(I),Xe=Mn(I),ht=M.getImmediate({optional:!0});if(ht){const Wn=yield ht.getHeartbeatsHeader();Wn&&Xe.append("x-firebase-client",Wn)}const yn={method:"POST",headers:Xe,body:JSON.stringify({fid:G,authVersion:qe,appId:I.appId,sdkVersion:dt})},gn=yield Dn(()=>fetch(De,yn));if(gn.ok){const Wn=yield gn.json();return{fid:Wn.fid||G,registrationStatus:2,refreshToken:Wn.refreshToken,authToken:Tn(Wn.authToken)}}throw yield Rn("Create Installation",gn)})).apply(this,arguments)}function rn(I){return new Promise(M=>{setTimeout(M,I)})}const On=/^[cdef][\w-]{21}$/;function Ue(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const G=function je(I){return function ti(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return On.test(G)?G:""}catch(I){return""}}function Dt(I){return`${I.appName}!${I.appId}`}const wt=new Map;function zt(I,M){const G=Dt(I);qn(G,M),function Hn(I,M){const G=function hr(){return!Vr&&"BroadcastChannel"in self&&(Vr=new BroadcastChannel("[Firebase] FID Change"),Vr.onmessage=I=>{qn(I.data.key,I.data.fid)}),Vr}();G&&G.postMessage({key:I,fid:M}),function cn(){0===wt.size&&Vr&&(Vr.close(),Vr=null)}()}(G,M)}function qn(I,M){const G=wt.get(I);if(G)for(const De of G)De(M)}let Vr=null;const Bn="firebase-installations-store";let Pn=null;function Kn(){return Pn||(Pn=function Pe(I,M,{blocked:G,upgrade:De,blocking:Xe,terminated:ht}={}){const Pt=indexedDB.open(I,M),yn=st(Pt);return De&&Pt.addEventListener("upgradeneeded",gn=>{De(st(Pt.result),gn.oldVersion,gn.newVersion,st(Pt.transaction))}),G&&Pt.addEventListener("blocked",()=>G()),yn.then(gn=>{ht&&gn.addEventListener("close",()=>ht()),Xe&&gn.addEventListener("versionchange",()=>Xe())}).catch(()=>{}),yn}("firebase-installations-database",1,{upgrade:(I,M)=>{0===M&&I.createObjectStore(Bn)}})),Pn}function fr(I,M){return pr.apply(this,arguments)}function pr(){return(pr=(0,k.Z)(function*(I,M){const G=Dt(I),Xe=(yield Kn()).transaction(Bn,"readwrite"),ht=Xe.objectStore(Bn),Pt=yield ht.get(G);return yield ht.put(M,G),yield Xe.done,(!Pt||Pt.fid!==M.fid)&&zt(I,M.fid),M})).apply(this,arguments)}function Dr(I){return xr.apply(this,arguments)}function xr(){return(xr=(0,k.Z)(function*(I){const M=Dt(I),De=(yield Kn()).transaction(Bn,"readwrite");yield De.objectStore(Bn).delete(M),yield De.done})).apply(this,arguments)}function ar(I,M){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,k.Z)(function*(I,M){const G=Dt(I),Xe=(yield Kn()).transaction(Bn,"readwrite"),ht=Xe.objectStore(Bn),Pt=yield ht.get(G),yn=M(Pt);return void 0===yn?yield ht.delete(G):yield ht.put(yn,G),yield Xe.done,yn&&(!Pt||Pt.fid!==yn.fid)&&zt(I,yn.fid),yn})).apply(this,arguments)}function Fe(I){return _e.apply(this,arguments)}function _e(){return(_e=(0,k.Z)(function*(I){let M;const G=yield ar(I.appConfig,De=>{const Xe=se(De),ht=fe(I,Xe);return M=ht.registrationPromise,ht.installationEntry});return""===G.fid?{installationEntry:yield M}:{installationEntry:G,registrationPromise:M}})).apply(this,arguments)}function se(I){return Sn(I||{fid:Ue(),registrationStatus:0})}function fe(I,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(jt.create("app-offline"))};const G={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},De=function Q(I,M){return tt.apply(this,arguments)}(I,G);return{installationEntry:G,registrationPromise:De}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:Ct(I)}:{installationEntry:M}}function tt(){return(tt=(0,k.Z)(function*(I,M){try{const G=yield Er(I,M);return fr(I.appConfig,G)}catch(G){throw kt(G)&&409===G.customData.serverCode?yield Dr(I.appConfig):yield fr(I.appConfig,{fid:M.fid,registrationStatus:0}),G}})).apply(this,arguments)}function Ct(I){return sn.apply(this,arguments)}function sn(){return(sn=(0,k.Z)(function*(I){let M=yield Un(I.appConfig);for(;1===M.registrationStatus;)yield rn(100),M=yield Un(I.appConfig);if(0===M.registrationStatus){const{installationEntry:G,registrationPromise:De}=yield Fe(I);return De||G}return M})).apply(this,arguments)}function Un(I){return ar(I,M=>{if(!M)throw jt.create("installation-not-found");return Sn(M)})}function Sn(I){return function dn(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function on(I,M){return tr.apply(this,arguments)}function tr(){return(tr=(0,k.Z)(function*({appConfig:I,heartbeatServiceProvider:M},G){const De=kn(I,G),Xe=or(I,G),ht=M.getImmediate({optional:!0});if(ht){const Wn=yield ht.getHeartbeatsHeader();Wn&&Xe.append("x-firebase-client",Wn)}const yn={method:"POST",headers:Xe,body:JSON.stringify({installation:{sdkVersion:dt,appId:I.appId}})},gn=yield Dn(()=>fetch(De,yn));if(gn.ok)return Tn(yield gn.json());throw yield Rn("Generate Auth Token",gn)})).apply(this,arguments)}function kn(I,{fid:M}){return`${Zt(I)}/${M}/authTokens:generate`}function Gr(I){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,k.Z)(function*(I,M=!1){let G;const De=yield ar(I.appConfig,ht=>{if(!In(ht))throw jt.create("not-registered");const Pt=ht.authToken;if(!M&&Ft(Pt))return ht;if(1===Pt.requestStatus)return G=It(I,M),ht;{if(!navigator.onLine)throw jt.create("app-offline");const yn=zn(ht);return G=Xt(I,yn),yn}});return G?yield G:De.authToken})).apply(this,arguments)}function It(I,M){return ct.apply(this,arguments)}function ct(){return(ct=(0,k.Z)(function*(I,M){let G=yield Bt(I.appConfig);for(;1===G.authToken.requestStatus;)yield rn(100),G=yield Bt(I.appConfig);const De=G.authToken;return 0===De.requestStatus?Gr(I,M):De})).apply(this,arguments)}function Bt(I){return ar(I,M=>{if(!In(M))throw jt.create("not-registered");return function gr(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function Xt(I,M){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,k.Z)(function*(I,M){try{const G=yield on(I,M),De=Object.assign(Object.assign({},M),{authToken:G});return yield fr(I.appConfig,De),G}catch(G){if(!kt(G)||401!==G.customData.serverCode&&404!==G.customData.serverCode){const De=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield fr(I.appConfig,De)}else yield Dr(I.appConfig);throw G}})).apply(this,arguments)}function In(I){return void 0!==I&&2===I.registrationStatus}function Ft(I){return 2===I.requestStatus&&!function ln(I){const M=Date.now();return M<I.creationTime||I.creationTime+I.expiresIn<M+36e5}(I)}function zn(I){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:M})}function Or(){return(Or=(0,k.Z)(function*(I){const M=I,{installationEntry:G,registrationPromise:De}=yield Fe(M);return De?De.catch(console.error):Gr(M).catch(console.error),G.fid})).apply(this,arguments)}function Tr(){return(Tr=(0,k.Z)(function*(I,M=!1){const G=I;return yield Zr(G),(yield Gr(G,M)).token})).apply(this,arguments)}function Zr(I){return zr.apply(this,arguments)}function zr(){return(zr=(0,k.Z)(function*(I){const{registrationPromise:M}=yield Fe(I);M&&(yield M)})).apply(this,arguments)}function xe(I){return jt.create("missing-app-config-values",{valueName:I})}const Be="installations",bt=I=>{const M=I.getProvider("app").getImmediate(),G=function ee(I){if(!I||!I.options)throw xe("App Configuration");if(!I.name)throw xe("App Name");const M=["projectId","apiKey","appId"];for(const G of M)if(!I.options[G])throw xe(G);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(M);return{app:M,appConfig:G,heartbeatServiceProvider:(0,Ie._getProvider)(M,"heartbeat"),_delete:()=>Promise.resolve()}},Rt=I=>{const M=I.getProvider("app").getImmediate(),G=(0,Ie._getProvider)(M,Be).getImmediate();return{getId:()=>function Wr(I){return Or.apply(this,arguments)}(G),getToken:Xe=>function pi(I){return Tr.apply(this,arguments)}(G,Xe)}};(function At(){(0,Ie._registerComponent)(new ie.wA(Be,bt,"PUBLIC")),(0,Ie._registerComponent)(new ie.wA("installations-internal",Rt,"PRIVATE"))})(),(0,Ie.registerVersion)($e,"0.6.4"),(0,Ie.registerVersion)($e,"0.6.4","esm2017");const Ht="@firebase/remote-config",Lr=new Ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ts{constructor(M,G,De,Xe){this.client=M,this.storage=G,this.storageCache=De,this.logger=Xe}isCachedDataFresh(M,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const De=Date.now()-G,Xe=De<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${De}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${Xe}.`),Xe}fetch(M){var G=this;return(0,k.Z)(function*(){const[De,Xe]=yield Promise.all([G.storage.getLastSuccessfulFetchTimestampMillis(),G.storage.getLastSuccessfulFetchResponse()]);if(Xe&&G.isCachedDataFresh(M.cacheMaxAgeMillis,De))return Xe;M.eTag=Xe&&Xe.eTag;const ht=yield G.client.fetch(M),Pt=[G.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ht.status&&Pt.push(G.storage.setLastSuccessfulFetchResponse(ht)),yield Promise.all(Pt),ht})()}}function yi(I=navigator){return I.languages&&I.languages[0]||I.language}class ve{constructor(M,G,De,Xe,ht,Pt){this.firebaseInstallations=M,this.sdkVersion=G,this.namespace=De,this.projectId=Xe,this.apiKey=ht,this.appId=Pt}fetch(M){var G=this;return(0,k.Z)(function*(){const[De,Xe]=yield Promise.all([G.firebaseInstallations.getId(),G.firebaseInstallations.getToken()]),Pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${G.projectId}/namespaces/${G.namespace}:fetch?key=${G.apiKey}`,yn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},gn={sdk_version:G.sdkVersion,app_instance_id:De,app_instance_id_token:Xe,app_id:G.appId,language_code:yi()},Wn={method:"POST",headers:yn,body:JSON.stringify(gn)},_r=fetch(Pt,Wn),Cr=new Promise((Ds,so)=>{M.signal.addEventListener(()=>{const wi=new Error("The operation was aborted.");wi.name="AbortError",so(wi)})});let Vs;try{yield Promise.race([_r,Cr]),Vs=yield _r}catch(Ds){let so="fetch-client-network";throw"AbortError"===(null==Ds?void 0:Ds.name)&&(so="fetch-timeout"),Lr.create(so,{originalErrorMessage:null==Ds?void 0:Ds.message})}let Zi=Vs.status;const Ru=Vs.headers.get("ETag")||void 0;let dl,Ou;if(200===Vs.status){let Ds;try{Ds=yield Vs.json()}catch(so){throw Lr.create("fetch-client-parse",{originalErrorMessage:null==so?void 0:so.message})}dl=Ds.entries,Ou=Ds.state}if("INSTANCE_STATE_UNSPECIFIED"===Ou?Zi=500:"NO_CHANGE"===Ou?Zi=304:("NO_TEMPLATE"===Ou||"EMPTY_CONFIG"===Ou)&&(dl={}),304!==Zi&&200!==Zi)throw Lr.create("fetch-status",{httpStatus:Zi});return{status:Zi,eTag:Ru,config:dl}})()}}class Ne{constructor(M,G){this.client=M,this.storage=G}fetch(M){var G=this;return(0,k.Z)(function*(){const De=(yield G.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return G.attemptFetch(M,De)})()}attemptFetch(M,{throttleEndTimeMillis:G,backoffCount:De}){var Xe=this;return(0,k.Z)(function*(){yield function be(I,M){return new Promise((G,De)=>{const Xe=Math.max(M-Date.now(),0),ht=setTimeout(G,Xe);I.addEventListener(()=>{clearTimeout(ht),De(Lr.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,G);try{const ht=yield Xe.client.fetch(M);return yield Xe.storage.deleteThrottleMetadata(),ht}catch(ht){if(!function z(I){if(!(I instanceof Ee.ZR&&I.customData))return!1;const M=Number(I.customData.httpStatus);return 429===M||500===M||503===M||504===M}(ht))throw ht;const Pt={throttleEndTimeMillis:Date.now()+(0,Ee.$s)(De),backoffCount:De+1};return yield Xe.storage.setThrottleMetadata(Pt),Xe.attemptFetch(M,Pt)}})()}}class $n{constructor(M,G,De,Xe,ht){this.app=M,this._client=G,this._storageCache=De,this._storage=Xe,this._logger=ht,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ur(I,M){const G=I.target.error||void 0;return Lr.create(M,{originalErrorMessage:G&&(null==G?void 0:G.message)})}const kr="app_namespace_store";class ts{constructor(M,G,De,Xe=function ki(){return new Promise((I,M)=>{try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=De=>{M(ur(De,"storage-open"))},G.onsuccess=De=>{I(De.target.result)},G.onupgradeneeded=De=>{0===De.oldVersion&&De.target.result.createObjectStore(kr,{keyPath:"compositeKey"})}}catch(G){M(Lr.create("storage-open",{originalErrorMessage:null==G?void 0:G.message}))}})}()){this.appId=M,this.appName=G,this.namespace=De,this.openDbPromise=Xe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var G=this;return(0,k.Z)(function*(){const De=yield G.openDbPromise;return new Promise((Xe,ht)=>{const yn=De.transaction([kr],"readonly").objectStore(kr),gn=G.createCompositeKey(M);try{const Wn=yn.get(gn);Wn.onerror=_r=>{ht(ur(_r,"storage-get"))},Wn.onsuccess=_r=>{const Cr=_r.target.result;Xe(Cr?Cr.value:void 0)}}catch(Wn){ht(Lr.create("storage-get",{originalErrorMessage:null==Wn?void 0:Wn.message}))}})})()}set(M,G){var De=this;return(0,k.Z)(function*(){const Xe=yield De.openDbPromise;return new Promise((ht,Pt)=>{const gn=Xe.transaction([kr],"readwrite").objectStore(kr),Wn=De.createCompositeKey(M);try{const _r=gn.put({compositeKey:Wn,value:G});_r.onerror=Cr=>{Pt(ur(Cr,"storage-set"))},_r.onsuccess=()=>{ht()}}catch(_r){Pt(Lr.create("storage-set",{originalErrorMessage:null==_r?void 0:_r.message}))}})})()}delete(M){var G=this;return(0,k.Z)(function*(){const De=yield G.openDbPromise;return new Promise((Xe,ht)=>{const yn=De.transaction([kr],"readwrite").objectStore(kr),gn=G.createCompositeKey(M);try{const Wn=yn.delete(gn);Wn.onerror=_r=>{ht(ur(_r,"storage-delete"))},Wn.onsuccess=()=>{Xe()}}catch(Wn){ht(Lr.create("storage-delete",{originalErrorMessage:null==Wn?void 0:Wn.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class $r{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,k.Z)(function*(){const G=M.storage.getLastFetchStatus(),De=M.storage.getLastSuccessfulFetchTimestampMillis(),Xe=M.storage.getActiveConfig(),ht=yield G;ht&&(M.lastFetchStatus=ht);const Pt=yield De;Pt&&(M.lastSuccessfulFetchTimestampMillis=Pt);const yn=yield Xe;yn&&(M.activeConfig=yn)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function Ss(){return ks.apply(this,arguments)}function ks(){return(ks=(0,k.Z)(function*(){if(!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch(I){return!1}})).apply(this,arguments)}let J,N;!function Wi(){(0,Ie._registerComponent)(new ie.wA("remote-config",function I(M,{instanceIdentifier:G}){const De=M.getProvider("app").getImmediate(),Xe=M.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Lr.create("registration-window");if(!(0,Ee.hl)())throw Lr.create("indexed-db-unavailable");const{projectId:ht,apiKey:Pt,appId:yn}=De.options;if(!ht)throw Lr.create("registration-project-id");if(!Pt)throw Lr.create("registration-api-key");if(!yn)throw Lr.create("registration-app-id");const gn=new ts(yn,De.name,G=G||"firebase"),Wn=new $r(gn),_r=new de.Yd(Ht);_r.logLevel=de.in.ERROR;const Cr=new ve(Xe,Ie.SDK_VERSION,G,ht,Pt,yn),Vs=new Ne(Cr,gn),Zi=new Ts(Vs,gn,Wn,_r),Ru=new $n(De,Zi,Wn,gn,_r);return function vr(I){const M=(0,Ee.m9)(I);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(Ru),Ru},"PUBLIC").setMultipleInstances(!0)),(0,Ie.registerVersion)(Ht,"0.4.4"),(0,Ie.registerVersion)(Ht,"0.4.4","esm2017")}();const gt=new WeakMap,Yt=new WeakMap,_n=new WeakMap,Ur=new WeakMap,cr=new WeakMap;let ni={get(I,M,G){if(I instanceof IDBTransaction){if("done"===M)return Yt.get(I);if("objectStoreNames"===M)return I.objectStoreNames||_n.get(I);if("store"===M)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return $(I[M])},set:(I,M,G)=>(I[M]=G,!0),has:(I,M)=>I instanceof IDBTransaction&&("done"===M||"store"===M)||M in I};function y(I){return"function"==typeof I?function Ri(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function We(){return N||(N=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...M){return I.apply(m(this),M),$(gt.get(this))}:function(...M){return $(I.apply(m(this),M))}:function(M,...G){const De=I.call(m(this),M,...G);return _n.set(De,M.sort?M.sort():[M]),$(De)}}(I):(I instanceof IDBTransaction&&function Sr(I){if(Yt.has(I))return;const M=new Promise((G,De)=>{const Xe=()=>{I.removeEventListener("complete",ht),I.removeEventListener("error",Pt),I.removeEventListener("abort",Pt)},ht=()=>{G(),Xe()},Pt=()=>{De(I.error||new DOMException("AbortError","AbortError")),Xe()};I.addEventListener("complete",ht),I.addEventListener("error",Pt),I.addEventListener("abort",Pt)});Yt.set(I,M)}(I),((I,M)=>M.some(G=>I instanceof G))(I,function oe(){return J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,ni):I)}function $(I){if(I instanceof IDBRequest)return function Qr(I){const M=new Promise((G,De)=>{const Xe=()=>{I.removeEventListener("success",ht),I.removeEventListener("error",Pt)},ht=()=>{G($(I.result)),Xe()},Pt=()=>{De(I.error),Xe()};I.addEventListener("success",ht),I.addEventListener("error",Pt)});return M.then(G=>{G instanceof IDBCursor&&gt.set(G,I)}).catch(()=>{}),cr.set(M,I),M}(I);if(Ur.has(I))return Ur.get(I);const M=y(I);return M!==I&&(Ur.set(I,M),cr.set(M,I)),M}const m=I=>cr.get(I);function B(I,M,{blocked:G,upgrade:De,blocking:Xe,terminated:ht}={}){const Pt=indexedDB.open(I,M),yn=$(Pt);return De&&Pt.addEventListener("upgradeneeded",gn=>{De($(Pt.result),gn.oldVersion,gn.newVersion,$(Pt.transaction))}),G&&Pt.addEventListener("blocked",()=>G()),yn.then(gn=>{ht&&gn.addEventListener("close",()=>ht()),Xe&&gn.addEventListener("versionchange",()=>Xe())}).catch(()=>{}),yn}function _(I,{blocked:M}={}){const G=indexedDB.deleteDatabase(I);return M&&G.addEventListener("blocked",()=>M()),$(G).then(()=>{})}const w=["get","getKey","getAll","getAllKeys","count"],A=["put","add","delete","clear"],K=new Map;function pt(I,M){if(!(I instanceof IDBDatabase)||M in I||"string"!=typeof M)return;if(K.get(M))return K.get(M);const G=M.replace(/FromIndex$/,""),De=M!==G,Xe=A.includes(G);if(!(G in(De?IDBIndex:IDBObjectStore).prototype)||!Xe&&!w.includes(G))return;const ht=function(){var Pt=(0,k.Z)(function*(yn,...gn){const Wn=this.transaction(yn,Xe?"readwrite":"readonly");let _r=Wn.store;return De&&(_r=_r.index(gn.shift())),(yield Promise.all([_r[G](...gn),Xe&&Wn.done]))[0]});return function(gn){return Pt.apply(this,arguments)}}();return K.set(M,ht),ht}!function Nr(I){ni=I(ni)}(I=>Lv(Fv({},I),{get:(M,G,De)=>pt(M,G)||I.get(M,G,De),has:(M,G)=>!!pt(M,G)||I.has(M,G)}));const tn="/firebase-messaging-sw.js",ir="/firebase-cloud-messaging-push-scope",Br="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vt="google.c.a.c_id",sr="google.c.a.c_l",ns="google.c.a.ts",bi="google.c.a.e";var Ns=(()=>{return(I=Ns||(Ns={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Ns;var I})();function Ni(I){const M=new Uint8Array(I);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ga(I){const G=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),De=atob(G),Xe=new Uint8Array(De.length);for(let ht=0;ht<De.length;++ht)Xe[ht]=De.charCodeAt(ht);return Xe}const No="fcm_token_details_db",Va="fcm_token_object_Store";function Fo(I){return ho.apply(this,arguments)}function ho(){return ho=(0,k.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ht=>ht.name).includes(No))return null;let M=null;return(yield B(No,5,{upgrade:(De=(0,k.Z)(function*(Xe,ht,Pt,yn){var gn;if(ht<2||!Xe.objectStoreNames.contains(Va))return;const Wn=yn.objectStore(Va),_r=yield Wn.index("fcmSenderId").get(I);if(yield Wn.clear(),_r)if(2===ht){const Cr=_r;if(!Cr.auth||!Cr.p256dh||!Cr.endpoint)return;M={token:Cr.fcmToken,createTime:null!==(gn=Cr.createTime)&&void 0!==gn?gn:Date.now(),subscriptionOptions:{auth:Cr.auth,p256dh:Cr.p256dh,endpoint:Cr.endpoint,swScope:Cr.swScope,vapidKey:"string"==typeof Cr.vapidKey?Cr.vapidKey:Ni(Cr.vapidKey)}}}else if(3===ht){const Cr=_r;M={token:Cr.fcmToken,createTime:Cr.createTime,subscriptionOptions:{auth:Ni(Cr.auth),p256dh:Ni(Cr.p256dh),endpoint:Cr.endpoint,swScope:Cr.swScope,vapidKey:Ni(Cr.vapidKey)}}}else if(4===ht){const Cr=_r;M={token:Cr.fcmToken,createTime:Cr.createTime,subscriptionOptions:{auth:Ni(Cr.auth),p256dh:Ni(Cr.p256dh),endpoint:Cr.endpoint,swScope:Cr.swScope,vapidKey:Ni(Cr.vapidKey)}}}}),function(ht,Pt,yn,gn){return De.apply(this,arguments)})})).close(),yield _(No),yield _("fcm_vapid_details_db"),yield _("undefined"),rs(M)?M:null;var De}),ho.apply(this,arguments)}function rs(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:M}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}const As="firebase-messaging-store";let Fs=null;function Xo(){return Fs||(Fs=B("firebase-messaging-database",1,{upgrade:(I,M)=>{0===M&&I.createObjectStore(As)}})),Fs}function no(I){return ya.apply(this,arguments)}function ya(){return(ya=(0,k.Z)(function*(I){const M=va(I),De=yield(yield Xo()).transaction(As).objectStore(As).get(M);if(De)return De;{const Xe=yield Fo(I.appConfig.senderId);if(Xe)return yield Do(I,Xe),Xe}})).apply(this,arguments)}function Do(I,M){return To.apply(this,arguments)}function To(){return(To=(0,k.Z)(function*(I,M){const G=va(I),Xe=(yield Xo()).transaction(As,"readwrite");return yield Xe.objectStore(As).put(M,G),yield Xe.done,M})).apply(this,arguments)}function $a(I){return fo.apply(this,arguments)}function fo(){return(fo=(0,k.Z)(function*(I){const M=va(I),De=(yield Xo()).transaction(As,"readwrite");yield De.objectStore(As).delete(M),yield De.done})).apply(this,arguments)}function va({appConfig:I}){return I.appId}const Si=new Ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Lo(I,M){return So.apply(this,arguments)}function So(){return(So=(0,k.Z)(function*(I,M){const G=yield Jo(I),De=Gs(M),Xe={method:"POST",headers:G,body:JSON.stringify(De)};let ht;try{ht=yield(yield fetch(ja(I.appConfig),Xe)).json()}catch(Pt){throw Si.create("token-subscribe-failed",{errorInfo:null==Pt?void 0:Pt.toString()})}if(ht.error)throw Si.create("token-subscribe-failed",{errorInfo:ht.error.message});if(!ht.token)throw Si.create("token-subscribe-no-token");return ht.token})).apply(this,arguments)}function Ua(I,M){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,k.Z)(function*(I,M){const G=yield Jo(I),De=Gs(M.subscriptionOptions),Xe={method:"PATCH",headers:G,body:JSON.stringify(De)};let ht;try{ht=yield(yield fetch(`${ja(I.appConfig)}/${M.token}`,Xe)).json()}catch(Pt){throw Si.create("token-update-failed",{errorInfo:null==Pt?void 0:Pt.toString()})}if(ht.error)throw Si.create("token-update-failed",{errorInfo:ht.error.message});if(!ht.token)throw Si.create("token-update-no-token");return ht.token})).apply(this,arguments)}function Qo(I,M){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,k.Z)(function*(I,M){const De={method:"DELETE",headers:yield Jo(I)};try{const ht=yield(yield fetch(`${ja(I.appConfig)}/${M}`,De)).json();if(ht.error)throw Si.create("token-unsubscribe-failed",{errorInfo:ht.error.message})}catch(Xe){throw Si.create("token-unsubscribe-failed",{errorInfo:null==Xe?void 0:Xe.toString()})}})).apply(this,arguments)}function ja({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Jo(I){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,k.Z)(function*({appConfig:I,installations:M}){const G=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${G}`})})).apply(this,arguments)}function Gs({p256dh:I,auth:M,endpoint:G,vapidKey:De}){const Xe={web:{endpoint:G,auth:M,p256dh:I}};return De!==Br&&(Xe.web.applicationPubKey=De),Xe}const Ai=6048e5;function _a(I){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,k.Z)(function*(I){const M=yield Is(I.swRegistration,I.vapidKey),G={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:M.endpoint,auth:Ni(M.getKey("auth")),p256dh:Ni(M.getKey("p256dh"))},De=yield no(I.firebaseDependencies);if(De){if(Jr(De.subscriptionOptions,G))return Date.now()>=De.createTime+Ai?Ea(I,{token:De.token,createTime:Date.now(),subscriptionOptions:G}):De.token;try{yield Qo(I.firebaseDependencies,De.token)}catch(Xe){console.warn(Xe)}return cs(I.firebaseDependencies,G)}return cs(I.firebaseDependencies,G)})).apply(this,arguments)}function Ki(I){return ms.apply(this,arguments)}function ms(){return(ms=(0,k.Z)(function*(I){const M=yield no(I.firebaseDependencies);M&&(yield Qo(I.firebaseDependencies,M.token),yield $a(I.firebaseDependencies));const G=yield I.swRegistration.pushManager.getSubscription();return!G||G.unsubscribe()})).apply(this,arguments)}function Ea(I,M){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,k.Z)(function*(I,M){try{const G=yield Ua(I.firebaseDependencies,M),De=Object.assign(Object.assign({},M),{token:G,createTime:Date.now()});return yield Do(I.firebaseDependencies,De),G}catch(G){throw yield Ki(I),G}})).apply(this,arguments)}function cs(I,M){return zs.apply(this,arguments)}function zs(){return(zs=(0,k.Z)(function*(I,M){const De={token:yield Lo(I,M),createTime:Date.now(),subscriptionOptions:M};return yield Do(I,De),De.token})).apply(this,arguments)}function Is(I,M){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,k.Z)(function*(I,M){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ga(M)})})).apply(this,arguments)}function Jr(I,M){return M.vapidKey===I.vapidKey&&M.endpoint===I.endpoint&&M.auth===I.auth&&M.p256dh===I.p256dh}function Eu(I){const M={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Zs(I,M){if(!M.notification)return;I.notification={};const G=M.notification.title;G&&(I.notification.title=G);const De=M.notification.body;De&&(I.notification.body=De);const Xe=M.notification.image;Xe&&(I.notification.image=Xe);const ht=M.notification.icon;ht&&(I.notification.icon=ht)}(M,I),function xs(I,M){!M.data||(I.data=M.data)}(M,I),function bu(I,M){var G,De,Xe,ht,Pt;if(!M.fcmOptions&&!(null===(G=M.notification)||void 0===G?void 0:G.click_action))return;I.fcmOptions={};const yn=null!==(Xe=null===(De=M.fcmOptions)||void 0===De?void 0:De.link)&&void 0!==Xe?Xe:null===(ht=M.notification)||void 0===ht?void 0:ht.click_action;yn&&(I.fcmOptions.link=yn);const gn=null===(Pt=M.fcmOptions)||void 0===Pt?void 0:Pt.analytics_label;gn&&(I.fcmOptions.analyticsLabel=gn)}(M,I),M}function Wu(I){return"object"==typeof I&&!!I&&Vt in I}function ls(I,M){const G=[];for(let De=0;De<I.length;De++)G.push(I.charAt(De)),De<M.length&&G.push(M.charAt(De));return G.join("")}function wu(I){return Si.create("missing-app-config-values",{valueName:I})}ls("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ls("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xo{constructor(M,G,De){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Xe=function ba(I){if(!I||!I.options)throw wu("App Configuration Object");if(!I.name)throw wu("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:G}=I;for(const De of M)if(!G[De])throw wu(De);return{appName:I.name,projectId:G.projectId,apiKey:G.apiKey,appId:G.appId,senderId:G.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:Xe,installations:G,analyticsProvider:De}}_delete(){return Promise.resolve()}}function Xs(I){return ds.apply(this,arguments)}function ds(){return(ds=(0,k.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(tn,{scope:ir}),I.swRegistration.update().catch(()=>{})}catch(M){throw Si.create("failed-service-worker-registration",{browserErrorMessage:null==M?void 0:M.message})}})).apply(this,arguments)}function po(I,M){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,k.Z)(function*(I,M){if(!M&&!I.swRegistration&&(yield Xs(I)),M||!I.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw Si.create("invalid-sw-registration");I.swRegistration=M}})).apply(this,arguments)}function ro(I,M){return go.apply(this,arguments)}function go(){return(go=(0,k.Z)(function*(I,M){M?I.vapidKey=M:I.vapidKey||(I.vapidKey=Br)})).apply(this,arguments)}function mo(){return(mo=(0,k.Z)(function*(I,M){if(!navigator)throw Si.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Si.create("permission-blocked");return yield ro(I,null==M?void 0:M.vapidKey),yield po(I,null==M?void 0:M.serviceWorkerRegistration),_a(I)})).apply(this,arguments)}function $o(I,M,G){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,k.Z)(function*(I,M,G){const De=Mo(M);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(De,{message_id:G[Vt],message_name:G[sr],message_time:G[ns],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Mo(I){switch(I){case Ns.NOTIFICATION_CLICKED:return"notification_open";case Ns.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ro(){return(Ro=(0,k.Z)(function*(I,M){const G=M.data;if(!G.isFirebaseMessaging)return;I.onMessageHandler&&G.messageType===Ns.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Eu(G)):I.onMessageHandler.next(Eu(G)));const De=G.data;Wu(De)&&"1"===De[bi]&&(yield $o(I,G.messageType,De))})).apply(this,arguments)}const Cc="@firebase/messaging",x="0.12.4",T=I=>{const M=new xo(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",G=>function ea(I,M){return Ro.apply(this,arguments)}(M,G)),M},b=I=>{const M=I.getProvider("messaging").getImmediate();return{getToken:De=>function Ga(I,M){return mo.apply(this,arguments)}(M,De)}};function U(){return re.apply(this,arguments)}function re(){return(re=(0,k.Z)(function*(){try{yield(0,Ee.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,Ee.hl)()&&(0,Ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function V(){(0,Ie._registerComponent)(new ie.wA("messaging",T,"PUBLIC")),(0,Ie._registerComponent)(new ie.wA("messaging-internal",b,"PRIVATE")),(0,Ie.registerVersion)(Cc,x),(0,Ie.registerVersion)(Cc,x,"esm2017")}();const Cs="analytics",En="firebase_id",mn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tt="https://www.googletagmanager.com/gtag/js",$t=new de.Yd("@firebase/analytics"),ss=new Ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ku(I){if(!I.startsWith(Tt)){const M=ss.create("invalid-gtag-resource",{gtagURL:I});return $t.warn(M.message),""}return I}function ta(I){return Promise.all(I.map(M=>M.catch(G=>G)))}function za(I,M){const G=function Uo(I,M){let G;return window.trustedTypes&&(G=window.trustedTypes.createPolicy(I,M)),G}("firebase-js-sdk-policy",{createScriptURL:Ku}),De=document.createElement("script"),Xe=`${Tt}?l=${I}&id=${M}`;De.src=G?null==G?void 0:G.createScriptURL(Xe):Xe,De.async=!0,document.head.appendChild(De)}function Yu(I,M,G,De,Xe,ht){return wa.apply(this,arguments)}function wa(){return(wa=(0,k.Z)(function*(I,M,G,De,Xe,ht){const Pt=De[Xe];try{if(Pt)yield M[Pt];else{const gn=(yield ta(G)).find(Wn=>Wn.measurementId===Xe);gn&&(yield M[gn.appId])}}catch(yn){$t.error(yn)}I("config",Xe,ht)})).apply(this,arguments)}function Cu(I,M,G,De,Xe){return qu.apply(this,arguments)}function qu(){return(qu=(0,k.Z)(function*(I,M,G,De,Xe){try{let ht=[];if(Xe&&Xe.send_to){let Pt=Xe.send_to;Array.isArray(Pt)||(Pt=[Pt]);const yn=yield ta(G);for(const gn of Pt){const Wn=yn.find(Cr=>Cr.measurementId===gn),_r=Wn&&M[Wn.appId];if(!_r){ht=[];break}ht.push(_r)}}0===ht.length&&(ht=Object.values(M)),yield Promise.all(ht),I("event",De,Xe||{})}catch(ht){$t.error(ht)}})).apply(this,arguments)}function Wa(I){const M=window.document.getElementsByTagName("script");for(const G of Object.values(M))if(G.src&&G.src.includes(Tt)&&G.src.includes(I))return G;return null}const Du=new class nr{constructor(M={},G=1e3){this.throttleMetadata=M,this.intervalMillis=G}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,G){this.throttleMetadata[M]=G}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function ei(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Ih(I){return _i.apply(this,arguments)}function _i(){return(_i=(0,k.Z)(function*(I){var M;const{appId:G,apiKey:De}=I,Xe={method:"GET",headers:ei(De)},ht=mn.replace("{app-id}",G),Pt=yield fetch(ht,Xe);if(200!==Pt.status&&304!==Pt.status){let yn="";try{const gn=yield Pt.json();(null===(M=gn.error)||void 0===M?void 0:M.message)&&(yn=gn.error.message)}catch(gn){}throw ss.create("config-fetch-failed",{httpStatus:Pt.status,responseMessage:yn})}return Pt.json()})).apply(this,arguments)}function vn(I){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,k.Z)(function*(I,M=Du,G){const{appId:De,apiKey:Xe,measurementId:ht}=I.options;if(!De)throw ss.create("no-app-id");if(!Xe){if(ht)return{measurementId:ht,appId:De};throw ss.create("no-api-key")}const Pt=M.getThrottleMetadata(De)||{backoffCount:0,throttleEndTimeMillis:Date.now()},yn=new io;return setTimeout((0,k.Z)(function*(){yn.abort()}),void 0!==G?G:6e4),Ka({appId:De,apiKey:Xe,measurementId:ht},Pt,yn,M)})).apply(this,arguments)}function Ka(I,M,G){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,k.Z)(function*(I,{throttleEndTimeMillis:M,backoffCount:G},De,Xe=Du){var ht;const{appId:Pt,measurementId:yn}=I;try{yield il(De,M)}catch(gn){if(yn)return $t.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yn} provided in the "measurementId" field in the local Firebase config. [${null==gn?void 0:gn.message}]`),{appId:Pt,measurementId:yn};throw gn}try{const gn=yield Ih(I);return Xe.deleteThrottleMetadata(Pt),gn}catch(gn){const Wn=gn;if(!Zu(Wn)){if(Xe.deleteThrottleMetadata(Pt),yn)return $t.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yn} provided in the "measurementId" field in the local Firebase config. [${null==Wn?void 0:Wn.message}]`),{appId:Pt,measurementId:yn};throw gn}const _r=503===Number(null===(ht=null==Wn?void 0:Wn.customData)||void 0===ht?void 0:ht.httpStatus)?(0,Ee.$s)(G,Xe.intervalMillis,30):(0,Ee.$s)(G,Xe.intervalMillis),Cr={throttleEndTimeMillis:Date.now()+_r,backoffCount:G+1};return Xe.setThrottleMetadata(Pt,Cr),$t.debug(`Calling attemptFetch again in ${_r} millis`),Ka(I,Cr,De,Xe)}})).apply(this,arguments)}function il(I,M){return new Promise((G,De)=>{const Xe=Math.max(M-Date.now(),0),ht=setTimeout(G,Xe);I.addEventListener(()=>{clearTimeout(ht),De(ss.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}function Zu(I){if(!(I instanceof Ee.ZR&&I.customData))return!1;const M=Number(I.customData.httpStatus);return 429===M||500===M||503===M||504===M}class io{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}let Ms,ia;function Ia(){return(Ia=(0,k.Z)(function*(I,M,G,De,Xe){if(Xe&&Xe.global)I("event",G,De);else{const ht=yield M;I("event",G,Object.assign(Object.assign({},De),{send_to:ht}))}})).apply(this,arguments)}function Js(I){ia=I}function Ju(I){Ms=I}function Ca(){return qa.apply(this,arguments)}function qa(){return(qa=(0,k.Z)(function*(){if(!(0,Ee.hl)())return $t.warn(ss.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ee.eu)()}catch(I){return $t.warn(ss.create("indexeddb-unavailable",{errorInfo:null==I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function Ho(){return(Ho=(0,k.Z)(function*(I,M,G,De,Xe,ht,Pt){var yn;const gn=vn(I);gn.then(Zi=>{G[Zi.measurementId]=Zi.appId,I.options.measurementId&&Zi.measurementId!==I.options.measurementId&&$t.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Zi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zi=>$t.error(Zi)),M.push(gn);const Wn=Ca().then(Zi=>{if(Zi)return De.getId()}),[_r,Cr]=yield Promise.all([gn,Wn]);Wa(ht)||za(ht,_r.measurementId),ia&&(Xe("consent","default",ia),Js(void 0)),Xe("js",new Date);const Vs=null!==(yn=null==Pt?void 0:Pt.config)&&void 0!==yn?yn:{};return Vs.origin="firebase",Vs.update=!0,null!=Cr&&(Vs[En]=Cr),Xe("config",_r.measurementId,Vs),Ms&&(Xe("set",Ms),Ju(void 0)),_r.measurementId})).apply(this,arguments)}class ec{constructor(M){this.app=M}_delete(){return delete Vi[this.app.options.appId],Promise.resolve()}}let Vi={},Go=[];const Tu={};let Su,vo,yo="dataLayer",Ws=!1;function ol(I,M,G){!function Da(){const I=[];if((0,Ee.ru)()&&I.push("This is a browser extension environment."),(0,Ee.zI)()||I.push("Cookies are not available."),I.length>0){const M=I.map((De,Xe)=>`(${Xe+1}) ${De}`).join(" "),G=ss.create("invalid-analytics-context",{errorInfo:M});$t.warn(G.message)}}();const De=I.options.appId;if(!De)throw ss.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw ss.create("no-api-key");$t.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vi[De])throw ss.create("already-exists",{id:De});if(!Ws){!function na(I){let M=[];Array.isArray(window[I])?M=window[I]:window[I]=M}(yo);const{wrappedGtag:ht,gtagCore:Pt}=function Gn(I,M,G,De,Xe){let ht=function(...Pt){window[De].push(arguments)};return window[Xe]&&"function"==typeof window[Xe]&&(ht=window[Xe]),window[Xe]=function Dc(I,M,G,De){function ht(){return(ht=(0,k.Z)(function*(Pt,...yn){try{if("event"===Pt){const[gn,Wn]=yn;yield Cu(I,M,G,gn,Wn)}else if("config"===Pt){const[gn,Wn]=yn;yield Yu(I,M,G,De,gn,Wn)}else if("consent"===Pt){const[gn]=yn;I("consent","update",gn)}else if("get"===Pt){const[gn,Wn,_r]=yn;I("get",gn,Wn,_r)}else if("set"===Pt){const[gn]=yn;I("set",gn)}else I(Pt,...yn)}catch(gn){$t.error(gn)}})).apply(this,arguments)}return function Xe(Pt){return ht.apply(this,arguments)}}(ht,I,M,G),{gtagCore:ht,wrappedGtag:window[Xe]}}(Vi,Go,Tu,yo,"gtag");vo=ht,Su=Pt,Ws=!0}return Vi[De]=function Sc(I,M,G,De,Xe,ht,Pt){return Ho.apply(this,arguments)}(I,Go,Tu,M,Su,yo,G),new ec(I)}function cd(){return $i.apply(this,arguments)}function $i(){return($i=(0,k.Z)(function*(){if((0,Ee.ru)()||!(0,Ee.zI)()||!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch(I){return!1}})).apply(this,arguments)}const Ac="@firebase/analytics";!function nc(){(0,Ie._registerComponent)(new ie.wA(Cs,(M,{options:G})=>ol(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),G),"PUBLIC")),(0,Ie._registerComponent)(new ie.wA("analytics-internal",function I(M){try{const G=M.getProvider(Cs).getImmediate();return{logEvent:(De,Xe,ht)=>function Au(I,M,G,De){I=(0,Ee.m9)(I),function Tc(I,M,G,De,Xe){return Ia.apply(this,arguments)}(vo,Vi[I.app.options.appId],M,G,De).catch(Xe=>$t.error(Xe))}(G,De,Xe,ht)}}catch(G){throw ss.create("interop-component-reg-failed",{reason:G})}},"PRIVATE")),(0,Ie.registerVersion)(Ac,"0.10.0"),(0,Ie.registerVersion)(Ac,"0.10.0","esm2017")}();var ul=O(30341),rc=O(20353),Sa=O(2994),xc=O(57770),Mc=O(18915);const as=new u.GfV("7.6.1"),zo="__angularfire_symbol__analyticsIsSupportedValue",Rs="__angularfire_symbol__analyticsIsSupported",Ja="__angularfire_symbol__remoteConfigIsSupportedValue",fi="__angularfire_symbol__remoteConfigIsSupported",sa="__angularfire_symbol__messagingIsSupportedValue",Yi="__angularfire_symbol__messagingIsSupported";function Mu(I,M,G){if(M){if(1===M.length)return M[0];const ht=M.filter(Pt=>Pt.app===G);if(1===ht.length)return ht[0]}return G.container.getProvider(I).getImmediate({optional:!0})}globalThis[Rs]||(globalThis[Rs]=cd().then(I=>globalThis[zo]=I).catch(()=>globalThis[zo]=!1)),globalThis[Yi]||(globalThis[Yi]=U().then(I=>globalThis[sa]=I).catch(()=>globalThis[sa]=!1)),globalThis[fi]||(globalThis[fi]=Ss().then(I=>globalThis[Ja]=I).catch(()=>globalThis[Ja]=!1));const ic=(I,M)=>{const G=M?[M]:(0,P.C6)(),De=[];return G.forEach(Xe=>{Xe.container.getProvider(I).instances.forEach(Pt=>{De.includes(Pt)||De.push(Pt)})}),De};function ai(){}class ll{constructor(M,G=ul.N){this.zone=M,this.delegate=G}now(){return this.delegate.now()}schedule(M,G,De){const Xe=this.zone;return this.delegate.schedule(function(Pt){Xe.runGuarded(()=>{M.apply(this,[Pt])})},G,De)}}class oa{constructor(M){this.zone=M,this.task=null}call(M,G){const De=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ai,{},ai,ai)),G.pipe((0,Sa.b)({next:De,complete:De,error:De})).subscribe(M).add(De)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qi=(()=>{class I{constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new ll(Zone.current)),this.insideAngular=G.run(()=>new ll(Zone.current,rc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(G){return new(G||I)(u.LFG(u.R0b))},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function us(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Aa(I){return I.pipe((0,xc.QV)(us().outsideAngular))}function eo(I){return us(),function aa(I){return function(G){return(G=G.lift(new oa(I.ngZone))).pipe((0,Mc.R)(I.outsideAngular),(0,xc.QV)(I.insideAngular))}}(us())(I)}},61389:(Kt,Je,O)=>{"use strict";O.d(Je,{$:()=>tn,A:()=>X,D:()=>ke,I:()=>ge,J:()=>bt,L:()=>oi,N:()=>ar,P:()=>Sc,Q:()=>ts,R:()=>sl,U:()=>ws,V:()=>Ss,W:()=>ks,X:()=>vi,Y:()=>oe,Z:()=>We,_:()=>cr,a:()=>Ot,a0:()=>Br,a1:()=>Vt,a2:()=>Ti,a3:()=>Va,a4:()=>ho,a5:()=>is,a6:()=>As,a7:()=>Xo,a8:()=>ya,a9:()=>To,aA:()=>Pe,aB:()=>cl,aC:()=>Dr,aD:()=>Mr,aE:()=>Ja,aF:()=>dd,aG:()=>Dh,aH:()=>yr,aL:()=>yt,aO:()=>J,aa:()=>$a,ab:()=>va,ac:()=>_u,ad:()=>Ua,ae:()=>Qo,af:()=>ja,ai:()=>Ai,aj:()=>Ha,ak:()=>Ki,an:()=>Ri,ao:()=>Zs,aq:()=>go,ar:()=>Cc,as:()=>Se,at:()=>Sn,au:()=>Ct,av:()=>Ke,aw:()=>Ds,ax:()=>ic,ay:()=>dn,az:()=>Oe,b:()=>Re,c:()=>vo,d:()=>ol,e:()=>ud,f:()=>Ac,g:()=>xc,h:()=>ul,i:()=>Li,j:()=>zo,k:()=>ua,l:()=>vs,m:()=>Rc,p:()=>ye,r:()=>ra,s:()=>Qu,u:()=>Ca});var u=O(15861),P=O(42090),k=O(6881),Ie=O(70655),Ee=O(41877),ie=O(34859);const ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},X={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},we=function ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new Ee.Yd("@firebase/auth");function te(E,...h){Te.logLevel<=Ee.in.ERROR&&Te.error(`Auth (${k.SDK_VERSION}): ${E}`,...h)}function Ke(E,...h){throw lt(E,...h)}function Oe(E,...h){return lt(E,...h)}function et(E,h,g){const C=Object.assign(Object.assign({},we()),{[h]:g});return new P.LL("auth","Firebase",C).create(h,{appName:E.name})}function st(E,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&Ke(E,"argument-error"),et(E,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lt(E,...h){if("string"!=typeof E){const g=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=E.name),E._errorFactory.create(g,...C)}return pe.create(E,...h)}function Pe(E,h,...g){if(!E)throw lt(h,...g)}function ae(E){const h="INTERNAL ASSERTION FAILED: "+E;throw te(h),new Error(h)}function Se(E,h){E||ae(h)}function he(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Ae(){return"http:"===Ce()||"https:"===Ce()}function Ce(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Wt{constructor(h,g){this.shortDelay=h,this.longDelay=g,Se(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function $e(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ae()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dt(E,h){Se(E.emulator,"Emulator should always be set here");const{url:g}=E.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class qe{static initialize(h,g,C){this.fetchImpl=h,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vt=new Wt(3e4,6e4);function Ge(E,h){return E.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:E.tenantId}):h}function ze(E,h,g,C){return at.apply(this,arguments)}function at(){return(at=(0,u.Z)(function*(E,h,g,C,W={}){return jt(E,W,(0,u.Z)(function*(){let ue={},ot={};C&&("GET"===h?ot=C:ue={body:JSON.stringify(C)});const xt=(0,P.xO)(Object.assign({key:E.config.apiKey},ot)).slice(1),an=yield E._getAdditionalHeaders();return an["Content-Type"]="application/json",E.languageCode&&(an["X-Firebase-Locale"]=E.languageCode),qe.fetch()(Rn(E,E.config.apiHost,g,xt),Object.assign({method:h,headers:an,referrerPolicy:"no-referrer"},ue))}))})).apply(this,arguments)}function jt(E,h,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,u.Z)(function*(E,h,g){E._canInitEmulator=!1;const C=Object.assign(Object.assign({},nt),h);try{const W=new hn(E),ue=yield Promise.race([g(),W.promise]);W.clearNetworkTimeout();const ot=yield ue.json();if("needConfirmation"in ot)throw Mn(E,"account-exists-with-different-credential",ot);if(ue.ok&&!("errorMessage"in ot))return ot;{const xt=ue.ok?ot.errorMessage:ot.error.message,[an,Cn]=xt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===an)throw Mn(E,"credential-already-in-use",ot);if("EMAIL_EXISTS"===an)throw Mn(E,"email-already-in-use",ot);if("USER_DISABLED"===an)throw Mn(E,"user-disabled",ot);const Jn=C[an]||an.toLowerCase().replace(/[_\s]+/g,"-");if(Cn)throw et(E,Jn,Cn);Ke(E,Jn)}}catch(W){if(W instanceof P.ZR)throw W;Ke(E,"network-request-failed",{message:String(W)})}})).apply(this,arguments)}function Zt(E,h,g,C){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,u.Z)(function*(E,h,g,C,W={}){const ue=yield ze(E,h,g,C,W);return"mfaPendingCredential"in ue&&Ke(E,"multi-factor-auth-required",{_serverResponse:ue}),ue})).apply(this,arguments)}function Rn(E,h,g,C){const W=`${h}${g}?${C}`;return E.config.emulator?dt(E.config,W):`${E.config.apiScheme}://${W}`}class hn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(Oe(this.auth,"network-request-failed")),vt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mn(E,h,g){const C={appName:E.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const W=Oe(E,h,C);return W.customData._tokenResponse=g,W}function Dn(){return(Dn=(0,u.Z)(function*(E,h){return ze(E,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Fr(E,h){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,u.Z)(function*(E,h){return ze(E,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Qn(E,h){return Er.apply(this,arguments)}function Er(){return(Er=(0,u.Z)(function*(E,h){return ze(E,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function br(E){if(E)try{const h=new Date(Number(E));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function On(){return(On=(0,u.Z)(function*(E,h=!1){const g=(0,P.m9)(E),C=yield g.getIdToken(h),W=Ue(C);Pe(W&&W.exp&&W.auth_time&&W.iat,g.auth,"internal-error");const ue="object"==typeof W.firebase?W.firebase:void 0,ot=null==ue?void 0:ue.sign_in_provider;return{claims:W,token:C,authTime:br(St(W.auth_time)),issuedAtTime:br(St(W.iat)),expirationTime:br(St(W.exp)),signInProvider:ot||null,signInSecondFactor:(null==ue?void 0:ue.sign_in_second_factor)||null}})).apply(this,arguments)}function St(E){return 1e3*Number(E)}function Ue(E){const[h,g,C]=E.split(".");if(void 0===h||void 0===g||void 0===C)return te("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,P.tV)(g);return W?JSON.parse(W):(te("Failed to decode base64 JWT payload"),null)}catch(W){return te("Caught error parsing JWT payload as JSON",null==W?void 0:W.toString()),null}}function Dt(E,h){return wt.apply(this,arguments)}function wt(){return(wt=(0,u.Z)(function*(E,h,g=!1){if(g)return h;try{return yield h}catch(C){throw C instanceof P.ZR&&zt(C)&&E.auth.currentUser===E&&(yield E.auth.signOut()),C}})).apply(this,arguments)}function zt({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class en{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const W=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),C)}iteration(){var h=this;return(0,u.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===(null==g?void 0:g.code)&&h.schedule(!0))}h.schedule()})()}}class wn{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=br(this.lastLoginAt),this.creationTime=br(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qn(E){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(E){var h;const g=E.auth,C=yield E.getIdToken(),W=yield Dt(E,Qn(g,{idToken:C}));Pe(null==W?void 0:W.users.length,g,"internal-error");const ue=W.users[0];E._notifyReloadListener(ue);const ot=(null===(h=ue.providerUserInfo)||void 0===h?void 0:h.length)?fn(ue.providerUserInfo):[],xt=cn(E.providerData,ot),Jn=!!E.isAnonymous&&!(E.email&&ue.passwordHash||(null==xt?void 0:xt.length)),qr={uid:ue.localId,displayName:ue.displayName||null,photoURL:ue.photoUrl||null,email:ue.email||null,emailVerified:ue.emailVerified||!1,phoneNumber:ue.phoneNumber||null,tenantId:ue.tenantId||null,providerData:xt,metadata:new wn(ue.createdAt,ue.lastLoginAt),isAnonymous:Jn};Object.assign(E,qr)})).apply(this,arguments)}function hr(){return(hr=(0,u.Z)(function*(E){const h=(0,P.m9)(E);yield qn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function cn(E,h){return[...E.filter(C=>!h.some(W=>W.providerId===C.providerId)),...h]}function fn(E){return E.map(h=>{var{providerId:g}=h,C=(0,Ie._T)(h,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Bn(){return(Bn=(0,u.Z)(function*(E,h){const g=yield jt(E,{},(0,u.Z)(function*(){const C=(0,P.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:W,apiKey:ue}=E.config,ot=Rn(E,W,"/v1/token",`key=${ue}`),xt=yield E._getAdditionalHeaders();return xt["Content-Type"]="application/x-www-form-urlencoded",qe.fetch()(ot,{method:"POST",headers:xt,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Pn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Pe(h.idToken,"internal-error"),Pe(void 0!==h.idToken,"internal-error"),Pe(void 0!==h.refreshToken,"internal-error");const g="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function je(E){const h=Ue(E);return Pe(h,"internal-error"),Pe(void 0!==h.exp,"internal-error"),Pe(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var C=this;return(0,u.Z)(function*(){return Pe(!C.accessToken||C.refreshToken,h,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(h,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var C=this;return(0,u.Z)(function*(){const{accessToken:W,refreshToken:ue,expiresIn:ot}=yield function wr(E,h){return Bn.apply(this,arguments)}(h,g);C.updateTokensAndExpiration(W,ue,Number(ot))})()}updateTokensAndExpiration(h,g,C){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,g){const{refreshToken:C,accessToken:W,expirationTime:ue}=g,ot=new Pn;return C&&(Pe("string"==typeof C,"internal-error",{appName:h}),ot.refreshToken=C),W&&(Pe("string"==typeof W,"internal-error",{appName:h}),ot.accessToken=W),ue&&(Pe("number"==typeof ue,"internal-error",{appName:h}),ot.expirationTime=ue),ot}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Pn,this.toJSON())}_performRefresh(){return ae("not implemented")}}function Kn(E,h){Pe("string"==typeof E||void 0===E,"internal-error",{appName:h})}class fr{constructor(h){var{uid:g,auth:C,stsTokenManager:W}=h,ue=(0,Ie._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new en(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new wn(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,u.Z)(function*(){const C=yield Dt(g,g.stsTokenManager.getToken(g.auth,h));return Pe(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(h){return function ti(E){return On.apply(this,arguments)}(this,h)}reload(){return function Vr(E){return hr.apply(this,arguments)}(this)}_assign(h){this!==h&&(Pe(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new fr(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var C=this;return(0,u.Z)(function*(){let W=!1;h.idToken&&h.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(h),W=!0),g&&(yield qn(C)),yield C.auth._persistUserIfCurrent(C),W&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var h=this;return(0,u.Z)(function*(){const g=yield h.getIdToken();return yield Dt(h,function or(E,h){return Dn.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var C,W,ue,ot,xt,an,Cn,Jn;const qr=null!==(C=g.displayName)&&void 0!==C?C:void 0,oo=null!==(W=g.email)&&void 0!==W?W:void 0,ru=null!==(ue=g.phoneNumber)&&void 0!==ue?ue:void 0,Ys=null!==(ot=g.photoURL)&&void 0!==ot?ot:void 0,$s=null!==(xt=g.tenantId)&&void 0!==xt?xt:void 0,ca=null!==(an=g._redirectEventId)&&void 0!==an?an:void 0,gl=null!==(Cn=g.createdAt)&&void 0!==Cn?Cn:void 0,Oc=null!==(Jn=g.lastLoginAt)&&void 0!==Jn?Jn:void 0,{uid:hs,emailVerified:iu,isAnonymous:la,providerData:Us,stsTokenManager:ml}=g;Pe(hs&&ml,h,"internal-error");const Pc=Pn.fromJSON(this.name,ml);Pe("string"==typeof hs,h,"internal-error"),Kn(qr,h.name),Kn(oo,h.name),Pe("boolean"==typeof iu,h,"internal-error"),Pe("boolean"==typeof la,h,"internal-error"),Kn(ru,h.name),Kn(Ys,h.name),Kn($s,h.name),Kn(ca,h.name),Kn(gl,h.name),Kn(Oc,h.name);const Pu=new fr({uid:hs,auth:h,email:oo,emailVerified:iu,displayName:qr,isAnonymous:la,photoURL:Ys,phoneNumber:ru,tenantId:$s,stsTokenManager:Pc,createdAt:gl,lastLoginAt:Oc});return Us&&Array.isArray(Us)&&(Pu.providerData=Us.map(yd=>Object.assign({},yd))),ca&&(Pu._redirectEventId=ca),Pu}static _fromIdTokenResponse(h,g,C=!1){return(0,u.Z)(function*(){const W=new Pn;W.updateFromServerResponse(g);const ue=new fr({uid:g.localId,auth:h,stsTokenManager:W,isAnonymous:C});return yield qn(ue),ue})()}}const pr=new Map;function Dr(E){Se(E instanceof Function,"Expected a class definition");let h=pr.get(E);return h?(Se(h instanceof E,"Instance stored in cache mismatched with class"),h):(h=new E,pr.set(E,h),h)}const ar=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,C){var W=this;return(0,u.Z)(function*(){W.storage[g]=C})()}_get(g){var C=this;return(0,u.Z)(function*(){const W=C.storage[g];return void 0===W?null:W})()}_remove(g){var C=this;return(0,u.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return E.type="NONE",E})();function Mr(E,h,g){return`firebase:${E}:${h}:${g}`}class Fe{constructor(h,g,C){this.persistence=h,this.auth=g,this.userKey=C;const{config:W,name:ue}=this.auth;this.fullUserKey=Mr(this.userKey,W.apiKey,ue),this.fullPersistenceKey=Mr("persistence",W.apiKey,ue),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,u.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?fr._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,u.Z)(function*(){if(g.persistence===h)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,C="authUser"){return(0,u.Z)(function*(){if(!g.length)return new Fe(Dr(ar),h,C);const W=(yield Promise.all(g.map(function(){var Cn=(0,u.Z)(function*(Jn){if(yield Jn._isAvailable())return Jn});return function(Jn){return Cn.apply(this,arguments)}}()))).filter(Cn=>Cn);let ue=W[0]||Dr(ar);const ot=Mr(C,h.config.apiKey,h.name);let xt=null;for(const Cn of g)try{const Jn=yield Cn._get(ot);if(Jn){const qr=fr._fromJSON(h,Jn);Cn!==ue&&(xt=qr),ue=Cn;break}}catch(Jn){}const an=W.filter(Cn=>Cn._shouldAllowMigration);return ue._shouldAllowMigration&&an.length?(ue=an[0],xt&&(yield ue._set(ot,xt.toJSON())),yield Promise.all(g.map(function(){var Cn=(0,u.Z)(function*(Jn){if(Jn!==ue)try{yield Jn._remove(ot)}catch(qr){}});return function(Jn){return Cn.apply(this,arguments)}}())),new Fe(ue,h,C)):new Fe(ue,h,C)})()}}function _e(E){const h=E.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(tt(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(se(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(sn(h))return"Blackberry";if(Un(h))return"Webos";if(fe(h))return"Safari";if((h.includes("chrome/")||Q(h))&&!h.includes("edge/"))return"Chrome";if(Ct(h))return"Android";{const C=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function se(E=(0,P.z$)()){return/firefox\//i.test(E)}function fe(E=(0,P.z$)()){const h=E.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Q(E=(0,P.z$)()){return/crios\//i.test(E)}function tt(E=(0,P.z$)()){return/iemobile/i.test(E)}function Ct(E=(0,P.z$)()){return/android/i.test(E)}function sn(E=(0,P.z$)()){return/blackberry/i.test(E)}function Un(E=(0,P.z$)()){return/webos/i.test(E)}function Sn(E=(0,P.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function dn(E=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function kn(E=(0,P.z$)()){return Sn(E)||Ct(E)||Un(E)||sn(E)||/windows phone/i.test(E)||tt(E)}function Rr(E,h=[]){let g;switch(E){case"Browser":g=_e((0,P.z$)());break;case"Worker":g=`${_e((0,P.z$)())}-${E}`;break;default:g=E}const C=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${k.SDK_VERSION}/${C}`}function ct(){return(ct=(0,u.Z)(function*(E){return(yield ze(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Bt(E,h){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,u.Z)(function*(E,h){return ze(E,"GET","/v2/recaptchaConfig",Ge(E,h))})).apply(this,arguments)}function Yn(E){return void 0!==E&&void 0!==E.getResponse}function In(E){return void 0!==E&&void 0!==E.enterprise}class Ft{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function zn(E){return new Promise((h,g)=>{const C=document.createElement("script");C.setAttribute("src",E),C.onload=h,C.onerror=W=>{const ue=Oe("internal-error");ue.customData=W,g(ue)},C.type="text/javascript",C.charset="UTF-8",function ln(){var E,h;return null!==(h=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==h?h:document}().appendChild(C)})}function gr(E){return`__${E}${Math.floor(1e6*Math.random())}`}class Tr{constructor(h){this.type="recaptcha-enterprise",this.auth=yr(h)}verify(h="verify",g=!1){var C=this;return(0,u.Z)(function*(){function ue(){return ue=(0,u.Z)(function*(xt){if(!g){if(null==xt.tenantId&&null!=xt._agentRecaptchaConfig)return xt._agentRecaptchaConfig.siteKey;if(null!=xt.tenantId&&void 0!==xt._tenantRecaptchaConfigs[xt.tenantId])return xt._tenantRecaptchaConfigs[xt.tenantId].siteKey}return new Promise(function(){var an=(0,u.Z)(function*(Cn,Jn){Bt(xt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(qr=>{if(void 0!==qr.recaptchaKey){const oo=new Ft(qr);return null==xt.tenantId?xt._agentRecaptchaConfig=oo:xt._tenantRecaptchaConfigs[xt.tenantId]=oo,Cn(oo.siteKey)}Jn(new Error("recaptcha Enterprise site key undefined"))}).catch(qr=>{Jn(qr)})});return function(Cn,Jn){return an.apply(this,arguments)}}())}),ue.apply(this,arguments)}function ot(xt,an,Cn){const Jn=window.grecaptcha;In(Jn)?Jn.enterprise.ready(()=>{Jn.enterprise.execute(xt,{action:h}).then(qr=>{an(qr)}).catch(()=>{an("NO_RECAPTCHA")})}):Cn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((xt,an)=>{(function W(xt){return ue.apply(this,arguments)})(C.auth).then(Cn=>{if(!g&&In(window.grecaptcha))ot(Cn,xt,an);else{if("undefined"==typeof window)return void an(new Error("RecaptchaVerifier is only supported in browser"));zn("https://www.google.com/recaptcha/enterprise.js?render="+Cn).then(()=>{ot(Cn,xt,an)}).catch(Jn=>{an(Jn)})}}).catch(Cn=>{an(Cn)})})})()}}function Zr(E,h,g){return zr.apply(this,arguments)}function zr(){return(zr=(0,u.Z)(function*(E,h,g,C=!1){const W=new Tr(E);let ue;try{ue=yield W.verify(g)}catch(xt){ue=yield W.verify(g,!0)}const ot=Object.assign({},h);return Object.assign(ot,C?{captchaResp:ue}:{captchaResponse:ue}),Object.assign(ot,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ot,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ot})).apply(this,arguments)}class Zn{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const C=ue=>new Promise((ot,xt)=>{try{ot(h(ue))}catch(an){xt(an)}});C.onAbort=g,this.queue.push(C);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,u.Z)(function*(){if(g.auth.currentUser===h)return;const C=[];try{for(const W of g.queue)yield W(h),W.onAbort&&C.push(W.onAbort)}catch(W){C.reverse();for(const ue of C)try{ue()}catch(ot){}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null==W?void 0:W.message})}})()}}class gi{constructor(h,g,C,W){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=C,this.config=W,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new si(this),this.idTokenSubscription=new si(this),this.beforeStateQueue=new Zn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=W.sdkClientVersion}_initializeWithPersistence(h,g){var C=this;return g&&(this._popupRedirectResolver=Dr(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var W,ue;if(!C._deleted&&(C.persistenceManager=yield Fe.create(C,h),!C._deleted)){if(null===(W=C._popupRedirectResolver)||void 0===W?void 0:W._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch(ot){}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(ue=C.currentUser)||void 0===ue?void 0:ue.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,u.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,u.Z)(function*(){var C;const W=yield g.assertedPersistence.getCurrentUser();let ue=W,ot=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const xt=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,an=null==ue?void 0:ue._redirectEventId,Cn=yield g.tryRedirectSignIn(h);(!xt||xt===an)&&(null==Cn?void 0:Cn.user)&&(ue=Cn.user,ot=!0)}if(!ue)return g.directlySetCurrentUser(null);if(!ue._redirectEventId){if(ot)try{yield g.beforeStateQueue.runMiddleware(ue)}catch(xt){ue=W,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(xt))}return ue?g.reloadAndSetCurrentUserOrClear(ue):g.directlySetCurrentUser(null)}return Pe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ue._redirectEventId?g.directlySetCurrentUser(ue):g.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(h){var g=this;return(0,u.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch(W){yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,u.Z)(function*(){try{yield qn(h)}catch(C){if("auth/network-request-failed"!==(null==C?void 0:C.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Nt(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var h=this;return(0,u.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,u.Z)(function*(){const C=h?(0,P.m9)(h):null;return C&&Pe(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(h,g=!1){var C=this;return(0,u.Z)(function*(){if(!C._deleted)return h&&Pe(C.tenantId===h.tenantId,C,"tenant-id-mismatch"),g||(yield C.beforeStateQueue.runMiddleware(h)),C.queue((0,u.Z)(function*(){yield C.directlySetCurrentUser(h),C.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,u.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(Dr(h))}))}initializeRecaptchaConfig(){var h=this;return(0,u.Z)(function*(){const g=yield Bt(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new Ft(g);null==h.tenantId?h._agentRecaptchaConfig=C:h._tenantRecaptchaConfigs[h.tenantId]=C,C.emailPasswordEnabled&&new Tr(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new P.LL("auth","Firebase",h())}onAuthStateChanged(h,g,C){return this.registerStateListener(this.authStateSubscription,h,g,C)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,C){return this.registerStateListener(this.idTokenSubscription,h,g,C)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var C=this;return(0,u.Z)(function*(){const W=yield C.getOrInitRedirectPersistenceManager(g);return null===h?W.removeCurrentUser():W.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const C=h&&Dr(h)||g._popupRedirectResolver;Pe(C,g,"argument-error"),g.redirectPersistenceManager=yield Fe.create(g,[Dr(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,u.Z)(function*(){var C,W;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===h?g._currentUser:(null===(W=g.redirectUser)||void 0===W?void 0:W._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,u.Z)(function*(){if(h===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,C,W){if(this._deleted)return()=>{};const ue="function"==typeof g?g:g.next.bind(g),ot=this._isInitialized?Promise.resolve():this._initializationPromise;return Pe(ot,this,"internal-error"),ot.then(()=>ue(this.currentUser)),"function"==typeof g?h.addObserver(g,C,W):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Rr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,u.Z)(function*(){var g;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const W=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();W&&(C["X-Firebase-Client"]=W);const ue=yield h._getAppCheckToken();return ue&&(C["X-Firebase-AppCheck"]=ue),C})()}_getAppCheckToken(){var h=this;return(0,u.Z)(function*(){var g;const C=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return(null==C?void 0:C.error)&&function ut(E,...h){Te.logLevel<=Ee.in.WARN&&Te.warn(`Auth (${k.SDK_VERSION}): ${E}`,...h)}(`Error while retrieving App Check token: ${C.error}`),null==C?void 0:C.token})()}}function yr(E){return(0,P.m9)(E)}class si{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,P.ne)(g=>this.observer=g)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ge(E,h,g){const C=yr(E);Pe(C._canInitEmulator,C,"emulator-config-failed"),Pe(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const W=!!(null==g?void 0:g.disableWarnings),ue=ee(h),{host:ot,port:xt}=function xe(E){const h=ee(E),g=/(\/\/)?([^?#/]+)/.exec(E.substr(h.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(C);if(W){const ue=W[1];return{host:ue,port:Be(C.substr(ue.length+1))}}{const[ue,ot]=C.split(":");return{host:ue,port:Be(ot)}}}(h);C.config.emulator={url:`${ue}//${ot}${null===xt?"":`:${xt}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ot,port:xt,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function rt(){function E(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function ee(E){const h=E.indexOf(":");return h<0?"":E.substr(0,h+1)}function Be(E){if(!E)return null;const h=Number(E);return isNaN(h)?null:h}class bt{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return ae("not implemented")}_getIdTokenResponse(h){return ae("not implemented")}_linkToIdToken(h,g){return ae("not implemented")}_getReauthenticationResolver(h){return ae("not implemented")}}function Rt(E,h){return At.apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(E,h){return ze(E,"POST","/v1/accounts:resetPassword",Ge(E,h))})).apply(this,arguments)}function Ht(E,h){return nn.apply(this,arguments)}function nn(){return(nn=(0,u.Z)(function*(E,h){return ze(E,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Nn(E,h){return xn.apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*(E,h){return ze(E,"POST","/v1/accounts:update",Ge(E,h))})).apply(this,arguments)}function rr(E,h){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,u.Z)(function*(E,h){return Zt(E,"POST","/v1/accounts:signInWithPassword",Ge(E,h))})).apply(this,arguments)}function ci(E,h){return mi.apply(this,arguments)}function mi(){return(mi=(0,u.Z)(function*(E,h){return ze(E,"POST","/v1/accounts:sendOobCode",Ge(E,h))})).apply(this,arguments)}function gs(E,h){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,u.Z)(function*(E,h){return ci(E,h)})).apply(this,arguments)}function Ye(E,h){return ft.apply(this,arguments)}function ft(){return(ft=(0,u.Z)(function*(E,h){return ci(E,h)})).apply(this,arguments)}function Lt(E,h){return qt.apply(this,arguments)}function qt(){return(qt=(0,u.Z)(function*(E,h){return ci(E,h)})).apply(this,arguments)}function Ln(E,h){return vr.apply(this,arguments)}function vr(){return(vr=(0,u.Z)(function*(E,h){return ci(E,h)})).apply(this,arguments)}function Ir(){return(Ir=(0,u.Z)(function*(E,h){return Zt(E,"POST","/v1/accounts:signInWithEmailLink",Ge(E,h))})).apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(E,h){return Zt(E,"POST","/v1/accounts:signInWithEmailLink",Ge(E,h))})).apply(this,arguments)}class Ii extends bt{constructor(h,g,C,W=null){super("password",C),this._email=h,this._password=g,this._tenantId=W}static _fromEmailAndPassword(h,g){return new Ii(h,g,"password")}static _fromEmailAndCode(h,g,C=null){return new Ii(h,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,u.Z)(function*(){var C;switch(g.signInMethod){case"password":const W={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null===(C=h._getRecaptchaConfig())||void 0===C?void 0:C.emailPasswordEnabled){const ue=yield Zr(h,W,"signInWithPassword");return rr(h,ue)}return rr(h,W).catch(function(){var ue=(0,u.Z)(function*(ot){if("auth/missing-recaptcha-token"===ot.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const xt=yield Zr(h,W,"signInWithPassword");return rr(h,xt)}return Promise.reject(ot)});return function(ot){return ue.apply(this,arguments)}}());case"emailLink":return function Pr(E,h){return Ir.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:Ke(h,"internal-error")}})()}_linkToIdToken(h,g){var C=this;return(0,u.Z)(function*(){switch(C.signInMethod){case"password":return Ht(h,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Ji(E,h){return es.apply(this,arguments)}(h,{idToken:g,email:C._email,oobCode:C._password});default:Ke(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Gi(E,h){return zi.apply(this,arguments)}function zi(){return(zi=(0,u.Z)(function*(E,h){return Zt(E,"POST","/v1/accounts:signInWithIdp",Ge(E,h))})).apply(this,arguments)}class oi extends bt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new oi(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):Ke("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:C,signInMethod:W}=g,ue=(0,Ie._T)(g,["providerId","signInMethod"]);if(!C||!W)return null;const ot=new oi(C,W);return ot.idToken=ue.idToken||void 0,ot.accessToken=ue.accessToken||void 0,ot.secret=ue.secret,ot.nonce=ue.nonce,ot.pendingToken=ue.pendingToken||null,ot}_getIdTokenResponse(h){return Gi(h,this.buildRequest())}_linkToIdToken(h,g){const C=this.buildRequest();return C.idToken=g,Gi(h,C)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Gi(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,P.xO)(g)}return h}}function Ts(E,h){return yi.apply(this,arguments)}function yi(){return(yi=(0,u.Z)(function*(E,h){return ze(E,"POST","/v1/accounts:sendVerificationCode",Ge(E,h))})).apply(this,arguments)}function be(){return(be=(0,u.Z)(function*(E,h){return Zt(E,"POST","/v1/accounts:signInWithPhoneNumber",Ge(E,h))})).apply(this,arguments)}function Ne(){return(Ne=(0,u.Z)(function*(E,h){const g=yield Zt(E,"POST","/v1/accounts:signInWithPhoneNumber",Ge(E,h));if(g.temporaryProof)throw Mn(E,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const it={USER_NOT_FOUND:"user-not-found"};function $n(){return($n=(0,u.Z)(function*(E,h){return Zt(E,"POST","/v1/accounts:signInWithPhoneNumber",Ge(E,Object.assign(Object.assign({},h),{operation:"REAUTH"})),it)})).apply(this,arguments)}class ur extends bt{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new ur({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new ur({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function ve(E,h){return be.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function z(E,h){return Ne.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Jt(E,h){return $n.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:C,verificationCode:W}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:C,code:W}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:C,phoneNumber:W,temporaryProof:ue}=h;return C||g||W||ue?new ur({verificationId:g,verificationCode:C,phoneNumber:W,temporaryProof:ue}):null}}class Pi{constructor(h){var g,C,W,ue,ot,xt;const an=(0,P.zd)((0,P.pd)(h)),Cn=null!==(g=an.apiKey)&&void 0!==g?g:null,Jn=null!==(C=an.oobCode)&&void 0!==C?C:null,qr=function kr(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=an.mode)&&void 0!==W?W:null);Pe(Cn&&Jn&&qr,"argument-error"),this.apiKey=Cn,this.operation=qr,this.code=Jn,this.continueUrl=null!==(ue=an.continueUrl)&&void 0!==ue?ue:null,this.languageCode=null!==(ot=an.languageCode)&&void 0!==ot?ot:null,this.tenantId=null!==(xt=an.tenantId)&&void 0!==xt?xt:null}static parseLink(h){const g=function Ci(E){const h=(0,P.zd)((0,P.pd)(E)).link,g=h?(0,P.zd)((0,P.pd)(h)).deep_link_id:null,C=(0,P.zd)((0,P.pd)(E)).deep_link_id;return(C?(0,P.zd)((0,P.pd)(C)).link:null)||C||g||h||E}(h);try{return new Pi(g)}catch(C){return null}}}let ts=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(g,C){return Ii._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const W=Pi.parseLink(C);return Pe(W,"argument-error"),Ii._fromEmailAndCode(g,W.code,W.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class $r{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Wi extends $r{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class vi extends Wi{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return Pe("providerId"in g&&"signInMethod"in g,"argument-error"),oi._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Pe(h.idToken||h.accessToken,"argument-error"),oi._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return vi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return vi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:W,pendingToken:ue,nonce:ot,providerId:xt}=h;if(!C&&!W&&!g&&!ue||!xt)return null;try{return new vi(xt)._credential({idToken:g,accessToken:C,nonce:ot,pendingToken:ue})}catch(an){return null}}}let ws=(()=>{class E extends Wi{constructor(){super("facebook.com")}static credential(g){return oi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return E.credential(g.oauthAccessToken)}catch(C){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Ss=(()=>{class E extends Wi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return oi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:W}=g;if(!C&&!W)return null;try{return E.credential(C,W)}catch(ue){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),ks=(()=>{class E extends Wi{constructor(){super("github.com")}static credential(g){return oi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return E.credential(g.oauthAccessToken)}catch(C){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class J extends bt{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return Gi(h,this.buildRequest())}_linkToIdToken(h,g){const C=this.buildRequest();return C.idToken=g,Gi(h,C)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Gi(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:C,signInMethod:W,pendingToken:ue}=g;return C&&W&&ue&&C===W?new J(C,ue):null}static _create(h,g){return new J(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class oe extends $r{constructor(h){Pe(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return oe.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return oe.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=J.fromJSON(h);return Pe(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:C}=h;if(!g||!C)return null;try{return J._create(C,g)}catch(W){return null}}}let We=(()=>{class E extends Wi{constructor(){super("twitter.com")}static credential(g,C){return oi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:W}=g;if(!C||!W)return null;try{return E.credential(C,W)}catch(ue){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function gt(E,h){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,u.Z)(function*(E,h){return Zt(E,"POST","/v1/accounts:signUp",Ge(E,h))})).apply(this,arguments)}class _n{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,C,W=!1){return(0,u.Z)(function*(){const ue=yield fr._fromIdTokenResponse(h,C,W),ot=Ur(C);return new _n({user:ue,providerId:ot,_tokenResponse:C,operationType:g})})()}static _forOperation(h,g,C){return(0,u.Z)(function*(){yield h._updateTokensIfNecessary(C,!0);const W=Ur(C);return new _n({user:h,providerId:W,_tokenResponse:C,operationType:g})})()}}function Ur(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function cr(E){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,u.Z)(function*(E){var h;const g=yr(E);if(yield g._initializationPromise,null===(h=g.currentUser)||void 0===h?void 0:h.isAnonymous)return new _n({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield gt(g,{returnSecureToken:!0}),W=yield _n._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(W.user),W})).apply(this,arguments)}class Sr extends P.ZR{constructor(h,g,C,W){var ue;super(g.code,g.message),this.operationType=C,this.user=W,Object.setPrototypeOf(this,Sr.prototype),this.customData={appName:h.name,tenantId:null!==(ue=h.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,g,C,W){return new Sr(h,g,C,W)}}function ni(E,h,g,C){return("reauthenticate"===h?g._getReauthenticationResolver(E):g._getIdTokenResponse(E)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?Sr._fromErrorAndOperation(E,ue,h,C):ue})}function Nr(E){return new Set(E.map(({providerId:h})=>h).filter(h=>!!h))}function Ri(E,h){return y.apply(this,arguments)}function y(){return(y=(0,u.Z)(function*(E,h){const g=(0,P.m9)(E);yield B(!0,g,h);const{providerUserInfo:C}=yield Fr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),W=Nr(C||[]);return g.providerData=g.providerData.filter(ue=>W.has(ue.providerId)),W.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function $(E,h){return m.apply(this,arguments)}function m(){return(m=(0,u.Z)(function*(E,h,g=!1){const C=yield Dt(E,h._linkToIdToken(E.auth,yield E.getIdToken()),g);return _n._forOperation(E,"link",C)})).apply(this,arguments)}function B(E,h,g){return _.apply(this,arguments)}function _(){return(_=(0,u.Z)(function*(E,h,g){yield qn(h);const W=!1===E?"provider-already-linked":"no-such-provider";Pe(Nr(h.providerData).has(g)===E,h.auth,W)})).apply(this,arguments)}function w(E,h){return A.apply(this,arguments)}function A(){return(A=(0,u.Z)(function*(E,h,g=!1){const{auth:C}=E,W="reauthenticate";try{const ue=yield Dt(E,ni(C,W,h,E),g);Pe(ue.idToken,C,"internal-error");const ot=Ue(ue.idToken);Pe(ot,C,"internal-error");const{sub:xt}=ot;return Pe(E.uid===xt,C,"user-mismatch"),_n._forOperation(E,W,ue)}catch(ue){throw"auth/user-not-found"===(null==ue?void 0:ue.code)&&Ke(C,"user-mismatch"),ue}})).apply(this,arguments)}function K(E,h){return pt.apply(this,arguments)}function pt(){return(pt=(0,u.Z)(function*(E,h,g=!1){const C="signIn",W=yield ni(E,C,h),ue=yield _n._fromIdTokenResponse(E,C,W);return g||(yield E._updateCurrentUser(ue.user)),ue})).apply(this,arguments)}function tn(E,h){return ir.apply(this,arguments)}function ir(){return(ir=(0,u.Z)(function*(E,h){return K(yr(E),h)})).apply(this,arguments)}function Br(E,h){return Di.apply(this,arguments)}function Di(){return(Di=(0,u.Z)(function*(E,h){const g=(0,P.m9)(E);return yield B(!1,g,h.providerId),$(g,h)})).apply(this,arguments)}function Vt(E,h){return sr.apply(this,arguments)}function sr(){return(sr=(0,u.Z)(function*(E,h){return w((0,P.m9)(E),h)})).apply(this,arguments)}function ns(E,h){return bi.apply(this,arguments)}function bi(){return(bi=(0,u.Z)(function*(E,h){return Zt(E,"POST","/v1/accounts:signInWithCustomToken",Ge(E,h))})).apply(this,arguments)}function Ti(E,h){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,u.Z)(function*(E,h){const g=yr(E),C=yield ns(g,{token:h,returnSecureToken:!0}),W=yield _n._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(W.user),W})).apply(this,arguments)}class Ni{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?ga._fromServerResponse(h,g):"totpInfo"in g?No._fromServerResponse(h,g):Ke(h,"internal-error")}}class ga extends Ni{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new ga(g)}}class No extends Ni{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new No(g)}}function Zo(E,h,g){var C;Pe((null===(C=g.url)||void 0===C?void 0:C.length)>0,E,"invalid-continue-uri"),Pe(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Pe(g.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(Pe(g.android.packageName.length>0,E,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function Va(E,h,g){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,u.Z)(function*(E,h,g){var C;const W=yr(E),ue={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null===(C=W._getRecaptchaConfig())||void 0===C?void 0:C.emailPasswordEnabled){const ot=yield Zr(W,ue,"getOobCode",!0);g&&Zo(W,ot,g),yield Ye(W,ot)}else g&&Zo(W,ue,g),yield Ye(W,ue).catch(function(){var ot=(0,u.Z)(function*(xt){if("auth/missing-recaptcha-token"!==xt.code)return Promise.reject(xt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const an=yield Zr(W,ue,"getOobCode",!0);g&&Zo(W,an,g),yield Ye(W,an)}});return function(xt){return ot.apply(this,arguments)}}())}),Fo.apply(this,arguments)}function ho(E,h,g){return rs.apply(this,arguments)}function rs(){return(rs=(0,u.Z)(function*(E,h,g){yield Rt((0,P.m9)(E),{oobCode:h,newPassword:g})})).apply(this,arguments)}function is(E,h){return ma.apply(this,arguments)}function ma(){return(ma=(0,u.Z)(function*(E,h){yield Nn((0,P.m9)(E),{oobCode:h})})).apply(this,arguments)}function As(E,h){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,u.Z)(function*(E,h){const g=(0,P.m9)(E),C=yield Rt(g,{oobCode:h}),W=C.requestType;switch(Pe(W,g,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Pe(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Pe(C.mfaInfo,g,"internal-error");default:Pe(C.email,g,"internal-error")}let ue=null;return C.mfaInfo&&(ue=Ni._fromServerResponse(yr(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:ue},operation:W}})).apply(this,arguments)}function Xo(E,h){return no.apply(this,arguments)}function no(){return(no=(0,u.Z)(function*(E,h){const{data:g}=yield As((0,P.m9)(E),h);return g.email})).apply(this,arguments)}function ya(E,h,g){return Do.apply(this,arguments)}function Do(){return Do=(0,u.Z)(function*(E,h,g){var C;const W=yr(E),ue={returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"};let ot;if(null===(C=W._getRecaptchaConfig())||void 0===C?void 0:C.emailPasswordEnabled){const Cn=yield Zr(W,ue,"signUpPassword");ot=gt(W,Cn)}else ot=gt(W,ue).catch(function(){var Cn=(0,u.Z)(function*(Jn){if("auth/missing-recaptcha-token"===Jn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const qr=yield Zr(W,ue,"signUpPassword");return gt(W,qr)}return Promise.reject(Jn)});return function(Jn){return Cn.apply(this,arguments)}}());const xt=yield ot.catch(Cn=>Promise.reject(Cn)),an=yield _n._fromIdTokenResponse(W,"signIn",xt);return yield W._updateCurrentUser(an.user),an}),Do.apply(this,arguments)}function To(E,h,g){return tn((0,P.m9)(E),ts.credential(h,g))}function $a(E,h,g){return fo.apply(this,arguments)}function fo(){return fo=(0,u.Z)(function*(E,h,g){var C;const W=yr(E),ue={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};function ot(xt,an){Pe(an.handleCodeInApp,W,"argument-error"),an&&Zo(W,xt,an)}if(null===(C=W._getRecaptchaConfig())||void 0===C?void 0:C.emailPasswordEnabled){const xt=yield Zr(W,ue,"getOobCode",!0);ot(xt,g),yield Lt(W,xt)}else ot(ue,g),yield Lt(W,ue).catch(function(){var xt=(0,u.Z)(function*(an){if("auth/missing-recaptcha-token"!==an.code)return Promise.reject(an);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Cn=yield Zr(W,ue,"getOobCode",!0);ot(Cn,g),yield Lt(W,Cn)}});return function(an){return xt.apply(this,arguments)}}())}),fo.apply(this,arguments)}function va(E,h){const g=Pi.parseLink(h);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}function _u(E,h,g){return Si.apply(this,arguments)}function Si(){return(Si=(0,u.Z)(function*(E,h,g){const C=(0,P.m9)(E),W=ts.credentialWithLink(h,g||he());return Pe(W._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),tn(C,W)})).apply(this,arguments)}function Lo(E,h){return So.apply(this,arguments)}function So(){return(So=(0,u.Z)(function*(E,h){return ze(E,"POST","/v1/accounts:createAuthUri",Ge(E,h))})).apply(this,arguments)}function Ua(E,h){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,u.Z)(function*(E,h){const C={identifier:h,continueUri:Ae()?he():"http://localhost"},{signinMethods:W}=yield Lo((0,P.m9)(E),C);return W||[]})).apply(this,arguments)}function Qo(E,h){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,u.Z)(function*(E,h){const g=(0,P.m9)(E),W={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};h&&Zo(g.auth,W,h);const{email:ue}=yield gs(g.auth,W);ue!==E.email&&(yield E.reload())})).apply(this,arguments)}function ja(E,h,g){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,u.Z)(function*(E,h,g){const C=(0,P.m9)(E),ue={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:h};g&&Zo(C.auth,ue,g);const{email:ot}=yield Ln(C.auth,ue);ot!==E.email&&(yield E.reload())})).apply(this,arguments)}function Oi(E,h){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,u.Z)(function*(E,h){return ze(E,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ai(E,h){return _a.apply(this,arguments)}function _a(){return(_a=(0,u.Z)(function*(E,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const C=(0,P.m9)(E),ue={idToken:yield C.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},ot=yield Dt(C,Oi(C.auth,ue));C.displayName=ot.displayName||null,C.photoURL=ot.photoUrl||null;const xt=C.providerData.find(({providerId:an})=>"password"===an);xt&&(xt.displayName=C.displayName,xt.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ot)})).apply(this,arguments)}function Ha(E,h){return ms((0,P.m9)(E),h,null)}function Ki(E,h){return ms((0,P.m9)(E),null,h)}function ms(E,h,g){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,u.Z)(function*(E,h,g){const{auth:C}=E,ue={idToken:yield E.getIdToken(),returnSecureToken:!0};h&&(ue.email=h),g&&(ue.password=g);const ot=yield Dt(E,Ht(C,ue));yield E._updateTokensIfNecessary(ot,!0)})).apply(this,arguments)}class cs{constructor(h,g,C={}){this.isNewUser=h,this.providerId=g,this.profile=C}}class zs extends cs{constructor(h,g,C,W){super(h,g,C),this.username=W}}class Is extends cs{constructor(h,g){super(h,"facebook.com",g)}}class Vo extends zs{constructor(h,g){super(h,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Jr extends cs{constructor(h,g){super(h,"google.com",g)}}class Eu extends zs{constructor(h,g,C){super(h,"twitter.com",g,C)}}function Zs(E){const{user:h,_tokenResponse:g}=E;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Bo(E){var h,g;if(!E)return null;const{providerId:C}=E,W=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},ue=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!C&&(null==E?void 0:E.idToken)){const ot=null===(g=null===(h=Ue(E.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(ot)return new cs(ue,"anonymous"!==ot&&"custom"!==ot?ot:null)}if(!C)return null;switch(C){case"facebook.com":return new Is(ue,W);case"github.com":return new Vo(ue,W);case"google.com":return new Jr(ue,W);case"twitter.com":return new Eu(ue,W,E.screenName||null);case"custom":case"anonymous":return new cs(ue,null);default:return new cs(ue,C,W)}}(g)}class Ls{constructor(h,g,C){this.type=h,this.credential=g,this.auth=C}static _fromIdtoken(h,g){return new Ls("enroll",h,g)}static _fromMfaPendingCredential(h){return new Ls("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,C;if(null==h?void 0:h.multiFactorSession){if(null===(g=h.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Ls._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(C=h.multiFactorSession)||void 0===C?void 0:C.idToken)return Ls._fromIdtoken(h.multiFactorSession.idToken)}return null}}class ro{constructor(h,g,C){this.session=h,this.hints=g,this.signInResolver=C}static _fromError(h,g){const C=yr(h),W=g.customData._serverResponse,ue=(W.mfaInfo||[]).map(xt=>Ni._fromServerResponse(C,xt));Pe(W.mfaPendingCredential,C,"internal-error");const ot=Ls._fromMfaPendingCredential(W.mfaPendingCredential);return new ro(ot,ue,function(){var xt=(0,u.Z)(function*(an){const Cn=yield an._process(C,ot);delete W.mfaInfo,delete W.mfaPendingCredential;const Jn=Object.assign(Object.assign({},W),{idToken:Cn.idToken,refreshToken:Cn.refreshToken});switch(g.operationType){case"signIn":const qr=yield _n._fromIdTokenResponse(C,g.operationType,Jn);return yield C._updateCurrentUser(qr.user),qr;case"reauthenticate":return Pe(g.user,C,"internal-error"),_n._forOperation(g.user,g.operationType,Jn);default:Ke(C,"internal-error")}});return function(an){return xt.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,u.Z)(function*(){return g.signInResolver(h)})()}}function go(E,h){var g;const C=(0,P.m9)(E),W=h;return Pe(h.customData.operationType,C,"argument-error"),Pe(null===(g=W.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),ro._fromError(C,W)}function Ga(E,h){return ze(E,"POST","/v2/accounts/mfaEnrollment:start",Ge(E,h))}class ea{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>Ni._fromServerResponse(h.auth,C)))})}static _fromUser(h){return new ea(h)}getSession(){var h=this;return(0,u.Z)(function*(){return Ls._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,g){var C=this;return(0,u.Z)(function*(){const W=h,ue=yield C.getSession(),ot=yield Dt(C.user,W._process(C.user.auth,ue,g));return yield C.user._updateTokensIfNecessary(ot),C.user.reload()})()}unenroll(h){var g=this;return(0,u.Z)(function*(){const C="string"==typeof h?h:h.uid,W=yield g.user.getIdToken();try{const ue=yield Dt(g.user,function Mo(E,h){return ze(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Ge(E,h))}(g.user.auth,{idToken:W,mfaEnrollmentId:C}));g.enrolledFactors=g.enrolledFactors.filter(({uid:ot})=>ot!==C),yield g.user._updateTokensIfNecessary(ue),yield g.user.reload()}catch(ue){throw ue}})()}}const Ro=new WeakMap;function Cc(E){const h=(0,P.m9)(E);return Ro.has(h)||Ro.set(h,ea._fromUser(h)),Ro.get(h)}const x="__sak";class T{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(x,"1"),this.storage.removeItem(x),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Re=(()=>{class E extends T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function b(){const E=(0,P.z$)();return fe(E)||Sn(E)}()&&function Gr(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=kn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const W=this.storage.getItem(C),ue=this.localCache[C];W!==ue&&g(C,ue,W)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((xt,an,Cn)=>{this.notifyListeners(xt,Cn)});const W=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xt=this.storage.getItem(W);if(g.newValue!==xt)null!==g.newValue?this.storage.setItem(W,g.newValue):this.storage.removeItem(W);else if(this.localCache[W]===g.newValue&&!C)return}const ue=()=>{const xt=this.storage.getItem(W);!C&&this.localCache[W]===xt||this.notifyListeners(W,xt)},ot=this.storage.getItem(W);!function tr(){return(0,P.w1)()&&10===document.documentMode}()||ot===g.newValue||g.newValue===g.oldValue?ue():setTimeout(ue,10)}notifyListeners(g,C){this.localCache[g]=C;const W=this.listeners[g];if(W)for(const ue of Array.from(W))ue(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var W=()=>super._set,ue=this;return(0,u.Z)(function*(){yield W().call(ue,g,C),ue.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,W=this;return(0,u.Z)(function*(){const ue=yield C().call(W,g);return W.localCache[g]=JSON.stringify(ue),ue})()}_remove(g){var C=()=>super._remove,W=this;return(0,u.Z)(function*(){yield C().call(W,g),delete W.localCache[g]})()}}return E.type="LOCAL",E})(),Ot=(()=>{class E extends T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return E.type="SESSION",E})();let Yr=(()=>{class E{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(ue=>ue.isListeningto(g));if(C)return C;const W=new E(g);return this.receivers.push(W),W}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,u.Z)(function*(){const W=g,{eventId:ue,eventType:ot,data:xt}=W.data,an=C.handlersMap[ot];if(!(null==an?void 0:an.size))return;W.ports[0].postMessage({status:"ack",eventId:ue,eventType:ot});const Cn=Array.from(an).map(function(){var qr=(0,u.Z)(function*(oo){return oo(W.origin,xt)});return function(oo){return qr.apply(this,arguments)}}()),Jn=yield function Vn(E){return Promise.all(E.map(function(){var h=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return h.apply(this,arguments)}}()))}(Cn);W.ports[0].postMessage({status:"done",eventId:ue,eventType:ot,response:Jn})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function yt(E="",h=10){let g="";for(let C=0;C<h;C++)g+=Math.floor(10*Math.random());return E+g}class lr{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,C=50){var W=this;return(0,u.Z)(function*(){const ue="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let ot,xt;return new Promise((an,Cn)=>{const Jn=yt("",20);ue.port1.start();const qr=setTimeout(()=>{Cn(new Error("unsupported_event"))},C);xt={messageChannel:ue,onMessage(oo){const ru=oo;if(ru.data.eventId===Jn)switch(ru.data.status){case"ack":clearTimeout(qr),ot=setTimeout(()=>{Cn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ot),an(ru.data.response);break;default:clearTimeout(qr),clearTimeout(ot),Cn(new Error("invalid_response"))}}},W.handlers.add(xt),ue.port1.addEventListener("message",xt.onMessage),W.target.postMessage({eventType:h,eventId:Jn,data:g},[ue.port2])}).finally(()=>{xt&&W.removeMessageHandler(xt)})})()}}function Xn(){return window}function En(){return void 0!==Xn().WorkerGlobalScope&&"function"==typeof Xn().importScripts}function Oo(){return(Oo=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const $t="firebaseLocalStorageDb",ss="firebaseLocalStorage",Ku="fbase_key";class ta{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Uo(E,h){return E.transaction([ss],h?"readwrite":"readonly").objectStore(ss)}function na(){const E=indexedDB.open($t,1);return new Promise((h,g)=>{E.addEventListener("error",()=>{g(E.error)}),E.addEventListener("upgradeneeded",()=>{const C=E.result;try{C.createObjectStore(ss,{keyPath:Ku})}catch(W){g(W)}}),E.addEventListener("success",(0,u.Z)(function*(){const C=E.result;C.objectStoreNames.contains(ss)?h(C):(C.close(),yield function za(){const E=indexedDB.deleteDatabase($t);return new ta(E).toPromise()}(),h(yield na()))}))})}function Yu(E,h,g){return wa.apply(this,arguments)}function wa(){return(wa=(0,u.Z)(function*(E,h,g){const C=Uo(E,!0).put({[Ku]:h,value:g});return new ta(C).toPromise()})).apply(this,arguments)}function qu(){return(qu=(0,u.Z)(function*(E,h){const g=Uo(E,!1).get(h),C=yield new ta(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Dc(E,h){const g=Uo(E,!0).delete(h);return new ta(g).toPromise()}const Li=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield na()),g.db})()}_withRetries(g){var C=this;return(0,u.Z)(function*(){let W=0;for(;;)try{const ue=yield C._openDb();return yield g(ue)}catch(ue){if(W++>3)throw ue;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return En()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=Yr._getInstance(function Tt(){return En()?self:null}()),g.receiver._subscribe("keyChanged",function(){var C=(0,u.Z)(function*(W,ue){return{keyProcessed:(yield g._poll()).includes(ue.key)}});return function(W,ue){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,u.Z)(function*(W,ue){return["keyChanged"]});return function(W,ue){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var C,W;if(g.activeServiceWorker=yield function jn(){return Oo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new lr(g.activeServiceWorker);const ue=yield g.sender._send("ping",{},800);!ue||(null===(C=ue[0])||void 0===C?void 0:C.fulfilled)&&(null===(W=ue[0])||void 0===W?void 0:W.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,u.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function mn(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch(W){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield na();return yield Yu(g,x,"1"),yield Dc(g,x),!0}catch(g){}return!1})()}_withPendingWrite(g){var C=this;return(0,u.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var W=this;return(0,u.Z)(function*(){return W._withPendingWrite((0,u.Z)(function*(){return yield W._withRetries(ue=>Yu(ue,g,C)),W.localCache[g]=C,W.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,u.Z)(function*(){const W=yield C._withRetries(ue=>function Cu(E,h){return qu.apply(this,arguments)}(ue,g));return C.localCache[g]=W,W})()}_remove(g){var C=this;return(0,u.Z)(function*(){return C._withPendingWrite((0,u.Z)(function*(){return yield C._withRetries(W=>Dc(W,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const C=yield g._withRetries(ot=>{const xt=Uo(ot,!1).getAll();return new ta(xt).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const W=[],ue=new Set;for(const{fbase_key:ot,value:xt}of C)ue.add(ot),JSON.stringify(g.localCache[ot])!==JSON.stringify(xt)&&(g.notifyListeners(ot,xt),W.push(ot));for(const ot of Object.keys(g.localCache))g.localCache[ot]&&!ue.has(ot)&&(g.notifyListeners(ot,null),W.push(ot));return W})()}notifyListeners(g,C){this.localCache[g]=C;const W=this.listeners[g];if(W)for(const ue of Array.from(W))ue(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function nr(E,h){return ze(E,"POST","/v2/accounts/mfaSignIn:start",Ge(E,h))}const vn=1e12;class Bi{constructor(h){this.auth=h,this.counter=vn,this._widgets=new Map}render(h,g){const C=this.counter;return this._widgets.set(C,new Ka(h,this.auth.name,g||{})),this.counter++,C}reset(h){var g;const C=h||vn;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(h){var g;return(null===(g=this._widgets.get(h||vn))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,u.Z)(function*(){var C;return null===(C=g._widgets.get(h||vn))||void 0===C||C.execute(),""})()}}class Ka{constructor(h,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof h?document.getElementById(h):h;Pe(W,"argument-error",{appName:g}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qs(E){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<E;C++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const il=gr("rcb"),Zu=new Wt(3e4,6e4);class Ms{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(h=Xn().grecaptcha)||void 0===h?void 0:h.render)}load(h,g=""){return Pe(function Tc(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&Yn(Xn().grecaptcha)?Promise.resolve(Xn().grecaptcha):new Promise((C,W)=>{const ue=Xn().setTimeout(()=>{W(Oe(h,"network-request-failed"))},Zu.get());Xn()[il]=()=>{Xn().clearTimeout(ue),delete Xn()[il];const xt=Xn().grecaptcha;if(!xt||!Yn(xt))return void W(Oe(h,"internal-error"));const an=xt.render;xt.render=(Cn,Jn)=>{const qr=an(Cn,Jn);return this.counter++,qr},this.hostLanguage=g,C(xt)},zn(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:il,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(ue),W(Oe(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!!(null===(g=Xn().grecaptcha)||void 0===g?void 0:g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ia{load(h){return(0,u.Z)(function*(){return new Bi(h)})()}clearedOneInstance(){}}const ys="recaptcha",Ya={theme:"light",type:"image"};class sl{constructor(h,g=Object.assign({},Ya),C){this.parameters=g,this.type=ys,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yr(C),this.isInvisible="invisible"===this.parameters.size,Pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof h?document.getElementById(h):h;Pe(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ia:new Ms,this.validateStartingState()}verify(){var h=this;return(0,u.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),C=h.getAssertedRecaptcha();return C.getResponse(g)||new Promise(ue=>{const ot=xt=>{!xt||(h.tokenChangeListeners.delete(ot),ue(xt))};h.tokenChangeListeners.add(ot),h.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Pe(!this.parameters.sitekey,this.auth,"argument-error"),Pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof h)h(g);else if("string"==typeof h){const C=Xn()[h];"function"==typeof C&&C(g)}}}assertNotDestroyed(){Pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,u.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,u.Z)(function*(){Pe(Ae()&&!En(),h.auth,"internal-error"),yield function Xu(){let E=null;return new Promise(h=>{"complete"!==document.readyState?(E=()=>h(),window.addEventListener("load",E)):h()}).catch(h=>{throw E&&window.removeEventListener("load",E),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function It(E){return ct.apply(this,arguments)}(h.auth);Pe(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return Pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class jo{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=ur._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function Qu(E,h,g){return Et.apply(this,arguments)}function Et(){return(Et=(0,u.Z)(function*(E,h,g){const C=yr(E),W=yield Js(C,h,(0,P.m9)(g));return new jo(W,ue=>tn(C,ue))})).apply(this,arguments)}function vs(E,h,g){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,u.Z)(function*(E,h,g){const C=(0,P.m9)(E);yield B(!1,C,"phone");const W=yield Js(C.auth,h,(0,P.m9)(g));return new jo(W,ue=>Br(C,ue))})).apply(this,arguments)}function ra(E,h,g){return ia.apply(this,arguments)}function ia(){return(ia=(0,u.Z)(function*(E,h,g){const C=(0,P.m9)(E),W=yield Js(C.auth,h,(0,P.m9)(g));return new jo(W,ue=>Vt(C,ue))})).apply(this,arguments)}function Js(E,h,g){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,u.Z)(function*(E,h,g){var C;const W=yield g.verify();try{let ue;if(Pe("string"==typeof W,E,"argument-error"),Pe(g.type===ys,E,"argument-error"),ue="string"==typeof h?{phoneNumber:h}:h,"session"in ue){const ot=ue.session;if("phoneNumber"in ue)return Pe("enroll"===ot.type,E,"internal-error"),(yield Ga(E,{idToken:ot.credential,phoneEnrollmentInfo:{phoneNumber:ue.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{Pe("signin"===ot.type,E,"internal-error");const xt=(null===(C=ue.multiFactorHint)||void 0===C?void 0:C.uid)||ue.multiFactorUid;return Pe(xt,E,"missing-multi-factor-info"),(yield nr(E,{mfaPendingCredential:ot.credential,mfaEnrollmentId:xt,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ot}=yield Ts(E,{phoneNumber:ue.phoneNumber,recaptchaToken:W});return ot}}finally{g._reset()}})).apply(this,arguments)}function Ca(E,h){return qa.apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(E,h){yield $((0,P.m9)(E),h)})).apply(this,arguments)}let Sc=(()=>{class E{constructor(g){this.providerId=E.PROVIDER_ID,this.auth=yr(g)}verifyPhoneNumber(g,C){return Js(this.auth,g,(0,P.m9)(C))}static credential(g,C){return ur._fromVerification(g,C)}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:W}=g;return C&&W?ur._fromTokenResponse(C,W):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Ho(E,h){return h?Dr(h):(Pe(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class ec extends bt{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Gi(h,this._buildIdpRequest())}_linkToIdToken(h,g){return Gi(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return Gi(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Vi(E){return K(E.auth,new ec(E),E.bypassAuthState)}function Go(E){const{auth:h,user:g}=E;return Pe(g,h,"internal-error"),w(g,new ec(E),E.bypassAuthState)}function Tu(E){return yo.apply(this,arguments)}function yo(){return(yo=(0,u.Z)(function*(E){const{auth:h,user:g}=E;return Pe(g,h,"internal-error"),$(g,new ec(E),E.bypassAuthState)})).apply(this,arguments)}class os{constructor(h,g,C,W,ue=!1){this.auth=h,this.resolver=C,this.user=W,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,u.Z)(function*(C,W){h.pendingPromise={resolve:C,reject:W};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ue){h.reject(ue)}});return function(C,W){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,u.Z)(function*(){const{urlResponse:C,sessionId:W,postBody:ue,tenantId:ot,error:xt,type:an}=h;if(xt)return void g.reject(xt);const Cn={auth:g.auth,requestUri:C,sessionId:W,tenantId:ot||void 0,postBody:ue||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(an)(Cn))}catch(Jn){g.reject(Jn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Vi;case"linkViaPopup":case"linkViaRedirect":return Tu;case"reauthViaPopup":case"reauthViaRedirect":return Go;default:Ke(this.auth,"internal-error")}}resolve(h){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Su=new Wt(2e3,1e4);function vo(E,h,g){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,u.Z)(function*(E,h,g){const C=yr(E);st(E,h,$r);const W=Ho(C,g);return new tc(C,"signInViaPopup",h,W).executeNotNull()})).apply(this,arguments)}function ud(E,h,g){return Da.apply(this,arguments)}function Da(){return(Da=(0,u.Z)(function*(E,h,g){const C=(0,P.m9)(E);st(C.auth,h,$r);const W=Ho(C.auth,g);return new tc(C.auth,"reauthViaPopup",h,W,C).executeNotNull()})).apply(this,arguments)}function ol(E,h,g){return Za.apply(this,arguments)}function Za(){return(Za=(0,u.Z)(function*(E,h,g){const C=(0,P.m9)(E);st(C.auth,h,$r);const W=Ho(C.auth,g);return new tc(C.auth,"linkViaPopup",h,W,C).executeNotNull()})).apply(this,arguments)}let tc=(()=>{class E extends os{constructor(g,C,W,ue,ot){super(g,C,ue,ot),this.provider=W,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const C=yield g.execute();return Pe(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,u.Z)(function*(){Se(1===g.filter.length,"Popup operations only handle one event");const C=yt();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(W=>{g.reject(W)}),g.resolver._isIframeWebStorageSupported(g.auth,W=>{W||g.reject(Oe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,W;this.pollId=(null===(W=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===W?void 0:W.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Su.get())};g()}}return E.currentPopupAction=null,E})();const $i=new Map;class ld extends os{constructor(h,g,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,u.Z)(function*(){let C=$i.get(g.auth._key());if(!C){try{const ue=(yield function Ch(E,h){return Ta.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;C=()=>Promise.resolve(ue)}catch(W){C=()=>Promise.reject(W)}$i.set(g.auth._key(),C)}return g.bypassAuthState||$i.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,C=this;return(0,u.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(C,h);if("unknown"!==h.type){if(h.eventId){const W=yield C.auth._redirectUserForId(h.eventId);if(W)return C.user=W,g().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Ta(){return(Ta=(0,u.Z)(function*(E,h){const g=xu(h),C=Au(E);if(!(yield C._isAvailable()))return!1;const W="true"===(yield C._get(g));return yield C._remove(g),W})).apply(this,arguments)}function Xa(E,h){return al.apply(this,arguments)}function al(){return(al=(0,u.Z)(function*(E,h){return Au(E)._set(xu(h),"true")})).apply(this,arguments)}function Dh(){$i.clear()}function dd(E,h){$i.set(E._key(),h)}function Au(E){return Dr(E._redirectPersistence)}function xu(E){return Mr("pendingRedirect",E.config.apiKey,E.name)}function Ac(E,h,g){return function Qa(E,h,g){return nc.apply(this,arguments)}(E,h,g)}function nc(){return(nc=(0,u.Z)(function*(E,h,g){const C=yr(E);st(E,h,$r),yield C._initializationPromise;const W=Ho(C,g);return yield Xa(W,C),W._openRedirect(C,h,"signInViaRedirect")})).apply(this,arguments)}function ul(E,h,g){return function rc(E,h,g){return Sa.apply(this,arguments)}(E,h,g)}function Sa(){return(Sa=(0,u.Z)(function*(E,h,g){const C=(0,P.m9)(E);st(C.auth,h,$r),yield C.auth._initializationPromise;const W=Ho(C.auth,g);yield Xa(W,C.auth);const ue=yield sa(C);return W._openRedirect(C.auth,h,"reauthViaRedirect",ue)})).apply(this,arguments)}function xc(E,h,g){return function Mc(E,h,g){return as.apply(this,arguments)}(E,h,g)}function as(){return(as=(0,u.Z)(function*(E,h,g){const C=(0,P.m9)(E);st(C.auth,h,$r),yield C.auth._initializationPromise;const W=Ho(C.auth,g);yield B(!1,C,h.providerId),yield Xa(W,C.auth);const ue=yield sa(C);return W._openRedirect(C.auth,h,"linkViaRedirect",ue)})).apply(this,arguments)}function zo(E,h){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,u.Z)(function*(E,h){return yield yr(E)._initializationPromise,Ja(E,h,!1)})).apply(this,arguments)}function Ja(E,h){return fi.apply(this,arguments)}function fi(){return(fi=(0,u.Z)(function*(E,h,g=!1){const C=yr(E),W=Ho(C,h),ot=yield new ld(C,W,g).execute();return ot&&!g&&(delete ot.user._redirectEventId,yield C._persistUserIfCurrent(ot.user),yield C._setRedirectUser(null,h)),ot})).apply(this,arguments)}function sa(E){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,u.Z)(function*(E){const h=yt(`${E.uid}:::`);return E._redirectEventId=h,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),h})).apply(this,arguments)}class cl{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(g=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Mu(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ks(E);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var C;if(h.error&&!Ks(h)){const W=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(Oe(this.auth,W))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const C=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eu(h))}saveEventToCache(h){this.cachedEventUids.add(eu(h)),this.lastProcessedEventTime=Date.now()}}function eu(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(h=>h).join("-")}function Ks({type:E,error:h}){return"unknown"===E&&"auth/no-auth-event"===(null==h?void 0:h.code)}function ic(E){return ai.apply(this,arguments)}function ai(){return(ai=(0,u.Z)(function*(E,h={}){return ze(E,"GET","/v1/projects",h)})).apply(this,arguments)}const ll=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oa=/^https?/;function us(){return(us=(0,u.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:h}=yield ic(E);for(const g of h)try{if(tu(g))return}catch(C){}Ke(E,"unauthorized-domain")})).apply(this,arguments)}function tu(E){const h=he(),{protocol:g,hostname:C}=new URL(h);if(E.startsWith("chrome-extension://")){const ot=new URL(E);return""===ot.hostname&&""===C?"chrome-extension:"===g&&E.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&ot.hostname===C}if(!oa.test(g))return!1;if(ll.test(E))return C===E;const W=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(C)}const _o=new Wt(3e4,6e4);function Aa(){const E=Xn().___jsl;if(null==E?void 0:E.H)for(const h of Object.keys(E.H))if(E.H[h].r=E.H[h].r||[],E.H[h].L=E.H[h].L||[],E.H[h].r=[...E.H[h].L],E.CP)for(let g=0;g<E.CP.length;g++)E.CP[g]=null}let eo=null;function aa(E){return eo=eo||function hd(E){return new Promise((h,g)=>{var C,W,ue;function ot(){Aa(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Aa(),g(Oe(E,"network-request-failed"))},timeout:_o.get()})}if(null===(W=null===(C=Xn().gapi)||void 0===C?void 0:C.iframes)||void 0===W?void 0:W.Iframe)h(gapi.iframes.getContext());else{if(!(null===(ue=Xn().gapi)||void 0===ue?void 0:ue.load)){const xt=gr("iframefcb");return Xn()[xt]=()=>{gapi.load?ot():g(Oe(E,"network-request-failed"))},zn(`https://apis.google.com/js/api.js?onload=${xt}`).catch(an=>g(an))}ot()}}).catch(h=>{throw eo=null,h})}(E),eo}const sc=new Wt(5e3,15e3),M={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function De(E){const h=E.config;Pe(h.authDomain,E,"auth-domain-config-required");const g=h.emulator?dt(h,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,C={apiKey:h.apiKey,appName:E.name,v:k.SDK_VERSION},W=G.get(E.config.apiHost);W&&(C.eid=W);const ue=E._getFrameworks();return ue.length&&(C.fw=ue.join(",")),`${g}?${(0,P.xO)(C).slice(1)}`}function ht(){return ht=(0,u.Z)(function*(E){const h=yield aa(E),g=Xn().gapi;return Pe(g,E,"internal-error"),h.open({where:document.body,url:De(E),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M,dontclear:!0},C=>new Promise(function(){var W=(0,u.Z)(function*(ue,ot){yield C.restyle({setHideOnLeave:!1});const xt=Oe(E,"network-request-failed"),an=Xn().setTimeout(()=>{ot(xt)},sc.get());function Cn(){Xn().clearTimeout(an),ue(C)}C.ping(Cn).then(Cn,()=>{ot(xt)})});return function(ue,ot){return W.apply(this,arguments)}}()))}),ht.apply(this,arguments)}const Pt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Cr{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}const Ou=encodeURIComponent("fac");function Ds(E,h,g,C,W,ue){return so.apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(E,h,g,C,W,ue){Pe(E.config.authDomain,E,"auth-domain-config-required"),Pe(E.config.apiKey,E,"invalid-api-key");const ot={apiKey:E.config.apiKey,appName:E.name,authType:g,redirectUrl:C,v:k.SDK_VERSION,eventId:W};if(h instanceof $r){h.setDefaultLanguage(E.languageCode),ot.providerId=h.providerId||"",(0,P.xb)(h.getCustomParameters())||(ot.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Jn,qr]of Object.entries(ue||{}))ot[Jn]=qr}if(h instanceof Wi){const Jn=h.getScopes().filter(qr=>""!==qr);Jn.length>0&&(ot.scopes=Jn.join(","))}E.tenantId&&(ot.tid=E.tenantId);const xt=ot;for(const Jn of Object.keys(xt))void 0===xt[Jn]&&delete xt[Jn];const an=yield E._getAppCheckToken(),Cn=an?`#${Ou}=${encodeURIComponent(an)}`:"";return`${wi(E)}?${(0,P.xO)(xt).slice(1)}${Cn}`})).apply(this,arguments)}function wi({config:E}){return E.emulator?dt(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}const nu="webStorageSupport",ua=class Ui{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ot,this._completeRedirectFn=Ja,this._overrideRedirectResult=dd}_openPopup(h,g,C,W){var ue=this;return(0,u.Z)(function*(){var ot;Se(null===(ot=ue.eventManagers[h._key()])||void 0===ot?void 0:ot.manager,"_initialize() not called before _openPopup()");const xt=yield Ds(h,g,C,he(),W);return function Vs(E,h,g,C=500,W=600){const ue=Math.max((window.screen.availHeight-W)/2,0).toString(),ot=Math.max((window.screen.availWidth-C)/2,0).toString();let xt="";const an=Object.assign(Object.assign({},Pt),{width:C.toString(),height:W.toString(),top:ue,left:ot}),Cn=(0,P.z$)().toLowerCase();g&&(xt=Q(Cn)?"_blank":g),se(Cn)&&(h=h||"http://localhost",an.scrollbars="yes");const Jn=Object.entries(an).reduce((oo,[ru,Ys])=>`${oo}${ru}=${Ys},`,"");if(function on(E=(0,P.z$)()){var h;return Sn(E)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(Cn)&&"_self"!==xt)return function Zi(E,h){const g=document.createElement("a");g.href=E,g.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(h||"",xt),new Cr(null);const qr=window.open(h||"",xt,Jn);Pe(qr,E,"popup-blocked");try{qr.focus()}catch(oo){}return new Cr(qr)}(h,xt,yt())})()}_openRedirect(h,g,C,W){var ue=this;return(0,u.Z)(function*(){return yield ue._originValidation(h),function Cs(E){Xn().location.href=E}(yield Ds(h,g,C,he(),W)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:W,promise:ue}=this.eventManagers[g];return W?Promise.resolve(W):(Se(ue,"If manager is not set, promise should be"),ue)}const C=this.initAndGetManager(h);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(h){var g=this;return(0,u.Z)(function*(){const C=yield function Xe(E){return ht.apply(this,arguments)}(h),W=new cl(h);return C.register("authEvent",ue=>(Pe(null==ue?void 0:ue.authEvent,h,"invalid-auth-event"),{status:W.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:W},g.iframes[h._key()]=C,W})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(nu,{type:nu},W=>{var ue;const ot=null===(ue=null==W?void 0:W[0])||void 0===ue?void 0:ue[nu];void 0!==ot&&g(!!ot),Ke(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function qi(E){return us.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return kn()||fe()||Sn()}};class pd extends class fd{constructor(h){this.factorId=h}_process(h,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,C);case"signin":return this._finalizeSignIn(h,g.credential);default:return ae("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new pd(h)}_finalizeEnroll(h,g,C){return function mo(E,h){return ze(E,"POST","/v2/accounts/mfaEnrollment:finalize",Ge(E,h))}(h,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function Du(E,h){return ze(E,"POST","/v2/accounts/mfaSignIn:finalize",Ge(E,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Rc=(()=>{class E{constructor(){}static assertion(g){return pd._fromCredential(g)}}return E.FACTOR_ID="phone",E})();var ac="@firebase/auth";class hl{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(C=>{h((null==C?void 0:C.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,P.Pz)("authIdTokenMaxAge"),function md(E){(0,k._registerComponent)(new ie.wA("auth",(h,{options:g})=>{const C=h.getProvider("app").getImmediate(),W=h.getProvider("heartbeat"),ue=h.getProvider("app-check-internal"),{apiKey:ot,authDomain:xt}=C.options;Pe(ot&&!ot.includes(":"),"invalid-api-key",{appName:C.name});const an={apiKey:ot,authDomain:xt,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rr(E)},Cn=new gi(C,W,ue,an);return function q(E,h){const g=(null==h?void 0:h.persistence)||[],C=(Array.isArray(g)?g:[g]).map(Dr);(null==h?void 0:h.errorMap)&&E._updateErrorMap(h.errorMap),E._initializeWithPersistence(C,null==h?void 0:h.popupRedirectResolver)}(Cn,g),Cn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,C)=>{h.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new ie.wA("auth-internal",h=>{const g=yr(h.getProvider("auth").getImmediate());return new hl(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(ac,"0.23.2",function Th(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,k.registerVersion)(ac,"0.23.2","esm2017")}("Browser")},42090:(Kt,Je,O)=>{"use strict";O.d(Je,{BH:()=>et,LL:()=>at,ZR:()=>ze,zI:()=>vt,US:()=>ie,tV:()=>Y,L:()=>le,$s:()=>Dr,r3:()=>Fr,Sg:()=>st,ne:()=>Dt,vZ:()=>br,ZB:()=>me,pd:()=>Ue,aH:()=>Ke,Pz:()=>Oe,m9:()=>Mr,z$:()=>lt,jU:()=>Se,ru:()=>he,xb:()=>Qn,w1:()=>$e,hl:()=>qe,uI:()=>Pe,UG:()=>ae,b$:()=>Ae,G6:()=>dt,xO:()=>On,zd:()=>St,eu:()=>nt});const Ie=function(Fe){const _e=[];let se=0;for(let fe=0;fe<Fe.length;fe++){let Q=Fe.charCodeAt(fe);Q<128?_e[se++]=Q:Q<2048?(_e[se++]=Q>>6|192,_e[se++]=63&Q|128):55296==(64512&Q)&&fe+1<Fe.length&&56320==(64512&Fe.charCodeAt(fe+1))?(Q=65536+((1023&Q)<<10)+(1023&Fe.charCodeAt(++fe)),_e[se++]=Q>>18|240,_e[se++]=Q>>12&63|128,_e[se++]=Q>>6&63|128,_e[se++]=63&Q|128):(_e[se++]=Q>>12|224,_e[se++]=Q>>6&63|128,_e[se++]=63&Q|128)}return _e},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Fe,_e){if(!Array.isArray(Fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const se=_e?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[];for(let Q=0;Q<Fe.length;Q+=3){const tt=Fe[Q],Ct=Q+1<Fe.length,sn=Ct?Fe[Q+1]:0,Un=Q+2<Fe.length,Sn=Un?Fe[Q+2]:0;let tr=(15&sn)<<2|Sn>>6,kn=63&Sn;Un||(kn=64,Ct||(tr=64)),fe.push(se[tt>>2],se[(3&tt)<<4|sn>>4],se[tr],se[kn])}return fe.join("")},encodeString(Fe,_e){return this.HAS_NATIVE_SUPPORT&&!_e?btoa(Fe):this.encodeByteArray(Ie(Fe),_e)},decodeString(Fe,_e){return this.HAS_NATIVE_SUPPORT&&!_e?atob(Fe):function(Fe){const _e=[];let se=0,fe=0;for(;se<Fe.length;){const Q=Fe[se++];if(Q<128)_e[fe++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const tt=Fe[se++];_e[fe++]=String.fromCharCode((31&Q)<<6|63&tt)}else if(Q>239&&Q<365){const Un=((7&Q)<<18|(63&Fe[se++])<<12|(63&Fe[se++])<<6|63&Fe[se++])-65536;_e[fe++]=String.fromCharCode(55296+(Un>>10)),_e[fe++]=String.fromCharCode(56320+(1023&Un))}else{const tt=Fe[se++],Ct=Fe[se++];_e[fe++]=String.fromCharCode((15&Q)<<12|(63&tt)<<6|63&Ct)}}return _e.join("")}(this.decodeStringToByteArray(Fe,_e))},decodeStringToByteArray(Fe,_e){this.init_();const se=_e?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[];for(let Q=0;Q<Fe.length;){const tt=se[Fe.charAt(Q++)],sn=Q<Fe.length?se[Fe.charAt(Q)]:0;++Q;const Sn=Q<Fe.length?se[Fe.charAt(Q)]:64;++Q;const on=Q<Fe.length?se[Fe.charAt(Q)]:64;if(++Q,null==tt||null==sn||null==Sn||null==on)throw new de;fe.push(tt<<2|sn>>4),64!==Sn&&(fe.push(sn<<4&240|Sn>>2),64!==on&&fe.push(Sn<<6&192|on))}return fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Fe=0;Fe<this.ENCODED_VALS.length;Fe++)this.byteToCharMap_[Fe]=this.ENCODED_VALS.charAt(Fe),this.charToByteMap_[this.byteToCharMap_[Fe]]=Fe,this.byteToCharMapWebSafe_[Fe]=this.ENCODED_VALS_WEBSAFE.charAt(Fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Fe]]=Fe,Fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Fe)]=Fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Fe)]=Fe)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const le=function(Fe){return function(Fe){const _e=Ie(Fe);return ie.encodeByteArray(_e,!0)}(Fe).replace(/\./g,"")},Y=function(Fe){try{return ie.decodeString(Fe,!0)}catch(_e){console.error("base64Decode failed: ",_e)}return null};function me(Fe,_e){if(!(_e instanceof Object))return _e;switch(_e.constructor){case Date:return new Date(_e.getTime());case Object:void 0===Fe&&(Fe={});break;case Array:Fe=[];break;default:return _e}for(const se in _e)!_e.hasOwnProperty(se)||!ce(se)||(Fe[se]=me(Fe[se],_e[se]));return Fe}function ce(Fe){return"__proto__"!==Fe}const Te=()=>{try{return function ke(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const Fe=process.env.__FIREBASE_DEFAULTS__;return Fe?JSON.parse(Fe):void 0})()||(()=>{if("undefined"==typeof document)return;let Fe;try{Fe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(se){return}const _e=Fe&&Y(Fe[1]);return _e&&JSON.parse(_e)})()}catch(Fe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Fe}`)}},Ke=()=>{var Fe;return null===(Fe=Te())||void 0===Fe?void 0:Fe.config},Oe=Fe=>{var _e;return null===(_e=Te())||void 0===_e?void 0:_e[`_${Fe}`]};class et{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((_e,se)=>{this.resolve=_e,this.reject=se})}wrapCallback(_e){return(se,fe)=>{se?this.reject(se):this.resolve(fe),"function"==typeof _e&&(this.promise.catch(()=>{}),1===_e.length?_e(se):_e(se,fe))}}}function st(Fe,_e){if(Fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const fe=_e||"demo-project",Q=Fe.iat||0,tt=Fe.sub||Fe.user_id;if(!tt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ct=Object.assign({iss:`https://securetoken.google.com/${fe}`,aud:fe,iat:Q,exp:Q+3600,auth_time:Q,sub:tt,user_id:tt,firebase:{sign_in_provider:"custom",identities:{}}},Fe);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(Ct)),""].join(".")}function lt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function ae(){var Fe;const _e=null===(Fe=Te())||void 0===Fe?void 0:Fe.forceEnvironment;if("node"===_e)return!0;if("browser"===_e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(se){return!1}}function Se(){return"object"==typeof self&&self.self===self}function he(){const Fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Fe&&void 0!==Fe.id}function Ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $e(){const Fe=lt();return Fe.indexOf("MSIE ")>=0||Fe.indexOf("Trident/")>=0}function dt(){return!ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){try{return"object"==typeof indexedDB}catch(Fe){return!1}}function nt(){return new Promise((Fe,_e)=>{try{let se=!0;const fe="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(fe);Q.onsuccess=()=>{Q.result.close(),se||self.indexedDB.deleteDatabase(fe),Fe(!0)},Q.onupgradeneeded=()=>{se=!1},Q.onerror=()=>{var tt;_e((null===(tt=Q.error)||void 0===tt?void 0:tt.message)||"")}}catch(se){_e(se)}})}function vt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ze extends Error{constructor(_e,se,fe){super(se),this.code=_e,this.customData=fe,this.name="FirebaseError",Object.setPrototypeOf(this,ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,at.prototype.create)}}class at{constructor(_e,se,fe){this.service=_e,this.serviceName=se,this.errors=fe}create(_e,...se){const fe=se[0]||{},Q=`${this.service}/${_e}`,tt=this.errors[_e],Ct=tt?function jt(Fe,_e){return Fe.replace(kt,(se,fe)=>{const Q=_e[fe];return null!=Q?String(Q):`<${fe}?>`})}(tt,fe):"Error";return new ze(Q,`${this.serviceName}: ${Ct} (${Q}).`,fe)}}const kt=/\{\$([^}]+)}/g;function Fr(Fe,_e){return Object.prototype.hasOwnProperty.call(Fe,_e)}function Qn(Fe){for(const _e in Fe)if(Object.prototype.hasOwnProperty.call(Fe,_e))return!1;return!0}function br(Fe,_e){if(Fe===_e)return!0;const se=Object.keys(Fe),fe=Object.keys(_e);for(const Q of se){if(!fe.includes(Q))return!1;const tt=Fe[Q],Ct=_e[Q];if(rn(tt)&&rn(Ct)){if(!br(tt,Ct))return!1}else if(tt!==Ct)return!1}for(const Q of fe)if(!se.includes(Q))return!1;return!0}function rn(Fe){return null!==Fe&&"object"==typeof Fe}function On(Fe){const _e=[];for(const[se,fe]of Object.entries(Fe))Array.isArray(fe)?fe.forEach(Q=>{_e.push(encodeURIComponent(se)+"="+encodeURIComponent(Q))}):_e.push(encodeURIComponent(se)+"="+encodeURIComponent(fe));return _e.length?"&"+_e.join("&"):""}function St(Fe){const _e={};return Fe.replace(/^\?/,"").split("&").forEach(fe=>{if(fe){const[Q,tt]=fe.split("=");_e[decodeURIComponent(Q)]=decodeURIComponent(tt)}}),_e}function Ue(Fe){const _e=Fe.indexOf("?");if(!_e)return"";const se=Fe.indexOf("#",_e);return Fe.substring(_e,se>0?se:void 0)}function Dt(Fe,_e){const se=new wt(Fe,_e);return se.subscribe.bind(se)}class wt{constructor(_e,se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=se,this.task.then(()=>{_e(this)}).catch(fe=>{this.error(fe)})}next(_e){this.forEachObserver(se=>{se.next(_e)})}error(_e){this.forEachObserver(se=>{se.error(_e)}),this.close(_e)}complete(){this.forEachObserver(_e=>{_e.complete()}),this.close()}subscribe(_e,se,fe){let Q;if(void 0===_e&&void 0===se&&void 0===fe)throw new Error("Missing Observer.");Q=function en(Fe,_e){if("object"!=typeof Fe||null===Fe)return!1;for(const se of _e)if(se in Fe&&"function"==typeof Fe[se])return!0;return!1}(_e,["next","error","complete"])?_e:{next:_e,error:se,complete:fe},void 0===Q.next&&(Q.next=wn),void 0===Q.error&&(Q.error=wn),void 0===Q.complete&&(Q.complete=wn);const tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(Ct){}}),this.observers.push(Q),tt}unsubscribeOne(_e){void 0===this.observers||void 0===this.observers[_e]||(delete this.observers[_e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(_e){if(!this.finalized)for(let se=0;se<this.observers.length;se++)this.sendOne(se,_e)}sendOne(_e,se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[_e])try{se(this.observers[_e])}catch(fe){"undefined"!=typeof console&&console.error&&console.error(fe)}})}close(_e){this.finalized||(this.finalized=!0,void 0!==_e&&(this.finalError=_e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wn(){}function Dr(Fe,_e=1e3,se=2){const fe=_e*Math.pow(se,Fe),Q=Math.round(.5*fe*(Math.random()-.5)*2);return Math.min(144e5,fe+Q)}function Mr(Fe){return Fe&&Fe._delegate?Fe._delegate:Fe}},83950:(Kt,Je,O)=>{"use strict";O.d(Je,{BX:()=>ks,Br:()=>L,dr:()=>br,Sm:()=>wt,W2:()=>fn,Gu:()=>Dr,gu:()=>xr,Ie:()=>se,Q$:()=>Un,q_:()=>Sn,z0:()=>on,fG:()=>tr,jP:()=>Ne,VI:()=>Or,wd:()=>rt,sr:()=>Rt,Pc:()=>Ri,r4:()=>Sr,HT:()=>J,YI:()=>kr,j9:()=>hn,yF:()=>Yt});var u=O(29863),P=O(34182),k=O(70655),Ie=O(23753),Ee=O(8929),ie=O(591),de=O(14055),X=(O(22243),O(93478),O(33139),O(46254)),me=O(41643),ce=O(2901),we=(O(47420),O(11450)),Le=(O(43509),O(32361)),et=O(92198),st=O(87545),lt=O(75778),Pe=O(69808);const Se=X.i,Ce=["*"],nt=y=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(y):"function"==typeof requestAnimationFrame?requestAnimationFrame(y):setTimeout(y);let vt=(()=>{class y{constructor(m,B){this.injector=m,this.el=B,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(m){this.el.nativeElement.value=this.lastValue=null==m?"":m,Ge(this.el)}handleChangeEvent(m,B){m===this.el.nativeElement&&(B!==this.lastValue&&(this.lastValue=B,this.onChange(B)),Ge(this.el))}_handleBlurEvent(m){m===this.el.nativeElement&&(this.onTouched(),Ge(this.el))}registerOnChange(m){this.onChange=m}registerOnTouched(m){this.onTouched=m}setDisabledState(m){this.el.nativeElement.disabled=m}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let m;try{m=this.injector.get(P.a5)}catch(_){}if(!m)return;m.statusChanges&&(this.statusChanges=m.statusChanges.subscribe(()=>Ge(this.el)));const B=m.control;B&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(w=>{if(void 0!==B[w]){const A=B[w].bind(B);B[w]=(...K)=>{A(...K),Ge(this.el)}}})}}return y.\u0275fac=function(m){return new(m||y)(u.Y36(u.zs3),u.Y36(u.SBq))},y.\u0275dir=u.lG2({type:y,hostBindings:function(m,B){1&m&&u.NdJ("ionBlur",function(w){return B._handleBlurEvent(w.target)})}}),y})();const Ge=y=>{nt(()=>{const $=y.nativeElement,m=null!=$.value&&$.value.toString().length>0,B=ze($);at($,B);const _=$.closest("ion-item");_&&at(_,m?[...B,"item-has-value"]:B)})},ze=y=>{const $=y.classList,m=[];for(let B=0;B<$.length;B++){const _=$.item(B);null!==_&&jt(_,"ng-")&&m.push(`ion-${_.substring(3)}`)}return m},at=(y,$)=>{const m=y.classList;m.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),m.add(...$)},jt=(y,$)=>y.substring(0,$.length)===$;let hn=(()=>{class y extends vt{constructor(m,B){super(m,B)}_handleInputEvent(m){this.handleChangeEvent(m,m.value)}}return y.\u0275fac=function(m){return new(m||y)(u.Y36(u.zs3),u.Y36(u.SBq))},y.\u0275dir=u.lG2({type:y,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(m,B){1&m&&u.NdJ("ionChange",function(w){return B._handleInputEvent(w.target)})},features:[u._Bn([{provide:P.JU,useExisting:y,multi:!0}]),u.qOj]}),y})();const Mn=(y,$)=>{const m=y.prototype;$.forEach(B=>{Object.defineProperty(m,B,{get(){return this.el[B]},set(_){this.z.runOutsideAngular(()=>this.el[B]=_)}})})},or=(y,$)=>{const m=y.prototype;$.forEach(B=>{m[B]=function(){const _=arguments;return this.z.runOutsideAngular(()=>this.el[B].apply(this.el,_))}})},Dn=(y,$,m)=>{m.forEach(B=>y[B]=(0,Ie.R)($,B))};function Mt(y){return function(m){const{defineCustomElementFn:B,inputs:_,methods:w}=y;return void 0!==B&&B(),_&&Mn(m,_),w&&or(m,w),m}}let br=(()=>{let y=class{constructor(m,B,_){this.z=_,m.detach(),this.el=B.nativeElement}};return y.\u0275fac=function(m){return new(m||y)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},y.\u0275cmp=u.Xpm({type:y,selectors:[["ion-app"]],ngContentSelectors:Ce,decls:1,vars:0,template:function(m,B){1&m&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,k.gn)([Mt({defineCustomElementFn:void 0})],y),y})(),wt=(()=>{let y=class{constructor(m,B,_){this.z=_,m.detach(),this.el=B.nativeElement}};return y.\u0275fac=function(m){return new(m||y)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},y.\u0275cmp=u.Xpm({type:y,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ce,decls:1,vars:0,template:function(m,B){1&m&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,k.gn)([Mt({defineCustomElementFn:void 0,inputs:["collapse"]})],y),y})(),fn=(()=>{let y=class{constructor(m,B,_){this.z=_,m.detach(),this.el=B.nativeElement,Dn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return y.\u0275fac=function(m){return new(m||y)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},y.\u0275cmp=u.Xpm({type:y,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ce,decls:1,vars:0,template:function(m,B){1&m&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,k.gn)([Mt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],y),y})(),Dr=(()=>{let y=class{constructor(m,B,_){this.z=_,m.detach(),this.el=B.nativeElement}};return y.\u0275fac=function(m){return new(m||y)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},y.\u0275cmp=u.Xpm({type:y,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ce,decls:1,vars:0,template:function(m,B){1&m&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,k.gn)([Mt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],y),y})(),xr=(()=>{let y=class{constructor(m,B,_){this.z=_,m.detach(),this.el=B.nativeElement}};return y.\u0275fac=function(m){return new(m||y)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},y.\u0275cmp=u.Xpm({type:y,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ce,decls:1,vars:0,template:function(m,B){1&m&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,k.gn)([Mt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],y),y})(),se=(()=>{let y=class{constructor(m,B,_){this.z=_,m.detach(),this.el=B.nativeElement}};return y.\u0275fac=function(m){return new(m||y)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},y.\u0275cmp=u.Xpm({type:y,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ce,decls:1,vars:0,template:function(m,B){1&m&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,k.gn)([Mt({defineCustomElementFn:void 0,inputs:["button","color","counter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],y),y})(),Un=(()=>{let y=class{constructor(m,B,_){this.z=_,m.detach(),this.el=B.nativeElement}};return y.\u0275fac=function(m){return new(m||y)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},y.\u0275cmp=u.Xpm({type:y,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ce,decls:1,vars:0,template:function(m,B){1&m&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,k.gn)([Mt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],y),y})(),Sn=(()=>{let y=class{constructor(m,B,_){this.z=_,m.detach(),this.el=B.nativeElement}};return y.\u0275fac=function(m){return new(m||y)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},y.\u0275cmp=u.Xpm({type:y,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ce,decls:1,vars:0,template:function(m,B){1&m&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,k.gn)([Mt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],y),y})(),on=(()=>{let y=class{constructor(m,B,_){this.z=_,m.detach(),this.el=B.nativeElement,Dn(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return y.\u0275fac=function(m){return new(m||y)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},y.\u0275cmp=u.Xpm({type:y,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Ce,decls:1,vars:0,template:function(m,B){1&m&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,k.gn)([Mt({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],y),y})(),tr=(()=>{let y=class{constructor(m,B,_){this.z=_,m.detach(),this.el=B.nativeElement}};return y.\u0275fac=function(m){return new(m||y)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},y.\u0275cmp=u.Xpm({type:y,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Ce,decls:1,vars:0,template:function(m,B){1&m&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,k.gn)([Mt({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],y),y})(),Or=(()=>{let y=class{constructor(m,B,_){this.z=_,m.detach(),this.el=B.nativeElement,Dn(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return y.\u0275fac=function(m){return new(m||y)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},y.\u0275cmp=u.Xpm({type:y,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:Ce,decls:1,vars:0,template:function(m,B){1&m&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,k.gn)([Mt({defineCustomElementFn:void 0,inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],y),y})(),rt=(()=>{let y=class{constructor(m,B,_){this.z=_,m.detach(),this.el=B.nativeElement}};return y.\u0275fac=function(m){return new(m||y)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},y.\u0275cmp=u.Xpm({type:y,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ce,decls:1,vars:0,template:function(m,B){1&m&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,k.gn)([Mt({defineCustomElementFn:void 0,inputs:["color","size"]})],y),y})(),Rt=(()=>{let y=class{constructor(m,B,_){this.z=_,m.detach(),this.el=B.nativeElement}};return y.\u0275fac=function(m){return new(m||y)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},y.\u0275cmp=u.Xpm({type:y,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ce,decls:1,vars:0,template:function(m,B){1&m&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,k.gn)([Mt({defineCustomElementFn:void 0,inputs:["color","mode"]})],y),y})();class At{constructor($={}){this.data=$}get($){return this.data[$]}}let Ht=(()=>{class y{constructor(m,B){this.zone=m,this.appRef=B}create(m,B,_){return new nn(m,B,_,this.appRef,this.zone)}}return y.\u0275fac=function(m){return new(m||y)(u.LFG(u.R0b),u.LFG(u.z2F))},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac}),y})();class nn{constructor($,m,B,_,w){this.resolver=$,this.injector=m,this.location=B,this.appRef=_,this.zone=w,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom($,m,B,_){return this.zone.run(()=>new Promise(w=>{w(Nn(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,$,m,B,_))}))}removeViewFromDom($,m){return this.zone.run(()=>new Promise(B=>{const _=this.elRefMap.get(m);if(_){_.destroy(),this.elRefMap.delete(m);const w=this.elEventsMap.get(m);w&&(w(),this.elEventsMap.delete(m))}B()}))}}const Nn=(y,$,m,B,_,w,A,K,pt,tn,ir)=>{const Br=$.resolveComponentFactory(pt),Di=u.zs3.create({providers:ci(tn),parent:m}),Vt=B?B.createComponent(Br,B.length,Di):Br.create(Di),sr=Vt.instance,ns=Vt.location.nativeElement;if(tn&&Object.assign(sr,tn),ir)for(const Ti of ir)ns.classList.add(Ti);const bi=rr(y,sr,ns);return K.appendChild(ns),B||_.attachView(Vt.hostView),Vt.changeDetectorRef.reattach(),w.set(ns,Vt),A.set(ns,bi),ns},xn=[ce.L,ce.a,ce.b,ce.c,ce.d],rr=(y,$,m)=>y.run(()=>{const B=xn.filter(_=>"function"==typeof $[_]).map(_=>{const w=A=>$[_](A.detail);return m.addEventListener(_,w),()=>m.removeEventListener(_,w)});return()=>B.forEach(_=>_())}),Lr=new u.OlP("NavParamsToken"),ci=y=>[{provide:Lr,useValue:y},{provide:At,useFactory:mi,deps:[Lr]}],mi=y=>new At(y),Ze=(y,$)=>((y=y.filter(m=>m.stackId!==$.stackId)).push($),y),Lt=(y,$)=>{const m=y.createUrlTree(["."],{relativeTo:$});return y.serializeUrl(m)},Ln=(y,$)=>{if(!y)return;const m=vr($);for(let B=0;B<m.length;B++){if(B>=y.length)return m[B];if(m[B]!==y[B])return}},vr=y=>y.split("/").map($=>$.trim()).filter($=>""!==$),Pr=y=>{y&&(y.ref.destroy(),y.unlistenEvents())};class Ir{constructor($,m,B,_,w,A){this.containerEl=m,this.router=B,this.navCtrl=_,this.zone=w,this.location=A,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==$?vr($):void 0}createView($,m){var B;const _=Lt(this.router,m),w=null===(B=null==$?void 0:$.location)||void 0===B?void 0:B.nativeElement,A=rr(this.zone,$.instance,w);return{id:this.nextId++,stackId:Ln(this.tabsPrefix,_),unlistenEvents:A,element:w,ref:$,url:_}}getExistingView($){const m=Lt(this.router,$),B=this.views.find(_=>_.url===m);return B&&B.ref.changeDetectorRef.reattach(),B}setActive($){var m,B;const _=this.navCtrl.consumeTransition();let{direction:w,animation:A,animationBuilder:K}=_;const pt=this.activeView,tn=((y,$)=>!$||y.stackId!==$.stackId)($,pt);tn&&(w="back",A=void 0);const ir=this.views.slice();let Br;const Di=this.router;Di.getCurrentNavigation?Br=Di.getCurrentNavigation():(null===(m=Di.navigations)||void 0===m?void 0:m.value)&&(Br=Di.navigations.value),(null===(B=null==Br?void 0:Br.extras)||void 0===B?void 0:B.replaceUrl)&&this.views.length>0&&this.views.splice(-1,1);const Vt=this.views.includes($),sr=this.insertView($,w);Vt||$.ref.changeDetectorRef.detectChanges();const ns=$.animationBuilder;return void 0===K&&"back"===w&&!tn&&void 0!==ns&&(K=ns),pt&&(pt.animationBuilder=K),this.zone.runOutsideAngular(()=>this.wait(()=>(pt&&pt.ref.changeDetectorRef.detach(),$.ref.changeDetectorRef.reattach(),this.transition($,pt,A,this.canGoBack(1),!1,K).then(()=>Ji($,sr,ir,this.location,this.zone)).then(()=>({enteringView:$,direction:w,animation:A,tabSwitch:tn})))))}canGoBack($,m=this.getActiveStackId()){return this.getStack(m).length>$}pop($,m=this.getActiveStackId()){return this.zone.run(()=>{var B,_;const w=this.getStack(m);if(w.length<=$)return Promise.resolve(!1);const A=w[w.length-$-1];let K=A.url;const pt=A.savedData;if(pt){const ir=pt.get("primary");(null===(_=null===(B=null==ir?void 0:ir.route)||void 0===B?void 0:B._routerState)||void 0===_?void 0:_.snapshot.url)&&(K=ir.route._routerState.snapshot.url)}const{animationBuilder:tn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(K,Object.assign(Object.assign({},A.savedExtras),{animation:tn})).then(()=>!0)})}startBackTransition(){const $=this.activeView;if($){const m=this.getStack($.stackId),B=m[m.length-2],_=B.animationBuilder;return this.wait(()=>this.transition(B,$,"back",this.canGoBack(2),!0,_))}return Promise.resolve()}endBackTransition($){$?(this.skipTransition=!0,this.pop(1)):this.activeView&&es(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl($){const m=this.getStack($);return m.length>0?m[m.length-1]:void 0}getRootUrl($){const m=this.getStack($);return m.length>0?m[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Pr),this.activeView=void 0,this.views=[]}getStack($){return this.views.filter(m=>m.stackId===$)}insertView($,m){return this.activeView=$,this.views=((y,$,m)=>"root"===m?Ze(y,$):"forward"===m?((y,$)=>(y.indexOf($)>=0?y=y.filter(B=>B.stackId!==$.stackId||B.id<=$.id):y.push($),y))(y,$):((y,$)=>y.indexOf($)>=0?y.filter(B=>B.stackId!==$.stackId||B.id<=$.id):Ze(y,$))(y,$))(this.views,$,m),this.views.slice()}transition($,m,B,_,w,A){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(m===$)return Promise.resolve(!1);const K=$?$.element:void 0,pt=m?m.element:void 0,tn=this.containerEl;return K&&K!==pt&&(K.classList.add("ion-page"),K.classList.add("ion-page-invisible"),K.parentElement!==tn&&tn.appendChild(K),tn.commit)?tn.commit(K,pt,{deepWait:!0,duration:void 0===B?0:void 0,direction:B,showGoBack:_,progressAnimation:w,animationBuilder:A}):Promise.resolve(!1)}wait($){return(0,k.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const m=this.runningTask=$();return m.finally(()=>this.runningTask=void 0),m})}}const Ji=(y,$,m,B,_)=>"function"==typeof requestAnimationFrame?new Promise(w=>{requestAnimationFrame(()=>{es(y,$,m,B,_),w()})}):Promise.resolve(),es=(y,$,m,B,_)=>{_.run(()=>m.filter(w=>!$.includes(w)).forEach(Pr)),$.forEach(w=>{const K=B.path().split("?")[0].split("#")[0];if(w!==y&&w.url!==K){const pt=w.element;pt.setAttribute("aria-hidden","true"),pt.classList.add("ion-page-hidden"),w.ref.changeDetectorRef.detach()}})};let Ii=(()=>{class y{get(m,B){const _=zi();return _?_.get(m,B):null}getBoolean(m,B){const _=zi();return!!_&&_.getBoolean(m,B)}getNumber(m,B){const _=zi();return _?_.getNumber(m,B):0}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Gi=new u.OlP("USERCONFIG"),zi=()=>{if("undefined"!=typeof window){const y=window.Ionic;if(null==y?void 0:y.config)return y.config}return null};let js=(()=>{class y{constructor(m,B){this.doc=m,this.backButton=new Ee.xQ,this.keyboardDidShow=new Ee.xQ,this.keyboardDidHide=new Ee.xQ,this.pause=new Ee.xQ,this.resume=new Ee.xQ,this.resize=new Ee.xQ,B.run(()=>{var _;let w;this.win=m.defaultView,this.backButton.subscribeWithPriority=function(A,K){return this.subscribe(pt=>pt.register(A,tn=>B.run(()=>K(tn))))},Ts(this.pause,m,"pause"),Ts(this.resume,m,"resume"),Ts(this.backButton,m,"ionBackButton"),Ts(this.resize,this.win,"resize"),Ts(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Ts(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(A=>{w=A}),(null===(_=this.win)||void 0===_?void 0:_.cordova)?m.addEventListener("deviceready",()=>{w("cordova")},{once:!0}):w("dom")})}is(m){return(0,X.a)(this.win,m)}platforms(){return(0,X.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(m){return oi(this.win.location.href,m)}isLandscape(){return!this.isPortrait()}isPortrait(){var m,B;return null===(B=(m=this.win).matchMedia)||void 0===B?void 0:B.call(m,"(orientation: portrait)").matches}testUserAgent(m){const B=this.win.navigator;return!!((null==B?void 0:B.userAgent)&&B.userAgent.indexOf(m)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return y.\u0275fac=function(m){return new(m||y)(u.LFG(Pe.K0),u.LFG(u.R0b))},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const oi=(y,$)=>{$=$.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const B=new RegExp("[\\?&]"+$+"=([^&#]*)").exec(y);return B?decodeURIComponent(B[1].replace(/\+/g," ")):null},Ts=(y,$,m)=>{$&&$.addEventListener(m,B=>{y.next(null!=B?B.detail:void 0)})};let yi=(()=>{class y{constructor(m,B,_,w){this.location=B,this.serializer=_,this.router=w,this.direction=be,this.animated=z,this.guessDirection="forward",this.lastNavId=-1,w&&w.events.subscribe(A=>{if(A instanceof de.OD){const K=A.restoredState?A.restoredState.navigationId:A.id;this.guessDirection=K<this.lastNavId?"back":"forward",this.guessAnimation=A.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?A.id:K}}),m.backButton.subscribeWithPriority(0,A=>{this.pop(),A()})}navigateForward(m,B={}){return this.setDirection("forward",B.animated,B.animationDirection,B.animation),this.navigate(m,B)}navigateBack(m,B={}){return this.setDirection("back",B.animated,B.animationDirection,B.animation),this.navigate(m,B)}navigateRoot(m,B={}){return this.setDirection("root",B.animated,B.animationDirection,B.animation),this.navigate(m,B)}back(m={animated:!0,animationDirection:"back"}){return this.setDirection("back",m.animated,m.animationDirection,m.animation),this.location.back()}pop(){return(0,k.mG)(this,void 0,void 0,function*(){let m=this.topOutlet;for(;m&&!(yield m.pop());)m=m.parentOutlet})}setDirection(m,B,_,w){this.direction=m,this.animated=ve(m,B,_),this.animationBuilder=w}setTopOutlet(m){this.topOutlet=m}consumeTransition(){let B,m="root";const _=this.animationBuilder;return"auto"===this.direction?(m=this.guessDirection,B=this.guessAnimation):(B=this.animated,m=this.direction),this.direction=be,this.animated=z,this.animationBuilder=void 0,{direction:m,animation:B,animationBuilder:_}}navigate(m,B){if(Array.isArray(m))return this.router.navigate(m,B);{const _=this.serializer.parse(m.toString());return void 0!==B.queryParams&&(_.queryParams=Object.assign({},B.queryParams)),void 0!==B.fragment&&(_.fragment=B.fragment),this.router.navigateByUrl(_,B)}}}return y.\u0275fac=function(m){return new(m||y)(u.LFG(js),u.LFG(Pe.Ye),u.LFG(de.Hx),u.LFG(de.F0,8))},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const ve=(y,$,m)=>{if(!1!==$){if(void 0!==m)return m;if("forward"===y||"back"===y)return y;if("root"===y&&!0===$)return"forward"}},be="auto",z=void 0;let Ne=(()=>{class y{constructor(m,B,_,w,A,K,pt,tn,ir,Br,Di,Vt,sr){this.parentContexts=m,this.location=B,this.resolver=_,this.config=K,this.navCtrl=pt,this.parentOutlet=sr,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ie.X(null),this.stackEvents=new u.vpe,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.nativeEl=ir.nativeElement,this.name=w||de.eC,this.tabsPrefix="true"===A?Lt(Br,Vt):void 0,this.stackCtrl=new Ir(this.tabsPrefix,this.nativeEl,Br,pt,Di,tn),m.onChildOutletCreated(this.name,this)}set animation(m){this.nativeEl.animation=m}set animated(m){this.nativeEl.animated=m}set swipeGesture(m){this._swipeGesture=m,this.nativeEl.swipeHandler=m?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:B=>this.stackCtrl.endBackTransition(B)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const m=this.getContext();(null==m?void 0:m.route)&&this.activateWith(m.route,m.resolver||null)}new Promise(m=>(0,me.c)(this.nativeEl,m)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(m,B){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const B=this.getContext();this.activatedView.savedData=new Map(B.children.contexts);const _=this.activatedView.savedData.get("primary");if(_&&B.route&&(_.route=Object.assign({},B.route)),this.activatedView.savedExtras={},B.route){const w=B.route.snapshot;this.activatedView.savedExtras.queryParams=w.queryParams,this.activatedView.savedExtras.fragment=w.fragment}}const m=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,B){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=m;let _,w=this.stackCtrl.getExistingView(m);if(w){_=this.activated=w.ref;const A=w.savedData;A&&(this.getContext().children.contexts=A),this.updateActivatedRouteProxy(_.instance,m)}else{const pt=(B=B||this.resolver).resolveComponentFactory(m._futureSnapshot.routeConfig.component),tn=this.parentContexts.getOrCreateContext(this.name).children,ir=new ie.X(null),Br=this.createActivatedRouteProxy(ir,m),Di=new it(Br,tn,this.location.injector);_=this.activated=this.location.createComponent(pt,this.location.length,Di),ir.next(_.instance),w=this.stackCtrl.createView(this.activated,m),this.proxyMap.set(_.instance,Br),this.currentActivatedRoute$.next({component:_.instance,activatedRoute:m})}this.activatedView=w,this.stackCtrl.setActive(w).then(A=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(_.instance),this.stackEvents.emit(A)})}canGoBack(m=1,B){return this.stackCtrl.canGoBack(m,B)}pop(m=1,B){return this.stackCtrl.pop(m,B)}getLastUrl(m){const B=this.stackCtrl.getLastUrl(m);return B?B.url:void 0}getLastRouteView(m){return this.stackCtrl.getLastUrl(m)}getRootView(m){return this.stackCtrl.getRootUrl(m)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(m,B){const _=new de.gz;return _._futureSnapshot=B._futureSnapshot,_._routerState=B._routerState,_.snapshot=B.snapshot,_.outlet=B.outlet,_.component=B.component,_._paramMap=this.proxyObservable(m,"paramMap"),_._queryParamMap=this.proxyObservable(m,"queryParamMap"),_.url=this.proxyObservable(m,"url"),_.params=this.proxyObservable(m,"params"),_.queryParams=this.proxyObservable(m,"queryParams"),_.fragment=this.proxyObservable(m,"fragment"),_.data=this.proxyObservable(m,"data"),_}proxyObservable(m,B){return m.pipe((0,et.h)(_=>!!_),(0,st.w)(_=>this.currentActivatedRoute$.pipe((0,et.h)(w=>null!==w&&w.component===_),(0,st.w)(w=>w&&w.activatedRoute[B]),(0,lt.x)())))}updateActivatedRouteProxy(m,B){const _=this.proxyMap.get(m);if(!_)throw new Error("Could not find activated route proxy for view");_._futureSnapshot=B._futureSnapshot,_._routerState=B._routerState,_.snapshot=B.snapshot,_.outlet=B.outlet,_.component=B.component,this.currentActivatedRoute$.next({component:m,activatedRoute:B})}}return y.\u0275fac=function(m){return new(m||y)(u.Y36(de.y6),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.$8M("tabs"),u.Y36(Ii),u.Y36(yi),u.Y36(Pe.Ye),u.Y36(u.SBq),u.Y36(de.F0),u.Y36(u.R0b),u.Y36(de.gz),u.Y36(y,12))},y.\u0275dir=u.lG2({type:y,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),y})();class it{constructor($,m,B){this.route=$,this.childContexts=m,this.parent=B}get($,m){return $===de.gz?this.route:$===de.y6?this.childContexts:this.parent.get($,m)}}let kr=(()=>{class y{constructor(m,B,_,w,A){this.locationStrategy=m,this.navCtrl=B,this.elementRef=_,this.router=w,this.routerLink=A,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var m;if(null===(m=this.routerLink)||void 0===m?void 0:m.urlTree){const B=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=B}}onClick(m){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),m.preventDefault()}}return y.\u0275fac=function(m){return new(m||y)(u.Y36(Pe.S$),u.Y36(yi),u.Y36(u.SBq),u.Y36(de.F0),u.Y36(de.rH,8))},y.\u0275dir=u.lG2({type:y,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(m,B){1&m&&u.NdJ("click",function(w){return B.onClick(w)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[u.TTD]}),y})();class Ss{constructor($){this.ctrl=$}create($){return this.ctrl.create($||{})}dismiss($,m,B){return this.ctrl.dismiss($,m,B)}getTop(){return this.ctrl.getTop()}}let ks=(()=>{class y extends Ss{constructor(){super(we.b)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),L=(()=>{class y extends Ss{constructor(){super(we.a)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),J=(()=>{class y extends Ss{constructor(){super(we.l)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),We=(()=>{class y extends Ss{constructor(m,B,_){super(we.m),this.angularDelegate=m,this.resolver=B,this.injector=_}create(m){return super.create(Object.assign(Object.assign({},m),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return y.\u0275fac=function(m){return new(m||y)(u.LFG(Ht),u.LFG(u._Vd),u.LFG(u.zs3))},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac}),y})(),gt=(()=>{class y extends Ss{constructor(m,B,_){super(we.c),this.angularDelegate=m,this.resolver=B,this.injector=_}create(m){return super.create(Object.assign(Object.assign({},m),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return y.\u0275fac=function(m){return new(m||y)(u.LFG(Ht),u.LFG(u._Vd),u.LFG(u.zs3))},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac}),y})(),Yt=(()=>{class y extends Ss{constructor(){super(we.t)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class Sr{shouldDetach($){return!1}shouldAttach($){return!1}store($,m){}retrieve($){return null}shouldReuseRoute($,m){if($.routeConfig!==m.routeConfig)return!1;const B=$.params,_=m.params,w=Object.keys(B),A=Object.keys(_);if(w.length!==A.length)return!1;for(const K of w)if(_[K]!==B[K])return!1;return!0}}const ni=(y,$,m)=>()=>{if($.defaultView&&"undefined"!=typeof window){(y=>{const $=window,m=$.Ionic;m&&m.config&&"Object"!==m.config.constructor.name||($.Ionic=$.Ionic||{},$.Ionic.config=Object.assign(Object.assign({},$.Ionic.config),y))})(Object.assign(Object.assign({},y),{_zoneGate:w=>m.run(w)}));const _="__zone_symbol__addEventListener"in $.body?"__zone_symbol__addEventListener":"addEventListener";return function ae(){var y=[];if("undefined"!=typeof window){var $=window;(!$.customElements||$.Element&&(!$.Element.prototype.closest||!$.Element.prototype.matches||!$.Element.prototype.remove||!$.Element.prototype.getRootNode))&&y.push(O.e(6748).then(O.t.bind(O,30723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||$.NodeList&&!$.NodeList.prototype.forEach||!$.fetch||!function(){try{var B=new URL("b","http://a");return B.pathname="c%20d","http://a/c%20d"===B.href&&B.searchParams}catch(_){return!1}}()||"undefined"==typeof WeakMap)&&y.push(O.e(2214).then(O.t.bind(O,24144,23)))}return Promise.all(y)}().then(()=>((y,$)=>"undefined"==typeof window?Promise.resolve():(0,Le.p)().then(()=>(Se(),(0,Le.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),$))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:nt,jmp:w=>m.runOutsideAngular(w),ael(w,A,K,pt){w[_](A,K,pt)},rel(w,A,K,pt){w.removeEventListener(A,K,pt)}}))}};let Ri=(()=>{class y{static forRoot(m){return{ngModule:y,providers:[{provide:Gi,useValue:m},{provide:u.ip1,useFactory:ni,multi:!0,deps:[Gi,Pe.K0,u.R0b]}]}}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275mod=u.oAB({type:y}),y.\u0275inj=u.cJS({providers:[Ht,We,gt],imports:[[Pe.ez]]}),y})()},50913:(Kt,Je,O)=>{"use strict";O.d(Je,{c:()=>we});var u=O(41643);let P;const Ie=pe=>pe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ee=pe=>{if(void 0===P){const Te=void 0!==pe.style.webkitAnimationName;P=void 0===pe.style.animationName&&Te?"-webkit-":""}return P},ie=(pe,Le,Te)=>{const ut=Le.startsWith("animation")?Ee(pe):"";pe.style.setProperty(ut+Le,Te)},de=(pe,Le)=>{const Te=Le.startsWith("animation")?Ee(pe):"";pe.style.removeProperty(Te+Le)},Y=[],ke=(pe=[],Le)=>{if(void 0!==Le){const Te=Array.isArray(Le)?Le:[Le];return[...pe,...Te]}return pe},we=pe=>{let Le,Te,ut,te,Ke,Oe,ae,dt,qe,nt,vt,jt,kt,et=[],st=[],lt=[],Pe=!1,Se={},he=[],Ae=[],Ce={},$e=0,Nt=!1,Wt=!1,Ge=!0,ze=!1,at=!0;const Zt=pe,Tn=[],Rn=[],hn=[],Mn=[],or=[],Dn=[],Fr=[],Mt=[],Qn=[],Er=[],br="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,rn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&br,On=()=>Er,Dt=(ee,xe)=>(((null==xe?void 0:xe.oneTimeCallback)?Rn:Tn).push({c:ee,o:xe}),kt),zt=()=>{if(rn)Er.forEach(ee=>{ee.cancel()}),Er.length=0;else{const ee=hn.slice();(0,u.r)(()=>{ee.forEach(xe=>{de(xe,"animation-name"),de(xe,"animation-duration"),de(xe,"animation-timing-function"),de(xe,"animation-iteration-count"),de(xe,"animation-delay"),de(xe,"animation-play-state"),de(xe,"animation-fill-mode"),de(xe,"animation-direction")})})}},en=()=>{or.forEach(ee=>{(null==ee?void 0:ee.parentNode)&&ee.parentNode.removeChild(ee)}),or.length=0},pr=()=>void 0!==Ke?Ke:ae?ae.getFill():"both",Dr=()=>void 0!==qe?qe:void 0!==Oe?Oe:ae?ae.getDirection():"normal",xr=()=>Nt?"linear":void 0!==ut?ut:ae?ae.getEasing():"linear",ar=()=>Wt?0:void 0!==nt?nt:void 0!==Te?Te:ae?ae.getDuration():0,Mr=()=>void 0!==te?te:ae?ae.getIterations():1,Fe=()=>void 0!==vt?vt:void 0!==Le?Le:ae?ae.getDelay():0,Rr=()=>{0!==$e&&($e--,0===$e&&((()=>{Tr(),Mt.forEach(bt=>bt()),Qn.forEach(bt=>bt());const ee=Ge?1:0,xe=he,Be=Ae,rt=Ce;hn.forEach(bt=>{const Rt=bt.classList;xe.forEach(At=>Rt.add(At)),Be.forEach(At=>Rt.remove(At));for(const At in rt)rt.hasOwnProperty(At)&&ie(bt,At,rt[At])}),Tn.forEach(bt=>bt.c(ee,kt)),Rn.forEach(bt=>bt.c(ee,kt)),Rn.length=0,at=!0,Ge&&(ze=!0),Ge=!0})(),ae&&ae.animationFinish()))},It=(ee=!0)=>{en();const xe=(pe=>(pe.forEach(Le=>{for(const Te in Le)if(Le.hasOwnProperty(Te)){const ut=Le[Te];if("easing"===Te)Le["animation-timing-function"]=ut,delete Le[Te];else{const te=Ie(Te);te!==Te&&(Le[te]=ut,delete Le[Te])}}}),pe))(et);hn.forEach(Be=>{if(xe.length>0){const rt=((pe=[])=>pe.map(Le=>{const Te=Le.offset,ut=[];for(const te in Le)Le.hasOwnProperty(te)&&"offset"!==te&&ut.push(`${te}: ${Le[te]};`);return`${100*Te}% { ${ut.join(" ")} }`}).join(" "))(xe);jt=void 0!==pe?pe:(pe=>{let Le=Y.indexOf(pe);return Le<0&&(Le=Y.push(pe)-1),`ion-animation-${Le}`})(rt);const bt=((pe,Le,Te)=>{const ut=(pe=>{const Le=pe.getRootNode();return Le.head||Le})(Te),te=Ee(Te),Ke=ut.querySelector("#"+pe);if(Ke)return Ke;const Oe=(Te.ownerDocument||document).createElement("style");return Oe.id=pe,Oe.textContent=`@${te}keyframes ${pe} { ${Le} } @${te}keyframes ${pe}-alt { ${Le} }`,ut.appendChild(Oe),Oe})(jt,rt,Be);or.push(bt),ie(Be,"animation-duration",`${ar()}ms`),ie(Be,"animation-timing-function",xr()),ie(Be,"animation-delay",`${Fe()}ms`),ie(Be,"animation-fill-mode",pr()),ie(Be,"animation-direction",Dr());const Rt=Mr()===1/0?"infinite":Mr().toString();ie(Be,"animation-iteration-count",Rt),ie(Be,"animation-play-state","paused"),ee&&ie(Be,"animation-name",`${bt.id}-alt`),(0,u.r)(()=>{ie(Be,"animation-name",bt.id||null)})}})},Bt=(ee=!0)=>{(()=>{Dn.forEach(rt=>rt()),Fr.forEach(rt=>rt());const ee=st,xe=lt,Be=Se;hn.forEach(rt=>{const bt=rt.classList;ee.forEach(Rt=>bt.add(Rt)),xe.forEach(Rt=>bt.remove(Rt));for(const Rt in Be)Be.hasOwnProperty(Rt)&&ie(rt,Rt,Be[Rt])})})(),et.length>0&&(rn?(hn.forEach(ee=>{const xe=ee.animate(et,{id:Zt,delay:Fe(),duration:ar(),easing:xr(),iterations:Mr(),fill:pr(),direction:Dr()});xe.pause(),Er.push(xe)}),Er.length>0&&(Er[0].onfinish=()=>{Rr()})):It(ee)),Pe=!0},Xt=ee=>{if(ee=Math.min(Math.max(ee,0),.9999),rn)Er.forEach(xe=>{xe.currentTime=xe.effect.getComputedTiming().delay+ar()*ee,xe.pause()});else{const xe=`-${ar()*ee}ms`;hn.forEach(Be=>{et.length>0&&(ie(Be,"animation-delay",xe),ie(Be,"animation-play-state","paused"))})}},Yn=ee=>{Er.forEach(xe=>{xe.effect.updateTiming({delay:Fe(),duration:ar(),easing:xr(),iterations:Mr(),fill:pr(),direction:Dr()})}),void 0!==ee&&Xt(ee)},In=(ee=!0,xe)=>{(0,u.r)(()=>{hn.forEach(Be=>{ie(Be,"animation-name",jt||null),ie(Be,"animation-duration",`${ar()}ms`),ie(Be,"animation-timing-function",xr()),ie(Be,"animation-delay",void 0!==xe?`-${xe*ar()}ms`:`${Fe()}ms`),ie(Be,"animation-fill-mode",pr()||null),ie(Be,"animation-direction",Dr()||null);const rt=Mr()===1/0?"infinite":Mr().toString();ie(Be,"animation-iteration-count",rt),ee&&ie(Be,"animation-name",`${jt}-alt`),(0,u.r)(()=>{ie(Be,"animation-name",jt||null)})})})},Ft=(ee=!1,xe=!0,Be)=>(ee&&Mn.forEach(rt=>{rt.update(ee,xe,Be)}),rn?Yn(Be):In(xe,Be),kt),Wr=()=>{Pe&&(rn?Er.forEach(ee=>{ee.pause()}):hn.forEach(ee=>{ie(ee,"animation-play-state","paused")}))},pi=()=>{dt=void 0,Rr()},Tr=()=>{dt&&clearTimeout(dt)},yr=ee=>new Promise(xe=>{(null==ee?void 0:ee.sync)&&(Wt=!0,Dt(()=>Wt=!1,{oneTimeCallback:!0})),Pe||Bt(),ze&&(rn?(Xt(0),Yn()):In(),ze=!1),at&&($e=Mn.length+1,at=!1),Dt(()=>xe(),{oneTimeCallback:!0}),Mn.forEach(Be=>{Be.play()}),rn?(Er.forEach(ee=>{ee.play()}),(0===et.length||0===hn.length)&&Rr()):(()=>{if(Tr(),(0,u.r)(()=>{hn.forEach(ee=>{et.length>0&&ie(ee,"animation-play-state","running")})}),0===et.length||0===hn.length)Rr();else{const ee=Fe()||0,xe=ar()||0,Be=Mr()||1;isFinite(Be)&&(dt=setTimeout(pi,ee+xe*Be+100)),((pe,Le)=>{let Te;const ut={passive:!0},Ke=Oe=>{pe===Oe.target&&(Te&&Te(),Tr(),(0,u.r)(()=>{hn.forEach(ee=>{de(ee,"animation-duration"),de(ee,"animation-delay"),de(ee,"animation-play-state")}),(0,u.r)(Rr)}))};pe&&(pe.addEventListener("webkitAnimationEnd",Ke,ut),pe.addEventListener("animationend",Ke,ut),Te=()=>{pe.removeEventListener("webkitAnimationEnd",Ke,ut),pe.removeEventListener("animationend",Ke,ut)})})(hn[0])}})()}),Ei=(ee,xe)=>{const Be=et[0];return void 0===Be||void 0!==Be.offset&&0!==Be.offset?et=[{offset:0,[ee]:xe},...et]:Be[ee]=xe,kt};return kt={parentAnimation:ae,elements:hn,childAnimations:Mn,id:Zt,animationFinish:Rr,from:Ei,to:(ee,xe)=>{const Be=et[et.length-1];return void 0===Be||void 0!==Be.offset&&1!==Be.offset?et=[...et,{offset:1,[ee]:xe}]:Be[ee]=xe,kt},fromTo:(ee,xe,Be)=>Ei(ee,xe).to(ee,Be),parent:ee=>(ae=ee,kt),play:yr,pause:()=>(Mn.forEach(ee=>{ee.pause()}),Wr(),kt),stop:()=>{Mn.forEach(ee=>{ee.stop()}),Pe&&(zt(),Pe=!1),Nt=!1,Wt=!1,at=!0,qe=void 0,nt=void 0,vt=void 0,$e=0,ze=!1,Ge=!0},destroy:ee=>(Mn.forEach(xe=>{xe.destroy(ee)}),(ee=>{zt(),ee&&en()})(ee),hn.length=0,Mn.length=0,et.length=0,Tn.length=0,Rn.length=0,Pe=!1,at=!0,kt),keyframes:ee=>{const xe=et!==ee;return et=ee,xe&&(ee=>{rn?On().forEach(xe=>{if(xe.effect.setKeyframes)xe.effect.setKeyframes(ee);else{const Be=new KeyframeEffect(xe.effect.target,ee,xe.effect.getTiming());xe.effect=Be}}):It()})(et),kt},addAnimation:ee=>{if(null!=ee)if(Array.isArray(ee))for(const xe of ee)xe.parent(kt),Mn.push(xe);else ee.parent(kt),Mn.push(ee);return kt},addElement:ee=>{if(null!=ee)if(1===ee.nodeType)hn.push(ee);else if(ee.length>=0)for(let xe=0;xe<ee.length;xe++)hn.push(ee[xe]);else console.error("Invalid addElement value");return kt},update:Ft,fill:ee=>(Ke=ee,Ft(!0),kt),direction:ee=>(Oe=ee,Ft(!0),kt),iterations:ee=>(te=ee,Ft(!0),kt),duration:ee=>(!rn&&0===ee&&(ee=1),Te=ee,Ft(!0),kt),easing:ee=>(ut=ee,Ft(!0),kt),delay:ee=>(Le=ee,Ft(!0),kt),getWebAnimations:On,getKeyframes:()=>et,getFill:pr,getDirection:Dr,getDelay:Fe,getIterations:Mr,getEasing:xr,getDuration:ar,afterAddRead:ee=>(Mt.push(ee),kt),afterAddWrite:ee=>(Qn.push(ee),kt),afterClearStyles:(ee=[])=>{for(const xe of ee)Ce[xe]="";return kt},afterStyles:(ee={})=>(Ce=ee,kt),afterRemoveClass:ee=>(Ae=ke(Ae,ee),kt),afterAddClass:ee=>(he=ke(he,ee),kt),beforeAddRead:ee=>(Dn.push(ee),kt),beforeAddWrite:ee=>(Fr.push(ee),kt),beforeClearStyles:(ee=[])=>{for(const xe of ee)Se[xe]="";return kt},beforeStyles:(ee={})=>(Se=ee,kt),beforeRemoveClass:ee=>(lt=ke(lt,ee),kt),beforeAddClass:ee=>(st=ke(st,ee),kt),onFinish:Dt,progressStart:(ee=!1,xe)=>(Mn.forEach(Be=>{Be.progressStart(ee,xe)}),Wr(),Nt=ee,Pe||Bt(),Ft(!1,!0,xe),kt),progressStep:ee=>(Mn.forEach(xe=>{xe.progressStep(ee)}),Xt(ee),kt),progressEnd:(ee,xe,Be)=>(Nt=!1,Mn.forEach(rt=>{rt.progressEnd(ee,xe,Be)}),void 0!==Be&&(nt=Be),ze=!1,Ge=!0,0===ee?(qe="reverse"===Dr()?"normal":"reverse","reverse"===qe&&(Ge=!1),rn?(Ft(),Xt(1-xe)):(vt=(1-xe)*ar()*-1,Ft(!1,!1))):1===ee&&(rn?(Ft(),Xt(xe)):(vt=xe*ar()*-1,Ft(!1,!1))),void 0!==ee&&(Dt(()=>{nt=void 0,qe=void 0,vt=void 0},{oneTimeCallback:!0}),ae||yr()),kt)}}},43509:(Kt,Je,O)=>{"use strict";O.d(Je,{G:()=>Ee});class P{constructor(de,ye,le,Y,X){this.id=ye,this.name=le,this.disableScroll=X,this.priority=1e6*Y+ye,this.ctrl=de}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const de=this.ctrl.capture(this.name,this.id,this.priority);return de&&this.disableScroll&&this.ctrl.disableScroll(this.id),de}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class k{constructor(de,ye,le,Y){this.id=ye,this.disable=le,this.disableScroll=Y,this.ctrl=de}block(){if(this.ctrl){if(this.disable)for(const de of this.disable)this.ctrl.disableGesture(de,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const de of this.disable)this.ctrl.enableGesture(de,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ie="backdrop-no-scroll",Ee=new class u{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(de){return new P(this,this.newID(),de.name,de.priority||0,!!de.disableScroll)}createBlocker(de={}){return new k(this,this.newID(),de.disable,!!de.disableScroll)}start(de,ye,le){return this.canStart(de)?(this.requestedStart.set(ye,le),!0):(this.requestedStart.delete(ye),!1)}capture(de,ye,le){if(!this.start(de,ye,le))return!1;const Y=this.requestedStart;let X=-1e4;if(Y.forEach(me=>{X=Math.max(X,me)}),X===le){this.capturedId=ye,Y.clear();const me=new CustomEvent("ionGestureCaptured",{detail:{gestureName:de}});return document.dispatchEvent(me),!0}return Y.delete(ye),!1}release(de){this.requestedStart.delete(de),this.capturedId===de&&(this.capturedId=void 0)}disableGesture(de,ye){let le=this.disabledGestures.get(de);void 0===le&&(le=new Set,this.disabledGestures.set(de,le)),le.add(ye)}enableGesture(de,ye){const le=this.disabledGestures.get(de);void 0!==le&&le.delete(ye)}disableScroll(de){this.disabledScroll.add(de),1===this.disabledScroll.size&&document.body.classList.add(Ie)}enableScroll(de){this.disabledScroll.delete(de),0===this.disabledScroll.size&&document.body.classList.remove(Ie)}canStart(de){return!(void 0!==this.capturedId||this.isDisabled(de))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(de){const ye=this.disabledGestures.get(de);return!!(ye&&ye.size>0)}newID(){return this.gestureId++,this.gestureId}}},47593:(Kt,Je,O)=>{"use strict";O.r(Je),O.d(Je,{MENU_BACK_BUTTON_PRIORITY:()=>Ee,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ie,blockHardwareBackButton:()=>P,startHardwareBackButton:()=>k});var u=O(15861);const P=()=>{document.addEventListener("backbutton",()=>{})},k=()=>{const ie=document;let de=!1;ie.addEventListener("backbutton",()=>{if(de)return;let ye=0,le=[];const Y=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ce,ke){le.push({priority:ce,handler:ke,id:ye++})}}});ie.dispatchEvent(Y);const X=function(){var ce=(0,u.Z)(function*(ke){try{if(null==ke?void 0:ke.handler){const we=ke.handler(me);null!=we&&(yield we)}}catch(we){console.error(we)}});return function(we){return ce.apply(this,arguments)}}(),me=()=>{if(le.length>0){let ce={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};le.forEach(ke=>{ke.priority>=ce.priority&&(ce=ke)}),de=!0,le=le.filter(ke=>ke.id!==ce.id),X(ce).then(()=>de=!1)}};me()})},Ie=100,Ee=99},41643:(Kt,Je,O)=>{"use strict";O.d(Je,{a:()=>Ee,b:()=>ie,c:()=>k,d:()=>me,e:()=>ce,f:()=>X,g:()=>de,h:()=>ut,i:()=>Ie,j:()=>Y,k:()=>ke,l:()=>le,m:()=>we,n:()=>Te,o:()=>te,p:()=>Le,q:()=>pe,r:()=>ye,s:()=>Ke,t:()=>u});const u=(Oe,et=0)=>new Promise(st=>{P(Oe,et,st)}),P=(Oe,et=0,st)=>{let lt,Pe;const ae={passive:!0},he=()=>{lt&&lt()},Ae=Ce=>{(void 0===Ce||Oe===Ce.target)&&(he(),st(Ce))};return Oe&&(Oe.addEventListener("webkitTransitionEnd",Ae,ae),Oe.addEventListener("transitionend",Ae,ae),Pe=setTimeout(Ae,et+500),lt=()=>{Pe&&(clearTimeout(Pe),Pe=void 0),Oe.removeEventListener("webkitTransitionEnd",Ae,ae),Oe.removeEventListener("transitionend",Ae,ae)}),he},k=(Oe,et)=>{Oe.componentOnReady?Oe.componentOnReady().then(st=>et(st)):ye(()=>et(Oe))},Ie=(Oe,et=[])=>{const st={};return et.forEach(lt=>{Oe.hasAttribute(lt)&&(null!==Oe.getAttribute(lt)&&(st[lt]=Oe.getAttribute(lt)),Oe.removeAttribute(lt))}),st},Ee=(Oe,et,st,lt)=>{var Pe;if("undefined"!=typeof window){const ae=window,Se=null===(Pe=null==ae?void 0:ae.Ionic)||void 0===Pe?void 0:Pe.config;if(Se){const he=Se.get("_ael");if(he)return he(Oe,et,st,lt);if(Se._ael)return Se._ael(Oe,et,st,lt)}}return Oe.addEventListener(et,st,lt)},ie=(Oe,et,st,lt)=>{var Pe;if("undefined"!=typeof window){const ae=window,Se=null===(Pe=null==ae?void 0:ae.Ionic)||void 0===Pe?void 0:Pe.config;if(Se){const he=Se.get("_rel");if(he)return he(Oe,et,st,lt);if(Se._rel)return Se._rel(Oe,et,st,lt)}}return Oe.removeEventListener(et,st,lt)},de=(Oe,et=Oe)=>Oe.shadowRoot||et,ye=Oe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Oe):"function"==typeof requestAnimationFrame?requestAnimationFrame(Oe):setTimeout(Oe),le=Oe=>!!Oe.shadowRoot&&!!Oe.attachShadow,Y=Oe=>{const et=Oe.closest("ion-item");return et?et.querySelector("ion-label"):null},X=Oe=>{if(Oe.focus(),Oe.classList.contains("ion-focusable")){const et=Oe.closest("ion-app");et&&et.setFocus([Oe])}},me=(Oe,et)=>{let st;const lt=Oe.getAttribute("aria-labelledby"),Pe=Oe.id;let ae=null!==lt&&""!==lt.trim()?lt:et+"-lbl",Se=null!==lt&&""!==lt.trim()?document.getElementById(lt):Y(Oe);return Se?(null===lt&&(Se.id=ae),st=Se.textContent,Se.setAttribute("aria-hidden","true")):""!==Pe.trim()&&(Se=document.querySelector(`label[for="${Pe}"]`),Se&&(""!==Se.id?ae=Se.id:Se.id=ae=`${Pe}-lbl`,st=Se.textContent)),{label:Se,labelId:ae,labelText:st}},ce=(Oe,et,st,lt,Pe)=>{if(Oe||le(et)){let ae=et.querySelector("input.aux-input");ae||(ae=et.ownerDocument.createElement("input"),ae.type="hidden",ae.classList.add("aux-input"),et.appendChild(ae)),ae.disabled=Pe,ae.name=st,ae.value=lt||""}},ke=(Oe,et,st)=>Math.max(Oe,Math.min(et,st)),we=(Oe,et)=>{if(!Oe){const st="ASSERT: "+et;throw console.error(st),new Error(st)}},pe=Oe=>Oe.timeStamp||Date.now(),Le=Oe=>{if(Oe){const et=Oe.changedTouches;if(et&&et.length>0){const st=et[0];return{x:st.clientX,y:st.clientY}}if(void 0!==Oe.pageX)return{x:Oe.pageX,y:Oe.pageY}}return{x:0,y:0}},Te=Oe=>{const et="rtl"===document.dir;switch(Oe){case"start":return et;case"end":return!et;default:throw new Error(`"${Oe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ut=(Oe,et)=>{const st=Oe._original||Oe;return{_original:Oe,emit:te(st.emit.bind(st),et)}},te=(Oe,et=0)=>{let st;return(...lt)=>{clearTimeout(st),st=setTimeout(Oe,et,...lt)}},Ke=(Oe,et)=>{if(null!=Oe||(Oe={}),null!=et||(et={}),Oe===et)return!0;const st=Object.keys(Oe);if(st.length!==Object.keys(et).length)return!1;for(const lt of st)if(!(lt in et)||Oe[lt]!==et[lt])return!1;return!0}},47420:(Kt,Je,O)=>{"use strict";O.d(Je,{m:()=>X});var u=O(15861),P=O(47593),k=O(41643),Ie=O(46254),Ee=O(50913);const ie=me=>(0,Ee.c)().duration(me?400:300),de=me=>{let ce,ke;const we=me.width+8,pe=(0,Ee.c)(),Le=(0,Ee.c)();me.isEndSide?(ce=we+"px",ke="0px"):(ce=-we+"px",ke="0px"),pe.addElement(me.menuInnerEl).fromTo("transform",`translateX(${ce})`,`translateX(${ke})`);const ut="ios"===(0,Ie.b)(me),te=ut?.2:.25;return Le.addElement(me.backdropEl).fromTo("opacity",.01,te),ie(ut).addAnimation([pe,Le])},ye=me=>{let ce,ke;const we=(0,Ie.b)(me),pe=me.width;me.isEndSide?(ce=-pe+"px",ke=pe+"px"):(ce=pe+"px",ke=-pe+"px");const Le=(0,Ee.c)().addElement(me.menuInnerEl).fromTo("transform",`translateX(${ke})`,"translateX(0px)"),Te=(0,Ee.c)().addElement(me.contentEl).fromTo("transform","translateX(0px)",`translateX(${ce})`),ut=(0,Ee.c)().addElement(me.backdropEl).fromTo("opacity",.01,.32);return ie("ios"===we).addAnimation([Le,Te,ut])},le=me=>{const ce=(0,Ie.b)(me),ke=me.width*(me.isEndSide?-1:1)+"px",we=(0,Ee.c)().addElement(me.contentEl).fromTo("transform","translateX(0px)",`translateX(${ke})`);return ie("ios"===ce).addAnimation(we)},X=(()=>{const me=new Map,ce=[],ke=function(){var qe=(0,u.Z)(function*(nt){const vt=yield Ke(nt);return!!vt&&vt.open()});return function(vt){return qe.apply(this,arguments)}}(),we=function(){var qe=(0,u.Z)(function*(nt){const vt=yield void 0!==nt?Ke(nt):Oe();return void 0!==vt&&vt.close()});return function(vt){return qe.apply(this,arguments)}}(),pe=function(){var qe=(0,u.Z)(function*(nt){const vt=yield Ke(nt);return!!vt&&vt.toggle()});return function(vt){return qe.apply(this,arguments)}}(),Le=function(){var qe=(0,u.Z)(function*(nt,vt){const Ge=yield Ke(vt);return Ge&&(Ge.disabled=!nt),Ge});return function(vt,Ge){return qe.apply(this,arguments)}}(),Te=function(){var qe=(0,u.Z)(function*(nt,vt){const Ge=yield Ke(vt);return Ge&&(Ge.swipeGesture=nt),Ge});return function(vt,Ge){return qe.apply(this,arguments)}}(),ut=function(){var qe=(0,u.Z)(function*(nt){if(null!=nt){const vt=yield Ke(nt);return void 0!==vt&&vt.isOpen()}return void 0!==(yield Oe())});return function(vt){return qe.apply(this,arguments)}}(),te=function(){var qe=(0,u.Z)(function*(nt){const vt=yield Ke(nt);return!!vt&&!vt.disabled});return function(vt){return qe.apply(this,arguments)}}(),Ke=function(){var qe=(0,u.Z)(function*(nt){return yield dt(),"start"===nt||"end"===nt?Wt(ze=>ze.side===nt&&!ze.disabled)||Wt(ze=>ze.side===nt):null!=nt?Wt(Ge=>Ge.menuId===nt):Wt(Ge=>!Ge.disabled)||(ce.length>0?ce[0].el:void 0)});return function(vt){return qe.apply(this,arguments)}}(),Oe=function(){var qe=(0,u.Z)(function*(){return yield dt(),Ce()});return function(){return qe.apply(this,arguments)}}(),et=function(){var qe=(0,u.Z)(function*(){return yield dt(),$e()});return function(){return qe.apply(this,arguments)}}(),st=function(){var qe=(0,u.Z)(function*(){return yield dt(),Nt()});return function(){return qe.apply(this,arguments)}}(),lt=(qe,nt)=>{me.set(qe,nt)},Se=qe=>{const nt=qe.side;ce.filter(vt=>vt.side===nt&&vt!==qe).forEach(vt=>vt.disabled=!0)},he=function(){var qe=(0,u.Z)(function*(nt,vt,Ge){if(Nt())return!1;if(vt){const ze=yield Oe();ze&&nt.el!==ze&&(yield ze.setOpen(!1,!1))}return nt._setOpen(vt,Ge)});return function(vt,Ge,ze){return qe.apply(this,arguments)}}(),Ce=()=>Wt(qe=>qe._isOpen),$e=()=>ce.map(qe=>qe.el),Nt=()=>ce.some(qe=>qe.isAnimating),Wt=qe=>{const nt=ce.find(qe);if(void 0!==nt)return nt.el},dt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(qe=>new Promise(nt=>(0,k.c)(qe,nt))));return lt("reveal",le),lt("push",ye),lt("overlay",de),"undefined"!=typeof document&&document.addEventListener("ionBackButton",qe=>{const nt=Ce();nt&&qe.detail.register(P.MENU_BACK_BUTTON_PRIORITY,()=>nt.close())}),{registerAnimation:lt,get:Ke,getMenus:et,getOpen:Oe,isEnabled:te,swipeGesture:Te,isAnimating:st,isOpen:ut,enable:Le,toggle:pe,close:we,open:ke,_getOpenSync:Ce,_createAnimation:(qe,nt)=>{const vt=me.get(qe);if(!vt)throw new Error("animation not registered");return vt(nt)},_register:qe=>{ce.indexOf(qe)<0&&(qe.disabled||Se(qe),ce.push(qe))},_unregister:qe=>{const nt=ce.indexOf(qe);nt>-1&&ce.splice(nt,1)},_setOpen:he,_setActiveMenu:Se}})()},33139:(Kt,Je,O)=>{"use strict";O.r(Je),O.d(Je,{GESTURE_CONTROLLER:()=>u.G,createGesture:()=>le});var u=O(43509);const P=(ce,ke,we,pe)=>{const Le=k(ce)?{capture:!!pe.capture,passive:!!pe.passive}:!!pe.capture;let Te,ut;return ce.__zone_symbol__addEventListener?(Te="__zone_symbol__addEventListener",ut="__zone_symbol__removeEventListener"):(Te="addEventListener",ut="removeEventListener"),ce[Te](ke,we,Le),()=>{ce[ut](ke,we,Le)}},k=ce=>{if(void 0===Ie)try{const ke=Object.defineProperty({},"passive",{get:()=>{Ie=!0}});ce.addEventListener("optsTest",()=>{},ke)}catch(ke){Ie=!1}return!!Ie};let Ie;const de=ce=>ce instanceof Document?ce:ce.ownerDocument,le=ce=>{let ke=!1,we=!1,pe=!0,Le=!1;const Te=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ce),ut=Te.canStart,te=Te.onWillStart,Ke=Te.onStart,Oe=Te.onEnd,et=Te.notCaptured,st=Te.onMove,lt=Te.threshold,Pe=Te.passive,ae=Te.blurOnStart,Se={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},he=((ce,ke,we)=>{const pe=we*(Math.PI/180),Le="x"===ce,Te=Math.cos(pe),ut=ke*ke;let te=0,Ke=0,Oe=!1,et=0;return{start(st,lt){te=st,Ke=lt,et=0,Oe=!0},detect(st,lt){if(!Oe)return!1;const Pe=st-te,ae=lt-Ke,Se=Pe*Pe+ae*ae;if(Se<ut)return!1;const he=Math.sqrt(Se),Ae=(Le?Pe:ae)/he;return et=Ae>Te?1:Ae<-Te?-1:0,Oe=!1,!0},isGesture:()=>0!==et,getDirection:()=>et}})(Te.direction,Te.threshold,Te.maxAngle),Ae=u.G.createGesture({name:ce.gestureName,priority:ce.gesturePriority,disableScroll:ce.disableScroll}),Nt=()=>{!ke||(Le=!1,st&&st(Se))},Wt=()=>!(Ae&&!Ae.capture()||(ke=!0,pe=!1,Se.startX=Se.currentX,Se.startY=Se.currentY,Se.startTime=Se.currentTime,te?te(Se).then(qe):qe(),0)),qe=()=>{ae&&(()=>{if("undefined"!=typeof document){const at=document.activeElement;(null==at?void 0:at.blur)&&at.blur()}})(),Ke&&Ke(Se),pe=!0},nt=()=>{ke=!1,we=!1,Le=!1,pe=!0,Ae.release()},vt=at=>{const jt=ke,kt=pe;if(nt(),kt){if(Y(Se,at),jt)return void(Oe&&Oe(Se));et&&et(Se)}},Ge=((ce,ke,we,pe,Le)=>{let Te,ut,te,Ke,Oe,et,st,lt=0;const Pe=dt=>{lt=Date.now()+2e3,ke(dt)&&(!ut&&we&&(ut=P(ce,"touchmove",we,Le)),te||(te=P(dt.target,"touchend",Se,Le)),Ke||(Ke=P(dt.target,"touchcancel",Se,Le)))},ae=dt=>{lt>Date.now()||!ke(dt)||(!et&&we&&(et=P(de(ce),"mousemove",we,Le)),st||(st=P(de(ce),"mouseup",he,Le)))},Se=dt=>{Ae(),pe&&pe(dt)},he=dt=>{Ce(),pe&&pe(dt)},Ae=()=>{ut&&ut(),te&&te(),Ke&&Ke(),ut=te=Ke=void 0},Ce=()=>{et&&et(),st&&st(),et=st=void 0},$e=()=>{Ae(),Ce()},Nt=(dt=!0)=>{dt?(Te||(Te=P(ce,"touchstart",Pe,Le)),Oe||(Oe=P(ce,"mousedown",ae,Le))):(Te&&Te(),Oe&&Oe(),Te=Oe=void 0,$e())};return{enable:Nt,stop:$e,destroy:()=>{Nt(!1),pe=we=ke=void 0}}})(Te.el,at=>{const jt=me(at);return!(we||!pe||(X(at,Se),Se.startX=Se.currentX,Se.startY=Se.currentY,Se.startTime=Se.currentTime=jt,Se.velocityX=Se.velocityY=Se.deltaX=Se.deltaY=0,Se.event=at,ut&&!1===ut(Se))||(Ae.release(),!Ae.start()))&&(we=!0,0===lt?Wt():(he.start(Se.startX,Se.startY),!0))},at=>{ke?!Le&&pe&&(Le=!0,Y(Se,at),requestAnimationFrame(Nt)):(Y(Se,at),he.detect(Se.currentX,Se.currentY)&&(!he.isGesture()||!Wt())&&ze())},vt,{capture:!1,passive:Pe}),ze=()=>{nt(),Ge.stop(),et&&et(Se)};return{enable(at=!0){at||(ke&&vt(void 0),nt()),Ge.enable(at)},destroy(){Ae.destroy(),Ge.destroy()}}},Y=(ce,ke)=>{if(!ke)return;const we=ce.currentX,pe=ce.currentY,Le=ce.currentTime;X(ke,ce);const Te=ce.currentX,ut=ce.currentY,Ke=(ce.currentTime=me(ke))-Le;if(Ke>0&&Ke<100){const et=(ut-pe)/Ke;ce.velocityX=(Te-we)/Ke*.7+.3*ce.velocityX,ce.velocityY=.7*et+.3*ce.velocityY}ce.deltaX=Te-ce.startX,ce.deltaY=ut-ce.startY,ce.event=ke},X=(ce,ke)=>{let we=0,pe=0;if(ce){const Le=ce.changedTouches;if(Le&&Le.length>0){const Te=Le[0];we=Te.clientX,pe=Te.clientY}else void 0!==ce.pageX&&(we=ce.pageX,pe=ce.pageY)}ke.currentX=we,ke.currentY=pe},me=ce=>ce.timeStamp||Date.now()},2901:(Kt,Je,O)=>{"use strict";O.d(Je,{L:()=>Ie,a:()=>Ee,b:()=>ie,c:()=>de,d:()=>ye,e:()=>lt,g:()=>Se,l:()=>et,s:()=>Pe,t:()=>X});var u=O(15861),P=O(32361),k=O(41643);const Ie="ionViewWillEnter",Ee="ionViewDidEnter",ie="ionViewWillLeave",de="ionViewDidLeave",ye="ionViewWillUnload",X=he=>new Promise((Ae,Ce)=>{(0,P.c)(()=>{me(he),ce(he).then($e=>{$e.animation&&$e.animation.destroy(),ke(he),Ae($e)},$e=>{ke(he),Ce($e)})})}),me=he=>{const Ae=he.enteringEl,Ce=he.leavingEl;ae(Ae,Ce,he.direction),he.showGoBack?Ae.classList.add("can-go-back"):Ae.classList.remove("can-go-back"),Pe(Ae,!1),Ae.style.setProperty("pointer-events","none"),Ce&&(Pe(Ce,!1),Ce.style.setProperty("pointer-events","none"))},ce=function(){var he=(0,u.Z)(function*(Ae){const Ce=yield we(Ae);return Ce&&P.B.isBrowser?pe(Ce,Ae):Le(Ae)});return function(Ce){return he.apply(this,arguments)}}(),ke=he=>{const Ae=he.enteringEl,Ce=he.leavingEl;Ae.classList.remove("ion-page-invisible"),Ae.style.removeProperty("pointer-events"),void 0!==Ce&&(Ce.classList.remove("ion-page-invisible"),Ce.style.removeProperty("pointer-events"))},we=function(){var he=(0,u.Z)(function*(Ae){return Ae.leavingEl&&Ae.animated&&0!==Ae.duration?Ae.animationBuilder?Ae.animationBuilder:"ios"===Ae.mode?(yield Promise.resolve().then(O.bind(O,22243))).iosTransitionAnimation:(yield Promise.resolve().then(O.bind(O,93478))).mdTransitionAnimation:void 0});return function(Ce){return he.apply(this,arguments)}}(),pe=function(){var he=(0,u.Z)(function*(Ae,Ce){yield Te(Ce,!0);const $e=Ae(Ce.baseEl,Ce);Ke(Ce.enteringEl,Ce.leavingEl);const Nt=yield te($e,Ce);return Ce.progressCallback&&Ce.progressCallback(void 0),Nt&&Oe(Ce.enteringEl,Ce.leavingEl),{hasCompleted:Nt,animation:$e}});return function(Ce,$e){return he.apply(this,arguments)}}(),Le=function(){var he=(0,u.Z)(function*(Ae){const Ce=Ae.enteringEl,$e=Ae.leavingEl;return yield Te(Ae,!1),Ke(Ce,$e),Oe(Ce,$e),{hasCompleted:!0}});return function(Ce){return he.apply(this,arguments)}}(),Te=function(){var he=(0,u.Z)(function*(Ae,Ce){const Nt=(void 0!==Ae.deepWait?Ae.deepWait:Ce)?[lt(Ae.enteringEl),lt(Ae.leavingEl)]:[st(Ae.enteringEl),st(Ae.leavingEl)];yield Promise.all(Nt),yield ut(Ae.viewIsReady,Ae.enteringEl)});return function(Ce,$e){return he.apply(this,arguments)}}(),ut=function(){var he=(0,u.Z)(function*(Ae,Ce){Ae&&(yield Ae(Ce))});return function(Ce,$e){return he.apply(this,arguments)}}(),te=(he,Ae)=>{const Ce=Ae.progressCallback,$e=new Promise(Nt=>{he.onFinish(Wt=>Nt(1===Wt))});return Ce?(he.progressStart(!0),Ce(he)):he.play(),$e},Ke=(he,Ae)=>{et(Ae,ie),et(he,Ie)},Oe=(he,Ae)=>{et(he,Ee),et(Ae,de)},et=(he,Ae)=>{if(he){const Ce=new CustomEvent(Ae,{bubbles:!1,cancelable:!1});he.dispatchEvent(Ce)}},st=he=>he?new Promise(Ae=>(0,k.c)(he,Ae)):Promise.resolve(),lt=function(){var he=(0,u.Z)(function*(Ae){const Ce=Ae;if(Ce){if(null!=Ce.componentOnReady){if(null!=(yield Ce.componentOnReady()))return}else if(null!=Ce.__registerHost)return void(yield new Promise(Nt=>(0,k.r)(Nt)));yield Promise.all(Array.from(Ce.children).map(lt))}});return function(Ce){return he.apply(this,arguments)}}(),Pe=(he,Ae)=>{Ae?(he.setAttribute("aria-hidden","true"),he.classList.add("ion-page-hidden")):(he.hidden=!1,he.removeAttribute("aria-hidden"),he.classList.remove("ion-page-hidden"))},ae=(he,Ae,Ce)=>{void 0!==he&&(he.style.zIndex="back"===Ce?"99":"101"),void 0!==Ae&&(Ae.style.zIndex="100")},Se=he=>he.classList.contains("ion-page")?he:he.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||he},32361:(Kt,Je,O)=>{"use strict";O.d(Je,{B:()=>Ei,H:()=>or,a:()=>ze,b:()=>It,c:()=>si,e:()=>Bn,f:()=>yr,g:()=>at,h:()=>hn,i:()=>wr,j:()=>Mr,k:()=>ct,p:()=>pe,r:()=>Yn,s:()=>ke});var u=O(15861);let k,Ie,Ee,ie=!1,de=!1,ye=!1,le=!1,Y=!1;const X="undefined"!=typeof window?window:{},me=X.document||{head:{}},ce={$flags$:0,$resourcesUrl$:"",jmp:q=>q(),raf:q=>requestAnimationFrame(q),ael:(q,ge,ee,xe)=>q.addEventListener(ge,ee,xe),rel:(q,ge,ee,xe)=>q.removeEventListener(ge,ee,xe),ce:(q,ge)=>new CustomEvent(q,ge)},ke=q=>{Object.assign(ce,q)},pe=q=>Promise.resolve(q),Le=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(q){}return!1})(),Te=(q,ge,ee,xe)=>{ee&&ee.map(([Be,rt,bt])=>{const Rt=te(q,Be),At=ut(ge,bt),Ht=Ke(Be);ce.ael(Rt,rt,At,Ht),(ge.$rmListeners$=ge.$rmListeners$||[]).push(()=>ce.rel(Rt,rt,At,Ht))})},ut=(q,ge)=>ee=>{try{256&q.$flags$?q.$lazyInstance$[ge](ee):(q.$queuedListeners$=q.$queuedListeners$||[]).push([ge,ee])}catch(xe){ln(xe)}},te=(q,ge)=>4&ge?me:8&ge?X:16&ge?me.body:q,Ke=q=>0!=(2&q),Pe="s-id",ae="sty-id",Ae="http://www.w3.org/1999/xlink",Nt=new WeakMap,Wt=(q,ge,ee)=>{let xe=Wr.get(q);Le&&ee?(xe=xe||new CSSStyleSheet,xe.replace(ge)):xe=ge,Wr.set(q,xe)},dt=(q,ge,ee,xe)=>{let Be=nt(ge,ee),rt=Wr.get(Be);if(q=11===q.nodeType?q:me,rt)if("string"==typeof rt){let Rt,bt=Nt.get(q=q.head||q);bt||Nt.set(q,bt=new Set),bt.has(Be)||(q.host&&(Rt=q.querySelector(`[${ae}="${Be}"]`))?Rt.innerHTML=rt:(Rt=me.createElement("style"),Rt.innerHTML=rt,q.insertBefore(Rt,q.querySelector("link"))),bt&&bt.add(Be))}else q.adoptedStyleSheets.includes(rt)||(q.adoptedStyleSheets=[...q.adoptedStyleSheets,rt]);return Be},nt=(q,ge)=>"sc-"+(ge&&32&q.$flags$?q.$tagName$+"-"+ge:q.$tagName$),vt=q=>q.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),ze=q=>Or.push(q),at=q=>Xt(q).$modeName$,jt={},Rn=q=>"object"==(q=typeof q)||"function"===q,hn=(q,ge,...ee)=>{let xe=null,Be=null,rt=null,bt=!1,Rt=!1,At=[];const Ht=Nn=>{for(let xn=0;xn<Nn.length;xn++)xe=Nn[xn],Array.isArray(xe)?Ht(xe):null!=xe&&"boolean"!=typeof xe&&((bt="function"!=typeof q&&!Rn(xe))&&(xe=String(xe)),bt&&Rt?At[At.length-1].$text$+=xe:At.push(bt?Mn(null,xe):xe),Rt=bt)};if(Ht(ee),ge){ge.key&&(Be=ge.key),ge.name&&(rt=ge.name);{const Nn=ge.className||ge.class;Nn&&(ge.class="object"!=typeof Nn?Nn:Object.keys(Nn).filter(xn=>Nn[xn]).join(" "))}}if("function"==typeof q)return q(null===ge?{}:ge,At,Fr);const nn=Mn(q,null);return nn.$attrs$=ge,At.length>0&&(nn.$children$=At),nn.$key$=Be,nn.$name$=rt,nn},Mn=(q,ge)=>({$flags$:0,$tag$:q,$text$:ge,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),or={},Fr={forEach:(q,ge)=>q.map(Mt).forEach(ge),map:(q,ge)=>q.map(Mt).map(ge).map(Qn)},Mt=q=>({vattrs:q.$attrs$,vchildren:q.$children$,vkey:q.$key$,vname:q.$name$,vtag:q.$tag$,vtext:q.$text$}),Qn=q=>{if("function"==typeof q.vtag){const ee=Object.assign({},q.vattrs);return q.vkey&&(ee.key=q.vkey),q.vname&&(ee.name=q.vname),hn(q.vtag,ee,...q.vchildren||[])}const ge=Mn(q.vtag,q.vtext);return ge.$attrs$=q.vattrs,ge.$children$=q.vchildren,ge.$key$=q.vkey,ge.$name$=q.vname,ge},Er=(q,ge,ee,xe,Be,rt)=>{if(ee!==xe){let bt=Ft(q,ge),Rt=ge.toLowerCase();if("class"===ge){const At=q.classList,Ht=rn(ee),nn=rn(xe);At.remove(...Ht.filter(Nn=>Nn&&!nn.includes(Nn))),At.add(...nn.filter(Nn=>Nn&&!Ht.includes(Nn)))}else if("style"===ge){for(const At in ee)(!xe||null==xe[At])&&(At.includes("-")?q.style.removeProperty(At):q.style[At]="");for(const At in xe)(!ee||xe[At]!==ee[At])&&(At.includes("-")?q.style.setProperty(At,xe[At]):q.style[At]=xe[At])}else if("key"!==ge)if("ref"===ge)xe&&xe(q);else if(bt||"o"!==ge[0]||"n"!==ge[1]){const At=Rn(xe);if((bt||At&&null!==xe)&&!Be)try{if(q.tagName.includes("-"))q[ge]=xe;else{let nn=null==xe?"":xe;"list"===ge?bt=!1:(null==ee||q[ge]!=nn)&&(q[ge]=nn)}}catch(nn){}let Ht=!1;Rt!==(Rt=Rt.replace(/^xlink\:?/,""))&&(ge=Rt,Ht=!0),null==xe||!1===xe?(!1!==xe||""===q.getAttribute(ge))&&(Ht?q.removeAttributeNS(Ae,ge):q.removeAttribute(ge)):(!bt||4&rt||Be)&&!At&&(xe=!0===xe?"":xe,Ht?q.setAttributeNS(Ae,ge,xe):q.setAttribute(ge,xe))}else ge="-"===ge[2]?ge.slice(3):Ft(X,Rt)?Rt.slice(2):Rt[2]+ge.slice(3),ee&&ce.rel(q,ge,ee,!1),xe&&ce.ael(q,ge,xe,!1)}},br=/\s/,rn=q=>q?q.split(br):[],ti=(q,ge,ee,xe)=>{const Be=11===ge.$elm$.nodeType&&ge.$elm$.host?ge.$elm$.host:ge.$elm$,rt=q&&q.$attrs$||jt,bt=ge.$attrs$||jt;for(xe in rt)xe in bt||Er(Be,xe,rt[xe],void 0,ee,ge.$flags$);for(xe in bt)Er(Be,xe,rt[xe],bt[xe],ee,ge.$flags$)},On=(q,ge,ee,xe)=>{let bt,Rt,At,Be=ge.$children$[ee],rt=0;if(ie||(ye=!0,"slot"===Be.$tag$&&(k&&xe.classList.add(k+"-s"),Be.$flags$|=Be.$children$?2:1)),null!==Be.$text$)bt=Be.$elm$=me.createTextNode(Be.$text$);else if(1&Be.$flags$)bt=Be.$elm$=me.createTextNode("");else{if(le||(le="svg"===Be.$tag$),bt=Be.$elm$=me.createElementNS(le?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Be.$flags$?"slot-fb":Be.$tag$),le&&"foreignObject"===Be.$tag$&&(le=!1),ti(null,Be,le),(q=>null!=q)(k)&&bt["s-si"]!==k&&bt.classList.add(bt["s-si"]=k),Be.$children$)for(rt=0;rt<Be.$children$.length;++rt)Rt=On(q,Be,rt,bt),Rt&&bt.appendChild(Rt);"svg"===Be.$tag$?le=!1:"foreignObject"===bt.tagName&&(le=!0)}return bt["s-hn"]=Ee,3&Be.$flags$&&(bt["s-sr"]=!0,bt["s-cr"]=Ie,bt["s-sn"]=Be.$name$||"",At=q&&q.$children$&&q.$children$[ee],At&&At.$tag$===Be.$tag$&&q.$elm$&&St(q.$elm$,!1)),bt},St=(q,ge)=>{ce.$flags$|=1;const ee=q.childNodes;for(let xe=ee.length-1;xe>=0;xe--){const Be=ee[xe];Be["s-hn"]!==Ee&&Be["s-ol"]&&(en(Be).insertBefore(Be,zt(Be)),Be["s-ol"].remove(),Be["s-ol"]=void 0,ye=!0),ge&&St(Be,ge)}ce.$flags$&=-2},Ue=(q,ge,ee,xe,Be,rt)=>{let Rt,bt=q["s-cr"]&&q["s-cr"].parentNode||q;for(bt.shadowRoot&&bt.tagName===Ee&&(bt=bt.shadowRoot);Be<=rt;++Be)xe[Be]&&(Rt=On(null,ee,Be,q),Rt&&(xe[Be].$elm$=Rt,bt.insertBefore(Rt,zt(ge))))},je=(q,ge,ee,xe,Be)=>{for(;ge<=ee;++ge)(xe=q[ge])&&(Be=xe.$elm$,cn(xe),de=!0,Be["s-ol"]?Be["s-ol"].remove():St(Be,!0),Be.remove())},wt=(q,ge)=>q.$tag$===ge.$tag$&&("slot"===q.$tag$?q.$name$===ge.$name$:q.$key$===ge.$key$),zt=q=>q&&q["s-ol"]||q,en=q=>(q["s-ol"]?q["s-ol"]:q).parentNode,wn=(q,ge)=>{const ee=ge.$elm$=q.$elm$,xe=q.$children$,Be=ge.$children$,rt=ge.$tag$,bt=ge.$text$;let Rt;null===bt?(le="svg"===rt||"foreignObject"!==rt&&le,"slot"===rt||ti(q,ge,le),null!==xe&&null!==Be?((q,ge,ee,xe)=>{let Lr,ci,Be=0,rt=0,bt=0,Rt=0,At=ge.length-1,Ht=ge[0],nn=ge[At],Nn=xe.length-1,xn=xe[0],rr=xe[Nn];for(;Be<=At&&rt<=Nn;)if(null==Ht)Ht=ge[++Be];else if(null==nn)nn=ge[--At];else if(null==xn)xn=xe[++rt];else if(null==rr)rr=xe[--Nn];else if(wt(Ht,xn))wn(Ht,xn),Ht=ge[++Be],xn=xe[++rt];else if(wt(nn,rr))wn(nn,rr),nn=ge[--At],rr=xe[--Nn];else if(wt(Ht,rr))("slot"===Ht.$tag$||"slot"===rr.$tag$)&&St(Ht.$elm$.parentNode,!1),wn(Ht,rr),q.insertBefore(Ht.$elm$,nn.$elm$.nextSibling),Ht=ge[++Be],rr=xe[--Nn];else if(wt(nn,xn))("slot"===Ht.$tag$||"slot"===rr.$tag$)&&St(nn.$elm$.parentNode,!1),wn(nn,xn),q.insertBefore(nn.$elm$,Ht.$elm$),nn=ge[--At],xn=xe[++rt];else{for(bt=-1,Rt=Be;Rt<=At;++Rt)if(ge[Rt]&&null!==ge[Rt].$key$&&ge[Rt].$key$===xn.$key$){bt=Rt;break}bt>=0?(ci=ge[bt],ci.$tag$!==xn.$tag$?Lr=On(ge&&ge[rt],ee,bt,q):(wn(ci,xn),ge[bt]=void 0,Lr=ci.$elm$),xn=xe[++rt]):(Lr=On(ge&&ge[rt],ee,rt,q),xn=xe[++rt]),Lr&&en(Ht.$elm$).insertBefore(Lr,zt(Ht.$elm$))}Be>At?Ue(q,null==xe[Nn+1]?null:xe[Nn+1].$elm$,ee,xe,rt,Nn):rt>Nn&&je(ge,Be,At)})(ee,xe,ge,Be):null!==Be?(null!==q.$text$&&(ee.textContent=""),Ue(ee,null,ge,Be,0,Be.length-1)):null!==xe&&je(xe,0,xe.length-1),le&&"svg"===rt&&(le=!1)):(Rt=ee["s-cr"])?Rt.parentNode.textContent=bt:q.$text$!==bt&&(ee.data=bt)},qn=q=>{let ee,xe,Be,rt,bt,Rt,ge=q.childNodes;for(xe=0,Be=ge.length;xe<Be;xe++)if(ee=ge[xe],1===ee.nodeType){if(ee["s-sr"])for(bt=ee["s-sn"],ee.hidden=!1,rt=0;rt<Be;rt++)if(Rt=ge[rt].nodeType,ge[rt]["s-hn"]!==ee["s-hn"]||""!==bt){if(1===Rt&&bt===ge[rt].getAttribute("slot")){ee.hidden=!0;break}}else if(1===Rt||3===Rt&&""!==ge[rt].textContent.trim()){ee.hidden=!0;break}qn(ee)}},Hn=[],Vr=q=>{let ge,ee,xe,Be,rt,bt,Rt=0,At=q.childNodes,Ht=At.length;for(;Rt<Ht;Rt++){if(ge=At[Rt],ge["s-sr"]&&(ee=ge["s-cr"])&&ee.parentNode)for(xe=ee.parentNode.childNodes,Be=ge["s-sn"],bt=xe.length-1;bt>=0;bt--)ee=xe[bt],!ee["s-cn"]&&!ee["s-nr"]&&ee["s-hn"]!==ge["s-hn"]&&(hr(ee,Be)?(rt=Hn.find(nn=>nn.$nodeToRelocate$===ee),de=!0,ee["s-sn"]=ee["s-sn"]||Be,rt?rt.$slotRefNode$=ge:Hn.push({$slotRefNode$:ge,$nodeToRelocate$:ee}),ee["s-sr"]&&Hn.map(nn=>{hr(nn.$nodeToRelocate$,ee["s-sn"])&&(rt=Hn.find(Nn=>Nn.$nodeToRelocate$===ee),rt&&!nn.$slotRefNode$&&(nn.$slotRefNode$=rt.$slotRefNode$))})):Hn.some(nn=>nn.$nodeToRelocate$===ee)||Hn.push({$nodeToRelocate$:ee}));1===ge.nodeType&&Vr(ge)}},hr=(q,ge)=>1===q.nodeType?null===q.getAttribute("slot")&&""===ge||q.getAttribute("slot")===ge:q["s-sn"]===ge||""===ge,cn=q=>{q.$attrs$&&q.$attrs$.ref&&q.$attrs$.ref(null),q.$children$&&q.$children$.map(cn)},wr=q=>Xt(q).$hostElement$,Bn=(q,ge,ee)=>{const xe=wr(q);return{emit:Be=>Pn(xe,ge,{bubbles:!!(4&ee),composed:!!(2&ee),cancelable:!!(1&ee),detail:Be})}},Pn=(q,ge,ee)=>{const xe=ce.ce(ge,ee);return q.dispatchEvent(xe),xe},Kn=(q,ge)=>{ge&&!q.$onRenderResolve$&&ge["s-p"]&&ge["s-p"].push(new Promise(ee=>q.$onRenderResolve$=ee))},fr=(q,ge)=>{if(q.$flags$|=16,!(4&q.$flags$))return Kn(q,q.$ancestorComponent$),si(()=>pr(q,ge));q.$flags$|=512},pr=(q,ge)=>{const xe=q.$lazyInstance$;let Be;return ge&&(q.$flags$|=256,q.$queuedListeners$&&(q.$queuedListeners$.map(([rt,bt])=>_e(xe,rt,bt)),q.$queuedListeners$=null),Be=_e(xe,"componentWillLoad")),Be=se(Be,()=>_e(xe,"componentWillRender")),se(Be,()=>Dr(q,xe,ge))},Dr=function(){var q=(0,u.Z)(function*(ge,ee,xe){const Be=ge.$hostElement$,bt=Be["s-rc"];xe&&(q=>{const ge=q.$cmpMeta$,ee=q.$hostElement$,xe=ge.$flags$,rt=dt(ee.shadowRoot?ee.shadowRoot:ee.getRootNode(),ge,q.$modeName$);10&xe&&(ee["s-sc"]=rt,ee.classList.add(rt+"-h"),2&xe&&ee.classList.add(rt+"-s"))})(ge);xr(ge,ee),bt&&(bt.map(At=>At()),Be["s-rc"]=void 0);{const At=Be["s-p"],Ht=()=>ar(ge);0===At.length?Ht():(Promise.all(At).then(Ht),ge.$flags$|=4,At.length=0)}});return function(ee,xe,Be){return q.apply(this,arguments)}}(),xr=(q,ge,ee)=>{try{ge=ge.render&&ge.render(),q.$flags$&=-17,q.$flags$|=2,((q,ge)=>{const ee=q.$hostElement$,xe=q.$cmpMeta$,Be=q.$vnode$||Mn(null,null),rt=(q=>q&&q.$tag$===or)(ge)?ge:hn(null,null,ge);if(Ee=ee.tagName,xe.$attrsToReflect$&&(rt.$attrs$=rt.$attrs$||{},xe.$attrsToReflect$.map(([bt,Rt])=>rt.$attrs$[Rt]=ee[bt])),rt.$tag$=null,rt.$flags$|=4,q.$vnode$=rt,rt.$elm$=Be.$elm$=ee.shadowRoot||ee,k=ee["s-sc"],Ie=ee["s-cr"],ie=0!=(1&xe.$flags$),de=!1,wn(Be,rt),ce.$flags$|=1,ye){Vr(rt.$elm$);let bt,Rt,At,Ht,nn,Nn,xn=0;for(;xn<Hn.length;xn++)bt=Hn[xn],Rt=bt.$nodeToRelocate$,Rt["s-ol"]||(At=me.createTextNode(""),At["s-nr"]=Rt,Rt.parentNode.insertBefore(Rt["s-ol"]=At,Rt));for(xn=0;xn<Hn.length;xn++)if(bt=Hn[xn],Rt=bt.$nodeToRelocate$,bt.$slotRefNode$){for(Ht=bt.$slotRefNode$.parentNode,nn=bt.$slotRefNode$.nextSibling,At=Rt["s-ol"];At=At.previousSibling;)if(Nn=At["s-nr"],Nn&&Nn["s-sn"]===Rt["s-sn"]&&Ht===Nn.parentNode&&(Nn=Nn.nextSibling,!Nn||!Nn["s-nr"])){nn=Nn;break}(!nn&&Ht!==Rt.parentNode||Rt.nextSibling!==nn)&&Rt!==nn&&(!Rt["s-hn"]&&Rt["s-ol"]&&(Rt["s-hn"]=Rt["s-ol"].parentNode.nodeName),Ht.insertBefore(Rt,nn))}else 1===Rt.nodeType&&(Rt.hidden=!0)}de&&qn(rt.$elm$),ce.$flags$&=-2,Hn.length=0})(q,ge)}catch(xe){ln(xe,q.$hostElement$)}return null},ar=q=>{const ee=q.$hostElement$,Be=q.$lazyInstance$,rt=q.$ancestorComponent$;_e(Be,"componentDidRender"),64&q.$flags$?_e(Be,"componentDidUpdate"):(q.$flags$|=64,fe(ee),_e(Be,"componentDidLoad"),q.$onReadyResolve$(ee),rt||Fe()),q.$onInstanceResolve$(ee),q.$onRenderResolve$&&(q.$onRenderResolve$(),q.$onRenderResolve$=void 0),512&q.$flags$&&gi(()=>fr(q,!1)),q.$flags$&=-517},Mr=q=>{{const ge=Xt(q),ee=ge.$hostElement$.isConnected;return ee&&2==(18&ge.$flags$)&&fr(ge,!1),ee}},Fe=q=>{fe(me.documentElement),gi(()=>Pn(X,"appload",{detail:{namespace:"ionic"}}))},_e=(q,ge,ee)=>{if(q&&q[ge])try{return q[ge](ee)}catch(xe){ln(xe)}},se=(q,ge)=>q&&q.then?q.then(ge):ge(),fe=q=>q.classList.add("hydrated"),tt=(q,ge,ee,xe,Be,rt,bt)=>{let Rt,At,Ht,nn;if(1===rt.nodeType){for(Rt=rt.getAttribute("c-id"),Rt&&(At=Rt.split("."),(At[0]===bt||"0"===At[0])&&(Ht={$flags$:0,$hostId$:At[0],$nodeId$:At[1],$depth$:At[2],$index$:At[3],$tag$:rt.tagName.toLowerCase(),$elm$:rt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ge.push(Ht),rt.removeAttribute("c-id"),q.$children$||(q.$children$=[]),q.$children$[Ht.$index$]=Ht,q=Ht,xe&&"0"===Ht.$depth$&&(xe[Ht.$index$]=Ht.$elm$))),nn=rt.childNodes.length-1;nn>=0;nn--)tt(q,ge,ee,xe,Be,rt.childNodes[nn],bt);if(rt.shadowRoot)for(nn=rt.shadowRoot.childNodes.length-1;nn>=0;nn--)tt(q,ge,ee,xe,Be,rt.shadowRoot.childNodes[nn],bt)}else if(8===rt.nodeType)At=rt.nodeValue.split("."),(At[1]===bt||"0"===At[1])&&(Rt=At[0],Ht={$flags$:0,$hostId$:At[1],$nodeId$:At[2],$depth$:At[3],$index$:At[4],$elm$:rt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Rt?(Ht.$elm$=rt.nextSibling,Ht.$elm$&&3===Ht.$elm$.nodeType&&(Ht.$text$=Ht.$elm$.textContent,ge.push(Ht),rt.remove(),q.$children$||(q.$children$=[]),q.$children$[Ht.$index$]=Ht,xe&&"0"===Ht.$depth$&&(xe[Ht.$index$]=Ht.$elm$))):Ht.$hostId$===bt&&("s"===Rt?(Ht.$tag$="slot",rt["s-sn"]=At[5]?Ht.$name$=At[5]:"",rt["s-sr"]=!0,xe&&(Ht.$elm$=me.createElement(Ht.$tag$),Ht.$name$&&Ht.$elm$.setAttribute("name",Ht.$name$),rt.parentNode.insertBefore(Ht.$elm$,rt),rt.remove(),"0"===Ht.$depth$&&(xe[Ht.$index$]=Ht.$elm$)),ee.push(Ht),q.$children$||(q.$children$=[]),q.$children$[Ht.$index$]=Ht):"r"===Rt&&(xe?rt.remove():(Be["s-cr"]=rt,rt["s-cn"]=!0))));else if(q&&"style"===q.$tag$){const Nn=Mn(null,rt.textContent);Nn.$elm$=rt,Nn.$index$="0",q.$children$=[Nn]}},Ct=(q,ge)=>{if(1===q.nodeType){let ee=0;for(;ee<q.childNodes.length;ee++)Ct(q.childNodes[ee],ge);if(q.shadowRoot)for(ee=0;ee<q.shadowRoot.childNodes.length;ee++)Ct(q.shadowRoot.childNodes[ee],ge)}else if(8===q.nodeType){const ee=q.nodeValue.split(".");"o"===ee[0]&&(ge.set(ee[1]+"."+ee[2],q),q.nodeValue="",q["s-en"]=ee[3])}},dn=(q,ge,ee)=>{if(ge.$members$){q.watchers&&(ge.$watchers$=q.watchers);const xe=Object.entries(ge.$members$),Be=q.prototype;if(xe.map(([rt,[bt]])=>{31&bt||2&ee&&32&bt?Object.defineProperty(Be,rt,{get(){return((q,ge)=>Xt(this).$instanceValues$.get(ge))(0,rt)},set(Rt){((q,ge,ee,xe)=>{const Be=Xt(q),rt=Be.$hostElement$,bt=Be.$instanceValues$.get(ge),Rt=Be.$flags$,At=Be.$lazyInstance$;ee=((q,ge)=>null==q||Rn(q)?q:4&ge?"false"!==q&&(""===q||!!q):2&ge?parseFloat(q):1&ge?String(q):q)(ee,xe.$members$[ge][0]);const Ht=Number.isNaN(bt)&&Number.isNaN(ee);if((!(8&Rt)||void 0===bt)&&ee!==bt&&!Ht&&(Be.$instanceValues$.set(ge,ee),At)){if(xe.$watchers$&&128&Rt){const Nn=xe.$watchers$[ge];Nn&&Nn.map(xn=>{try{At[xn](ee,bt,ge)}catch(rr){ln(rr,rt)}})}2==(18&Rt)&&fr(Be,!1)}})(this,rt,Rt,ge)},configurable:!0,enumerable:!0}):1&ee&&64&bt&&Object.defineProperty(Be,rt,{value(...Rt){const At=Xt(this);return At.$onInstancePromise$.then(()=>At.$lazyInstance$[rt](...Rt))}})}),1&ee){const rt=new Map;Be.attributeChangedCallback=function(bt,Rt,At){ce.jmp(()=>{const Ht=rt.get(bt);if(this.hasOwnProperty(Ht))At=this[Ht],delete this[Ht];else if(Be.hasOwnProperty(Ht)&&"number"==typeof this[Ht]&&this[Ht]==At)return;this[Ht]=(null!==At||"boolean"!=typeof this[Ht])&&At})},q.observedAttributes=xe.filter(([bt,Rt])=>15&Rt[0]).map(([bt,Rt])=>{const At=Rt[1]||bt;return rt.set(At,bt),512&Rt[0]&&ge.$attrsToReflect$.push([bt,At]),At})}}return q},on=function(){var q=(0,u.Z)(function*(ge,ee,xe,Be,rt){if(0==(32&ee.$flags$)){{if(ee.$flags$|=32,(rt=gr(xe)).then){const Ht=()=>{};rt=yield rt,Ht()}rt.isProxied||(xe.$watchers$=rt.watchers,dn(rt,xe,2),rt.isProxied=!0);const At=()=>{};ee.$flags$|=8;try{new rt(ee)}catch(Ht){ln(Ht)}ee.$flags$&=-9,ee.$flags$|=128,At(),tr(ee.$lazyInstance$)}if(rt.style){let At=rt.style;"string"!=typeof At&&(At=At[ee.$modeName$=(q=>Or.map(ge=>ge(q)).find(ge=>!!ge))(ge)]);const Ht=nt(xe,ee.$modeName$);if(!Wr.has(Ht)){const nn=()=>{};Wt(Ht,At,!!(1&xe.$flags$)),nn()}}}const bt=ee.$ancestorComponent$,Rt=()=>fr(ee,!0);bt&&bt["s-rc"]?bt["s-rc"].push(Rt):Rt()});return function(ee,xe,Be,rt,bt){return q.apply(this,arguments)}}(),tr=q=>{_e(q,"connectedCallback")},Gr=q=>{const ge=q["s-cr"]=me.createComment("");ge["s-cn"]=!0,q.insertBefore(ge,q.firstChild)},It=(q,ge={})=>{const xe=[],Be=ge.exclude||[],rt=X.customElements,bt=me.head,Rt=bt.querySelector("meta[charset]"),At=me.createElement("style"),Ht=[],nn=me.querySelectorAll(`[${ae}]`);let Nn,xn=!0,rr=0;for(Object.assign(ce,ge),ce.$resourcesUrl$=new URL(ge.resourcesUrl||"./",me.baseURI).href,ce.$flags$|=2;rr<nn.length;rr++)Wt(nn[rr].getAttribute(ae),vt(nn[rr].innerHTML),!0);q.map(Lr=>{Lr[1].map(ci=>{const mi={$flags$:ci[0],$tagName$:ci[1],$members$:ci[2],$listeners$:ci[3]};mi.$members$=ci[2],mi.$listeners$=ci[3],mi.$attrsToReflect$=[],mi.$watchers$={};const gs=mi.$tagName$,Ze=class extends HTMLElement{constructor(Ye){super(Ye),In(Ye=this,mi),1&mi.$flags$&&Ye.attachShadow({mode:"open",delegatesFocus:!!(16&mi.$flags$)})}connectedCallback(){Nn&&(clearTimeout(Nn),Nn=null),xn?Ht.push(this):ce.jmp(()=>(q=>{if(0==(1&ce.$flags$)){const ge=Xt(q),ee=ge.$cmpMeta$,xe=()=>{};if(1&ge.$flags$)Te(q,ge,ee.$listeners$),tr(ge.$lazyInstance$);else{let Be;if(ge.$flags$|=1,Be=q.getAttribute(Pe),Be){if(1&ee.$flags$){const rt=dt(q.shadowRoot,ee,q.getAttribute("s-mode"));q.classList.remove(rt+"-h",rt+"-s")}((q,ge,ee,xe)=>{const rt=q.shadowRoot,bt=[],At=rt?[]:null,Ht=xe.$vnode$=Mn(ge,null);ce.$orgLocNodes$||Ct(me.body,ce.$orgLocNodes$=new Map),q[Pe]=ee,q.removeAttribute(Pe),tt(Ht,bt,[],At,q,q,ee),bt.map(nn=>{const Nn=nn.$hostId$+"."+nn.$nodeId$,xn=ce.$orgLocNodes$.get(Nn),rr=nn.$elm$;xn&&""===xn["s-en"]&&xn.parentNode.insertBefore(rr,xn.nextSibling),rt||(rr["s-hn"]=ge,xn&&(rr["s-ol"]=xn,rr["s-ol"]["s-nr"]=rr)),ce.$orgLocNodes$.delete(Nn)}),rt&&At.map(nn=>{nn&&rt.appendChild(nn)})})(q,ee.$tagName$,Be,ge)}Be||12&ee.$flags$&&Gr(q);{let rt=q;for(;rt=rt.parentNode||rt.host;)if(1===rt.nodeType&&rt.hasAttribute("s-id")&&rt["s-p"]||rt["s-p"]){Kn(ge,ge.$ancestorComponent$=rt);break}}ee.$members$&&Object.entries(ee.$members$).map(([rt,[bt]])=>{if(31&bt&&q.hasOwnProperty(rt)){const Rt=q[rt];delete q[rt],q[rt]=Rt}}),gi(()=>on(q,ge,ee))}xe()}})(this))}disconnectedCallback(){ce.jmp(()=>(q=>{if(0==(1&ce.$flags$)){const ge=Xt(this),ee=ge.$lazyInstance$;ge.$rmListeners$&&(ge.$rmListeners$.map(xe=>xe()),ge.$rmListeners$=void 0),_e(ee,"disconnectedCallback")}})())}componentOnReady(){return Xt(this).$onReadyPromise$}};mi.$lazyBundleId$=Lr[0],!Be.includes(gs)&&!rt.get(gs)&&(xe.push(gs),rt.define(gs,dn(Ze,mi,1)))})}),At.innerHTML=xe+"{visibility:hidden}.hydrated{visibility:inherit}",At.setAttribute("data-styles",""),bt.insertBefore(At,Rt?Rt.nextSibling:bt.firstChild),xn=!1,Ht.length?Ht.map(Lr=>Lr.connectedCallback()):ce.jmp(()=>Nn=setTimeout(Fe,30))},ct=q=>{const ge=new URL(q,ce.$resourcesUrl$);return ge.origin!==X.location.origin?ge.href:ge.pathname},Bt=new WeakMap,Xt=q=>Bt.get(q),Yn=(q,ge)=>Bt.set(ge.$lazyInstance$=q,ge),In=(q,ge)=>{const ee={$flags$:0,$hostElement$:q,$cmpMeta$:ge,$instanceValues$:new Map};return ee.$onInstancePromise$=new Promise(xe=>ee.$onInstanceResolve$=xe),ee.$onReadyPromise$=new Promise(xe=>ee.$onReadyResolve$=xe),q["s-p"]=[],q["s-rc"]=[],Te(q,ee,ge.$listeners$),Bt.set(q,ee)},Ft=(q,ge)=>ge in q,ln=(q,ge)=>(0,console.error)(q,ge),zn=new Map,gr=(q,ge,ee)=>{const xe=q.$tagName$.replace(/-/g,"_"),Be=q.$lazyBundleId$,rt=zn.get(Be);return rt?rt[xe]:O(50863)(`./${Be}.entry.js`).then(bt=>(zn.set(Be,bt),bt[xe]),ln)},Wr=new Map,Or=[],pi=[],Tr=[],Zr=(q,ge)=>ee=>{q.push(ee),Y||(Y=!0,ge&&4&ce.$flags$?gi(Zn):ce.raf(Zn))},zr=q=>{for(let ge=0;ge<q.length;ge++)try{q[ge](performance.now())}catch(ee){ln(ee)}q.length=0},Zn=()=>{zr(pi),zr(Tr),(Y=pi.length>0)&&ce.raf(Zn)},gi=q=>pe().then(q),yr=Zr(pi,!1),si=Zr(Tr,!0),Ei={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},46254:(Kt,Je,O)=>{"use strict";O.d(Je,{a:()=>X,b:()=>Nt,c:()=>k,g:()=>Y,i:()=>Wt});var u=O(32361);class P{constructor(){this.m=new Map}reset(qe){this.m=new Map(Object.entries(qe))}get(qe,nt){const vt=this.m.get(qe);return void 0!==vt?vt:nt}getBoolean(qe,nt=!1){const vt=this.m.get(qe);return void 0===vt?nt:"string"==typeof vt?"true"===vt:!!vt}getNumber(qe,nt){const vt=parseFloat(this.m.get(qe));return isNaN(vt)?void 0!==nt?nt:NaN:vt}set(qe,nt){this.m.set(qe,nt)}}const k=new P,le="ionic-persist-config",Y=dt=>me(dt),X=(dt,qe)=>("string"==typeof dt&&(qe=dt,dt=void 0),Y(dt).includes(qe)),me=(dt=window)=>{if(void 0===dt)return[];dt.Ionic=dt.Ionic||{};let qe=dt.Ionic.platforms;return null==qe&&(qe=dt.Ionic.platforms=ce(dt),qe.forEach(nt=>dt.document.documentElement.classList.add(`plt-${nt}`))),qe},ce=dt=>{const qe=k.get("platform");return Object.keys(Ce).filter(nt=>{const vt=null==qe?void 0:qe[nt];return"function"==typeof vt?vt(dt):Ce[nt](dt)})},we=dt=>!!(he(dt,/iPad/i)||he(dt,/Macintosh/i)&&Oe(dt)),Te=dt=>he(dt,/android|sink/i),Oe=dt=>Ae(dt,"(any-pointer:coarse)"),st=dt=>lt(dt)||Pe(dt),lt=dt=>!!(dt.cordova||dt.phonegap||dt.PhoneGap),Pe=dt=>{const qe=dt.Capacitor;return!!(null==qe?void 0:qe.isNative)},he=(dt,qe)=>qe.test(dt.navigator.userAgent),Ae=(dt,qe)=>{var nt;return null===(nt=dt.matchMedia)||void 0===nt?void 0:nt.call(dt,qe).matches},Ce={ipad:we,iphone:dt=>he(dt,/iPhone/i),ios:dt=>he(dt,/iPhone|iPod/i)||we(dt),android:Te,phablet:dt=>{const qe=dt.innerWidth,nt=dt.innerHeight,vt=Math.min(qe,nt),Ge=Math.max(qe,nt);return vt>390&&vt<520&&Ge>620&&Ge<800},tablet:dt=>{const qe=dt.innerWidth,nt=dt.innerHeight,vt=Math.min(qe,nt),Ge=Math.max(qe,nt);return we(dt)||(dt=>Te(dt)&&!he(dt,/mobile/i))(dt)||vt>460&&vt<820&&Ge>780&&Ge<1400},cordova:lt,capacitor:Pe,electron:dt=>he(dt,/electron/i),pwa:dt=>{var qe;return!(!(null===(qe=dt.matchMedia)||void 0===qe?void 0:qe.call(dt,"(display-mode: standalone)").matches)&&!dt.navigator.standalone)},mobile:Oe,mobileweb:dt=>Oe(dt)&&!st(dt),desktop:dt=>!Oe(dt),hybrid:st};let $e;const Nt=dt=>dt&&(0,u.g)(dt)||$e,Wt=(dt={})=>{if("undefined"==typeof window)return;const qe=window.document,nt=window,vt=nt.Ionic=nt.Ionic||{},Ge={};dt._ael&&(Ge.ael=dt._ael),dt._rel&&(Ge.rel=dt._rel),dt._ce&&(Ge.ce=dt._ce),(0,u.s)(Ge);const ze=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(dt=>{try{const qe=dt.sessionStorage.getItem(le);return null!==qe?JSON.parse(qe):{}}catch(qe){return{}}})(nt)),{persistConfig:!1}),vt.config),(dt=>{const qe={};return dt.location.search.slice(1).split("&").map(nt=>nt.split("=")).map(([nt,vt])=>[decodeURIComponent(nt),decodeURIComponent(vt)]).filter(([nt])=>((dt,qe)=>dt.substr(0,qe.length)===qe)(nt,"ionic:")).map(([nt,vt])=>[nt.slice("ionic:".length),vt]).forEach(([nt,vt])=>{qe[nt]=vt}),qe})(nt)),dt);k.reset(ze),k.getBoolean("persistConfig")&&((dt,qe)=>{try{dt.sessionStorage.setItem(le,JSON.stringify(qe))}catch(nt){return}})(nt,ze),me(nt),vt.config=k,vt.mode=$e=k.get("mode",qe.documentElement.getAttribute("mode")||(X(nt,"ios")?"ios":"md")),k.set("mode",$e),qe.documentElement.setAttribute("mode",$e),qe.documentElement.classList.add($e),k.getBoolean("_testing")&&k.set("animated",!1);const at=kt=>{var Zt;return null===(Zt=kt.tagName)||void 0===Zt?void 0:Zt.startsWith("ION-")},jt=kt=>["ios","md"].includes(kt);(0,u.a)(kt=>{for(;kt;){const Zt=kt.mode||kt.getAttribute("mode");if(Zt){if(jt(Zt))return Zt;at(kt)&&console.warn('Invalid ionic mode: "'+Zt+'", expected: "ios" or "md"')}kt=kt.parentElement}return $e})}},22243:(Kt,Je,O)=>{"use strict";O.r(Je),O.d(Je,{iosTransitionAnimation:()=>me,shadow:()=>ie});var u=O(50913),P=O(2901);O(32361);const Ee=ce=>document.querySelector(`${ce}.ion-cloned-element`),ie=ce=>ce.shadowRoot||ce,de=ce=>{const ke="ION-TABS"===ce.tagName?ce:ce.querySelector("ion-tabs"),we="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ke){const pe=ke.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=pe?pe.querySelector(we):null}return ce.querySelector(we)},ye=(ce,ke)=>{const we="ION-TABS"===ce.tagName?ce:ce.querySelector("ion-tabs");let pe=[];if(null!=we){const Le=we.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Le&&(pe=Le.querySelectorAll("ion-buttons"))}else pe=ce.querySelectorAll("ion-buttons");for(const Le of pe){const Te=Le.closest("ion-header"),ut=Te&&!Te.classList.contains("header-collapse-condense-inactive"),te=Le.querySelector("ion-back-button"),Ke=Le.classList.contains("buttons-collapse"),Oe="start"===Le.slot||""===Le.slot;if(null!==te&&Oe&&(Ke&&ut&&ke||!Ke))return te}return null},Y=(ce,ke,we,pe,Le,Te)=>{const ut=ke?`calc(100% - ${Te.right+4}px)`:Te.left-4+"px",te=ke?"7px":"-7px",Ke=ke?"-4px":"4px",Oe=ke?"-4px":"4px",et=ke?"right":"left",st=ke?"left":"right",ae=we?[{offset:0,opacity:1,transform:`translate3d(${Ke}, ${Te.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${te}, ${Le.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${te}, ${Le.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ke}, ${Te.top-46}px, 0) scale(1)`}],Ae=we?[{offset:0,opacity:1,transform:`translate3d(${Oe}, ${Te.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Oe}, ${Te.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Oe}, ${Te.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Oe}, ${Te.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Oe}, ${Te.top-46}px, 0) scale(1)`}],Ce=(0,u.c)(),$e=(0,u.c)(),Nt=Ee("ion-back-button"),Wt=ie(Nt).querySelector(".button-text"),dt=ie(Nt).querySelector("ion-icon");Nt.text=pe.text,Nt.mode=pe.mode,Nt.icon=pe.icon,Nt.color=pe.color,Nt.disabled=pe.disabled,Nt.style.setProperty("display","block"),Nt.style.setProperty("position","fixed"),$e.addElement(dt),Ce.addElement(Wt),Ce.beforeStyles({"transform-origin":`${et} center`}).beforeAddWrite(()=>{pe.style.setProperty("display","none"),Nt.style.setProperty(et,ut)}).afterAddWrite(()=>{pe.style.setProperty("display",""),Nt.style.setProperty("display","none"),Nt.style.removeProperty(et)}).keyframes(ae),$e.beforeStyles({"transform-origin":`${st} center`}).keyframes(Ae),ce.addAnimation([Ce,$e])},X=(ce,ke,we,pe,Le,Te)=>{const ut=ke?`calc(100% - ${Le.right}px)`:`${Le.left}px`,te=ke?"-18px":"18px",Ke=ke?"right":"left",st=we?[{offset:0,opacity:0,transform:`translate3d(${te}, ${Te.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Le.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Le.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${te}, ${Te.top-4}px, 0) scale(0.5)`}],lt=Ee("ion-title"),Pe=(0,u.c)();lt.innerText=pe.innerText,lt.size=pe.size,lt.color=pe.color,Pe.addElement(lt),Pe.beforeStyles({"transform-origin":`${Ke} center`,height:"46px",display:"",position:"relative",[Ke]:ut}).beforeAddWrite(()=>{pe.style.setProperty("display","none")}).afterAddWrite(()=>{pe.style.setProperty("display",""),lt.style.setProperty("display","none")}).keyframes(st),ce.addAnimation(Pe)},me=(ce,ke)=>{try{const we="cubic-bezier(0.32,0.72,0,1)",pe="opacity",Le="transform",Te="0%",te="rtl"===ce.ownerDocument.dir,Ke=te?"-99.5%":"99.5%",Oe=te?"33%":"-33%",et=ke.enteringEl,st=ke.leavingEl,lt="back"===ke.direction,Pe=et.querySelector(":scope > ion-content"),ae=et.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Se=et.querySelectorAll(":scope > ion-header > ion-toolbar"),he=(0,u.c)(),Ae=(0,u.c)();if(he.addElement(et).duration(ke.duration||540).easing(ke.easing||we).fill("both").beforeRemoveClass("ion-page-invisible"),st&&ce){const Wt=(0,u.c)();Wt.addElement(ce),he.addAnimation(Wt)}if(Pe||0!==Se.length||0!==ae.length?(Ae.addElement(Pe),Ae.addElement(ae)):Ae.addElement(et.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),he.addAnimation(Ae),lt?Ae.beforeClearStyles([pe]).fromTo("transform",`translateX(${Oe})`,`translateX(${Te})`).fromTo(pe,.8,1):Ae.beforeClearStyles([pe]).fromTo("transform",`translateX(${Ke})`,`translateX(${Te})`),Pe){const Wt=ie(Pe).querySelector(".transition-effect");if(Wt){const dt=Wt.querySelector(".transition-cover"),qe=Wt.querySelector(".transition-shadow"),nt=(0,u.c)(),vt=(0,u.c)(),Ge=(0,u.c)();nt.addElement(Wt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),vt.addElement(dt).beforeClearStyles([pe]).fromTo(pe,0,.1),Ge.addElement(qe).beforeClearStyles([pe]).fromTo(pe,.03,.7),nt.addAnimation([vt,Ge]),Ae.addAnimation([nt])}}const Ce=et.querySelector("ion-header.header-collapse-condense"),{forward:$e,backward:Nt}=((ce,ke,we,pe,Le)=>{const Te=ye(pe,we),ut=de(Le),te=de(pe),Ke=ye(Le,we),Oe=null!==Te&&null!==ut&&!we,et=null!==te&&null!==Ke&&we;if(Oe){const st=ut.getBoundingClientRect(),lt=Te.getBoundingClientRect();X(ce,ke,we,ut,st,lt),Y(ce,ke,we,Te,st,lt)}else if(et){const st=te.getBoundingClientRect(),lt=Ke.getBoundingClientRect();X(ce,ke,we,te,st,lt),Y(ce,ke,we,Ke,st,lt)}return{forward:Oe,backward:et}})(he,te,lt,et,st);if(Se.forEach(Wt=>{const dt=(0,u.c)();dt.addElement(Wt),he.addAnimation(dt);const qe=(0,u.c)();qe.addElement(Wt.querySelector("ion-title"));const nt=(0,u.c)(),vt=Array.from(Wt.querySelectorAll("ion-buttons,[menuToggle]")),Ge=Wt.closest("ion-header"),ze=null==Ge?void 0:Ge.classList.contains("header-collapse-condense-inactive");let at;at=vt.filter(lt?Rn=>{const hn=Rn.classList.contains("buttons-collapse");return hn&&!ze||!hn}:Rn=>!Rn.classList.contains("buttons-collapse")),nt.addElement(at);const jt=(0,u.c)();jt.addElement(Wt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const kt=(0,u.c)();kt.addElement(ie(Wt).querySelector(".toolbar-background"));const Zt=(0,u.c)(),Tn=Wt.querySelector("ion-back-button");if(Tn&&Zt.addElement(Tn),dt.addAnimation([qe,nt,jt,kt,Zt]),nt.fromTo(pe,.01,1),jt.fromTo(pe,.01,1),lt)ze||qe.fromTo("transform",`translateX(${Oe})`,`translateX(${Te})`).fromTo(pe,.01,1),jt.fromTo("transform",`translateX(${Oe})`,`translateX(${Te})`),Zt.fromTo(pe,.01,1);else if(Ce||qe.fromTo("transform",`translateX(${Ke})`,`translateX(${Te})`).fromTo(pe,.01,1),jt.fromTo("transform",`translateX(${Ke})`,`translateX(${Te})`),kt.beforeClearStyles([pe,"transform"]),(null==Ge?void 0:Ge.translucent)?kt.fromTo("transform",te?"translateX(-100%)":"translateX(100%)","translateX(0px)"):kt.fromTo(pe,.01,"var(--opacity)"),$e||Zt.fromTo(pe,.01,1),Tn&&!$e){const hn=(0,u.c)();hn.addElement(ie(Tn).querySelector(".button-text")).fromTo("transform",te?"translateX(-100px)":"translateX(100px)","translateX(0px)"),dt.addAnimation(hn)}}),st){const Wt=(0,u.c)(),dt=st.querySelector(":scope > ion-content"),qe=st.querySelectorAll(":scope > ion-header > ion-toolbar"),nt=st.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(dt||0!==qe.length||0!==nt.length?(Wt.addElement(dt),Wt.addElement(nt)):Wt.addElement(st.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),he.addAnimation(Wt),lt){Wt.beforeClearStyles([pe]).fromTo("transform",`translateX(${Te})`,te?"translateX(-100%)":"translateX(100%)");const vt=(0,P.g)(st);he.afterAddWrite(()=>{"normal"===he.getDirection()&&vt.style.setProperty("display","none")})}else Wt.fromTo("transform",`translateX(${Te})`,`translateX(${Oe})`).fromTo(pe,1,.8);if(dt){const vt=ie(dt).querySelector(".transition-effect");if(vt){const Ge=vt.querySelector(".transition-cover"),ze=vt.querySelector(".transition-shadow"),at=(0,u.c)(),jt=(0,u.c)(),kt=(0,u.c)();at.addElement(vt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),jt.addElement(Ge).beforeClearStyles([pe]).fromTo(pe,.1,0),kt.addElement(ze).beforeClearStyles([pe]).fromTo(pe,.7,.03),at.addAnimation([jt,kt]),Wt.addAnimation([at])}}qe.forEach(vt=>{const Ge=(0,u.c)();Ge.addElement(vt);const ze=(0,u.c)();ze.addElement(vt.querySelector("ion-title"));const at=(0,u.c)(),jt=vt.querySelectorAll("ion-buttons,[menuToggle]"),kt=vt.closest("ion-header"),Zt=null==kt?void 0:kt.classList.contains("header-collapse-condense-inactive"),Tn=Array.from(jt).filter(Fr=>{const Mt=Fr.classList.contains("buttons-collapse");return Mt&&!Zt||!Mt});at.addElement(Tn);const Rn=(0,u.c)(),hn=vt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");hn.length>0&&Rn.addElement(hn);const Mn=(0,u.c)();Mn.addElement(ie(vt).querySelector(".toolbar-background"));const or=(0,u.c)(),Dn=vt.querySelector("ion-back-button");if(Dn&&or.addElement(Dn),Ge.addAnimation([ze,at,Rn,or,Mn]),he.addAnimation(Ge),or.fromTo(pe,.99,0),at.fromTo(pe,.99,0),Rn.fromTo(pe,.99,0),lt){if(Zt||ze.fromTo("transform",`translateX(${Te})`,te?"translateX(-100%)":"translateX(100%)").fromTo(pe,.99,0),Rn.fromTo("transform",`translateX(${Te})`,te?"translateX(-100%)":"translateX(100%)"),Mn.beforeClearStyles([pe,"transform"]),(null==kt?void 0:kt.translucent)?Mn.fromTo("transform","translateX(0px)",te?"translateX(-100%)":"translateX(100%)"):Mn.fromTo(pe,"var(--opacity)",0),Dn&&!Nt){const Mt=(0,u.c)();Mt.addElement(ie(Dn).querySelector(".button-text")).fromTo("transform",`translateX(${Te})`,`translateX(${(te?-124:124)+"px"})`),Ge.addAnimation(Mt)}}else Zt||ze.fromTo("transform",`translateX(${Te})`,`translateX(${Oe})`).fromTo(pe,.99,0).afterClearStyles([Le,pe]),Rn.fromTo("transform",`translateX(${Te})`,`translateX(${Oe})`).afterClearStyles([Le,pe]),or.afterClearStyles([pe]),ze.afterClearStyles([pe]),at.afterClearStyles([pe])})}return he}catch(we){throw we}}},93478:(Kt,Je,O)=>{"use strict";O.r(Je),O.d(Je,{mdTransitionAnimation:()=>Ie});var u=O(50913),P=O(2901);O(32361);const Ie=(Ee,ie)=>{const le="back"===ie.direction,X=ie.leavingEl,me=(0,P.g)(ie.enteringEl),ce=me.querySelector("ion-toolbar"),ke=(0,u.c)();if(ke.addElement(me).fill("both").beforeRemoveClass("ion-page-invisible"),le?ke.duration(ie.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):ke.duration(ie.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ce){const we=(0,u.c)();we.addElement(ce),ke.addAnimation(we)}if(X&&le){ke.duration(ie.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const we=(0,u.c)();we.addElement((0,P.g)(X)).onFinish(pe=>{1===pe&&we.elements.length>0&&we.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),ke.addAnimation(we)}return ke}},11450:(Kt,Je,O)=>{"use strict";O.d(Je,{B:()=>vt,a:()=>ye,b:()=>le,c:()=>ce,d:()=>Se,e:()=>we,f:()=>Ae,g:()=>Nt,h:()=>ie,i:()=>dt,j:()=>ut,k:()=>Pe,l:()=>Y,m:()=>X,s:()=>nt,t:()=>ke});var u=O(15861),P=O(46254),k=O(47593),Ie=O(41643);let Ee=0;const ie=new WeakMap,de=Ge=>({create:ze=>pe(Ge,ze),dismiss:(ze,at,jt)=>st(document,ze,at,Ge,jt),getTop:()=>(0,u.Z)(function*(){return Pe(document,Ge)})()}),ye=de("ion-alert"),le=de("ion-action-sheet"),Y=de("ion-loading"),X=de("ion-modal"),ce=de("ion-popover"),ke=de("ion-toast"),we=Ge=>{"undefined"!=typeof document&&et(document);const ze=Ee++;Ge.overlayIndex=ze,Ge.hasAttribute("id")||(Ge.id=`ion-overlay-${ze}`)},pe=(Ge,ze)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(Ge).then(()=>{const at=document.createElement(Ge);return at.classList.add("overlay-hidden"),Object.assign(at,Object.assign(Object.assign({},ze),{hasController:!0})),Ce(document).appendChild(at),new Promise(jt=>(0,Ie.c)(at,jt))}):Promise.resolve(),Le='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',Te="input:not([type=hidden]), textarea, button, select",ut=(Ge,ze)=>{let at=Ge.querySelector(Le);const jt=null==at?void 0:at.shadowRoot;jt&&(at=jt.querySelector(Te)||at),at?(0,Ie.f)(at):ze.focus()},Ke=(Ge,ze)=>{const at=Array.from(Ge.querySelectorAll(Le));let jt=at.length>0?at[at.length-1]:null;const kt=null==jt?void 0:jt.shadowRoot;kt&&(jt=kt.querySelector(Te)||jt),jt?jt.focus():ze.focus()},et=Ge=>{0===Ee&&(Ee=1,Ge.addEventListener("focus",ze=>{((Ge,ze)=>{const at=Pe(ze,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),jt=Ge.target;at&&jt&&!at.classList.contains("ion-disable-focus-trap")&&(at.shadowRoot?(()=>{if(at.contains(jt))at.lastFocus=jt;else{const Tn=at.lastFocus;ut(at,at),Tn===ze.activeElement&&Ke(at,at),at.lastFocus=ze.activeElement}})():(()=>{if(at===jt)at.lastFocus=void 0;else{const Tn=(0,Ie.g)(at);if(!Tn.contains(jt))return;const Rn=Tn.querySelector(".ion-overlay-wrapper");if(!Rn)return;if(Rn.contains(jt))at.lastFocus=jt;else{const hn=at.lastFocus;ut(Rn,at),hn===ze.activeElement&&Ke(Rn,at),at.lastFocus=ze.activeElement}}})())})(ze,Ge)},!0),Ge.addEventListener("ionBackButton",ze=>{const at=Pe(Ge);(null==at?void 0:at.backdropDismiss)&&ze.detail.register(k.OVERLAY_BACK_BUTTON_PRIORITY,()=>at.dismiss(void 0,vt))}),Ge.addEventListener("keyup",ze=>{if("Escape"===ze.key){const at=Pe(Ge);(null==at?void 0:at.backdropDismiss)&&at.dismiss(void 0,vt)}}))},st=(Ge,ze,at,jt,kt)=>{const Zt=Pe(Ge,jt,kt);return Zt?Zt.dismiss(ze,at):Promise.reject("overlay does not exist")},Pe=(Ge,ze,at)=>{const jt=((Ge,ze)=>(void 0===ze&&(ze="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ge.querySelectorAll(ze)).filter(at=>at.overlayIndex>0)))(Ge,ze).filter(kt=>!(Ge=>Ge.classList.contains("overlay-hidden"))(kt));return void 0===at?jt[jt.length-1]:jt.find(kt=>kt.id===at)},ae=(Ge=!1)=>{const at=Ce(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!at||(Ge?at.setAttribute("aria-hidden","true"):at.removeAttribute("aria-hidden"))},Se=function(){var Ge=(0,u.Z)(function*(ze,at,jt,kt,Zt){var Tn,Rn;if(ze.presented)return;ae(!0),ze.presented=!0,ze.willPresent.emit(),null===(Tn=ze.willPresentShorthand)||void 0===Tn||Tn.emit();const hn=(0,P.b)(ze),Mn=ze.enterAnimation?ze.enterAnimation:P.c.get(at,"ios"===hn?jt:kt);(yield $e(ze,Mn,ze.el,Zt))&&(ze.didPresent.emit(),null===(Rn=ze.didPresentShorthand)||void 0===Rn||Rn.emit()),"ION-TOAST"!==ze.el.tagName&&he(ze.el),ze.keyboardClose&&ze.el.focus()});return function(at,jt,kt,Zt,Tn){return Ge.apply(this,arguments)}}(),he=function(){var Ge=(0,u.Z)(function*(ze){let at=document.activeElement;if(!at)return;const jt=null==at?void 0:at.shadowRoot;jt&&(at=jt.querySelector(Te)||at),yield ze.onDidDismiss(),at.focus()});return function(at){return Ge.apply(this,arguments)}}(),Ae=function(){var Ge=(0,u.Z)(function*(ze,at,jt,kt,Zt,Tn,Rn){var hn,Mn;if(!ze.presented)return!1;ae(!1),ze.presented=!1;try{ze.el.style.setProperty("pointer-events","none"),ze.willDismiss.emit({data:at,role:jt}),null===(hn=ze.willDismissShorthand)||void 0===hn||hn.emit({data:at,role:jt});const or=(0,P.b)(ze),Dn=ze.leaveAnimation?ze.leaveAnimation:P.c.get(kt,"ios"===or?Zt:Tn);"gesture"!==jt&&(yield $e(ze,Dn,ze.el,Rn)),ze.didDismiss.emit({data:at,role:jt}),null===(Mn=ze.didDismissShorthand)||void 0===Mn||Mn.emit({data:at,role:jt}),ie.delete(ze),ze.el.classList.add("overlay-hidden"),ze.el.style.removeProperty("pointer-events")}catch(or){console.error(or)}return ze.el.remove(),!0});return function(at,jt,kt,Zt,Tn,Rn,hn){return Ge.apply(this,arguments)}}(),Ce=Ge=>Ge.querySelector("ion-app")||Ge.body,$e=function(){var Ge=(0,u.Z)(function*(ze,at,jt,kt){jt.classList.remove("overlay-hidden");const Tn=at(ze.el,kt);(!ze.animated||!P.c.getBoolean("animated",!0))&&Tn.duration(0),ze.keyboardClose&&Tn.beforeAddWrite(()=>{const hn=jt.ownerDocument.activeElement;(null==hn?void 0:hn.matches("input,ion-input, ion-textarea"))&&hn.blur()});const Rn=ie.get(ze)||[];return ie.set(ze,[...Rn,Tn]),yield Tn.play(),!0});return function(at,jt,kt,Zt){return Ge.apply(this,arguments)}}(),Nt=(Ge,ze)=>{let at;const jt=new Promise(kt=>at=kt);return Wt(Ge,ze,kt=>{at(kt.detail)}),jt},Wt=(Ge,ze,at)=>{const jt=kt=>{(0,Ie.b)(Ge,ze,jt),at(kt)};(0,Ie.a)(Ge,ze,jt)},dt=Ge=>"cancel"===Ge||Ge===vt,qe=Ge=>Ge(),nt=(Ge,ze)=>{if("function"==typeof Ge)return P.c.get("_zoneGate",qe)(()=>{try{return Ge(ze)}catch(jt){throw jt}})},vt="backdrop"},591:(Kt,Je,O)=>{"use strict";O.d(Je,{X:()=>k});var u=O(8929),P=O(95279);class k extends u.xQ{constructor(Ee){super(),this._value=Ee}get value(){return this.getValue()}_subscribe(Ee){const ie=super._subscribe(Ee);return ie&&!ie.closed&&Ee.next(this._value),ie}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new P.N;return this._value}next(Ee){super.next(this._value=Ee)}}},29312:(Kt,Je,O)=>{"use strict";O.d(Je,{P:()=>Ee});var u=O(68896),P=O(21086),k=O(61737);class Ee{constructor(de,ye,le){this.kind=de,this.value=ye,this.error=le,this.hasValue="N"===de}observe(de){switch(this.kind){case"N":return de.next&&de.next(this.value);case"E":return de.error&&de.error(this.error);case"C":return de.complete&&de.complete()}}do(de,ye,le){switch(this.kind){case"N":return de&&de(this.value);case"E":return ye&&ye(this.error);case"C":return le&&le()}}accept(de,ye,le){return de&&"function"==typeof de.next?this.observe(de):this.do(de,ye,le)}toObservable(){switch(this.kind){case"N":return(0,P.of)(this.value);case"E":return(0,k._)(this.error);case"C":return(0,u.c)()}throw new Error("unexpected notification kind value")}static createNext(de){return void 0!==de?new Ee("N",de):Ee.undefinedValueNotification}static createError(de){return new Ee("E",void 0,de)}static createComplete(){return Ee.completeNotification}}Ee.completeNotification=new Ee("C"),Ee.undefinedValueNotification=new Ee("N",void 0)},32916:(Kt,Je,O)=>{"use strict";O.d(Je,{y:()=>X});var u=O(43489),k=O(57668),Ie=O(73292),ie=O(93821),de=O(35379);var Y=O(92830);let X=(()=>{class ce{constructor(we){this._isScalar=!1,we&&(this._subscribe=we)}lift(we){const pe=new ce;return pe.source=this,pe.operator=we,pe}subscribe(we,pe,Le){const{operator:Te}=this,ut=function Ee(ce,ke,we){if(ce){if(ce instanceof u.L)return ce;if(ce[k.b])return ce[k.b]()}return ce||ke||we?new u.L(ce,ke,we):new u.L(Ie.c)}(we,pe,Le);if(ut.add(Te?Te.call(ut,this.source):this.source||Y.v.useDeprecatedSynchronousErrorHandling&&!ut.syncErrorThrowable?this._subscribe(ut):this._trySubscribe(ut)),Y.v.useDeprecatedSynchronousErrorHandling&&ut.syncErrorThrowable&&(ut.syncErrorThrowable=!1,ut.syncErrorThrown))throw ut.syncErrorValue;return ut}_trySubscribe(we){try{return this._subscribe(we)}catch(pe){Y.v.useDeprecatedSynchronousErrorHandling&&(we.syncErrorThrown=!0,we.syncErrorValue=pe),function P(ce){for(;ce;){const{closed:ke,destination:we,isStopped:pe}=ce;if(ke||pe)return!1;ce=we&&we instanceof u.L?we:null}return!0}(we)?we.error(pe):console.warn(pe)}}forEach(we,pe){return new(pe=me(pe))((Le,Te)=>{let ut;ut=this.subscribe(te=>{try{we(te)}catch(Ke){Te(Ke),ut&&ut.unsubscribe()}},Te,Le)})}_subscribe(we){const{source:pe}=this;return pe&&pe.subscribe(we)}[ie.L](){return this}pipe(...we){return 0===we.length?this:function le(ce){return 0===ce.length?de.y:1===ce.length?ce[0]:function(we){return ce.reduce((pe,Le)=>Le(pe),we)}}(we)(this)}toPromise(we){return new(we=me(we))((pe,Le)=>{let Te;this.subscribe(ut=>Te=ut,ut=>Le(ut),()=>pe(Te))})}}return ce.create=ke=>new ce(ke),ce})();function me(ce){if(ce||(ce=Y.v.Promise||Promise),!ce)throw new Error("no Promise impl found");return ce}},73292:(Kt,Je,O)=>{"use strict";O.d(Je,{c:()=>k});var u=O(92830),P=O(22782);const k={closed:!0,next(Ie){},error(Ie){if(u.v.useDeprecatedSynchronousErrorHandling)throw Ie;(0,P.z)(Ie)},complete(){}}},30839:(Kt,Je,O)=>{"use strict";O.d(Je,{t:()=>de});var u=O(8929),P=O(30341),k=O(42654),Ie=O(57770),Ee=O(95279),ie=O(45283);class de extends u.xQ{constructor(Y=Number.POSITIVE_INFINITY,X=Number.POSITIVE_INFINITY,me){super(),this.scheduler=me,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=Y<1?1:Y,this._windowTime=X<1?1:X,X===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(Y){if(!this.isStopped){const X=this._events;X.push(Y),X.length>this._bufferSize&&X.shift()}super.next(Y)}nextTimeWindow(Y){this.isStopped||(this._events.push(new ye(this._getNow(),Y)),this._trimBufferThenGetEvents()),super.next(Y)}_subscribe(Y){const X=this._infiniteTimeWindow,me=X?this._events:this._trimBufferThenGetEvents(),ce=this.scheduler,ke=me.length;let we;if(this.closed)throw new Ee.N;if(this.isStopped||this.hasError?we=k.w.EMPTY:(this.observers.push(Y),we=new ie.W(this,Y)),ce&&Y.add(Y=new Ie.ht(Y,ce)),X)for(let pe=0;pe<ke&&!Y.closed;pe++)Y.next(me[pe]);else for(let pe=0;pe<ke&&!Y.closed;pe++)Y.next(me[pe].value);return this.hasError?Y.error(this.thrownError):this.isStopped&&Y.complete(),we}_getNow(){return(this.scheduler||P.c).now()}_trimBufferThenGetEvents(){const Y=this._getNow(),X=this._bufferSize,me=this._windowTime,ce=this._events,ke=ce.length;let we=0;for(;we<ke&&!(Y-ce[we].time<me);)we++;return ke>X&&(we=Math.max(we,ke-X)),we>0&&ce.splice(0,we),ce}}class ye{constructor(Y,X){this.time=Y,this.value=X}}},8929:(Kt,Je,O)=>{"use strict";O.d(Je,{Yc:()=>de,xQ:()=>ye});var u=O(32916),P=O(43489),k=O(42654),Ie=O(95279),Ee=O(45283),ie=O(57668);class de extends P.L{constructor(X){super(X),this.destination=X}}let ye=(()=>{class Y extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ie.b](){return new de(this)}lift(me){const ce=new le(this,this);return ce.operator=me,ce}next(me){if(this.closed)throw new Ie.N;if(!this.isStopped){const{observers:ce}=this,ke=ce.length,we=ce.slice();for(let pe=0;pe<ke;pe++)we[pe].next(me)}}error(me){if(this.closed)throw new Ie.N;this.hasError=!0,this.thrownError=me,this.isStopped=!0;const{observers:ce}=this,ke=ce.length,we=ce.slice();for(let pe=0;pe<ke;pe++)we[pe].error(me);this.observers.length=0}complete(){if(this.closed)throw new Ie.N;this.isStopped=!0;const{observers:me}=this,ce=me.length,ke=me.slice();for(let we=0;we<ce;we++)ke[we].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(me){if(this.closed)throw new Ie.N;return super._trySubscribe(me)}_subscribe(me){if(this.closed)throw new Ie.N;return this.hasError?(me.error(this.thrownError),k.w.EMPTY):this.isStopped?(me.complete(),k.w.EMPTY):(this.observers.push(me),new Ee.W(this,me))}asObservable(){const me=new u.y;return me.source=this,me}}return Y.create=(X,me)=>new le(X,me),Y})();class le extends ye{constructor(X,me){super(),this.destination=X,this.source=me}next(X){const{destination:me}=this;me&&me.next&&me.next(X)}error(X){const{destination:me}=this;me&&me.error&&this.destination.error(X)}complete(){const{destination:X}=this;X&&X.complete&&this.destination.complete()}_subscribe(X){const{source:me}=this;return me?this.source.subscribe(X):k.w.EMPTY}}},45283:(Kt,Je,O)=>{"use strict";O.d(Je,{W:()=>P});var u=O(42654);class P extends u.w{constructor(Ie,Ee){super(),this.subject=Ie,this.subscriber=Ee,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ie=this.subject,Ee=Ie.observers;if(this.subject=null,!Ee||0===Ee.length||Ie.isStopped||Ie.closed)return;const ie=Ee.indexOf(this.subscriber);-1!==ie&&Ee.splice(ie,1)}}},43489:(Kt,Je,O)=>{"use strict";O.d(Je,{L:()=>de});var u=O(67043),P=O(73292),k=O(42654),Ie=O(57668),Ee=O(92830),ie=O(22782);class de extends k.w{constructor(Y,X,me){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=P.c;break;case 1:if(!Y){this.destination=P.c;break}if("object"==typeof Y){Y instanceof de?(this.syncErrorThrowable=Y.syncErrorThrowable,this.destination=Y,Y.add(this)):(this.syncErrorThrowable=!0,this.destination=new ye(this,Y));break}default:this.syncErrorThrowable=!0,this.destination=new ye(this,Y,X,me)}}[Ie.b](){return this}static create(Y,X,me){const ce=new de(Y,X,me);return ce.syncErrorThrowable=!1,ce}next(Y){this.isStopped||this._next(Y)}error(Y){this.isStopped||(this.isStopped=!0,this._error(Y))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(Y){this.destination.next(Y)}_error(Y){this.destination.error(Y),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:Y}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=Y,this}}class ye extends de{constructor(Y,X,me,ce){super(),this._parentSubscriber=Y;let ke,we=this;(0,u.m)(X)?ke=X:X&&(ke=X.next,me=X.error,ce=X.complete,X!==P.c&&(we=Object.create(X),(0,u.m)(we.unsubscribe)&&this.add(we.unsubscribe.bind(we)),we.unsubscribe=this.unsubscribe.bind(this))),this._context=we,this._next=ke,this._error=me,this._complete=ce}next(Y){if(!this.isStopped&&this._next){const{_parentSubscriber:X}=this;Ee.v.useDeprecatedSynchronousErrorHandling&&X.syncErrorThrowable?this.__tryOrSetError(X,this._next,Y)&&this.unsubscribe():this.__tryOrUnsub(this._next,Y)}}error(Y){if(!this.isStopped){const{_parentSubscriber:X}=this,{useDeprecatedSynchronousErrorHandling:me}=Ee.v;if(this._error)me&&X.syncErrorThrowable?(this.__tryOrSetError(X,this._error,Y),this.unsubscribe()):(this.__tryOrUnsub(this._error,Y),this.unsubscribe());else if(X.syncErrorThrowable)me?(X.syncErrorValue=Y,X.syncErrorThrown=!0):(0,ie.z)(Y),this.unsubscribe();else{if(this.unsubscribe(),me)throw Y;(0,ie.z)(Y)}}}complete(){if(!this.isStopped){const{_parentSubscriber:Y}=this;if(this._complete){const X=()=>this._complete.call(this._context);Ee.v.useDeprecatedSynchronousErrorHandling&&Y.syncErrorThrowable?(this.__tryOrSetError(Y,X),this.unsubscribe()):(this.__tryOrUnsub(X),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(Y,X){try{Y.call(this._context,X)}catch(me){if(this.unsubscribe(),Ee.v.useDeprecatedSynchronousErrorHandling)throw me;(0,ie.z)(me)}}__tryOrSetError(Y,X,me){if(!Ee.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{X.call(this._context,me)}catch(ce){return Ee.v.useDeprecatedSynchronousErrorHandling?(Y.syncErrorValue=ce,Y.syncErrorThrown=!0,!0):((0,ie.z)(ce),!0)}return!1}_unsubscribe(){const{_parentSubscriber:Y}=this;this._context=null,this._parentSubscriber=null,Y.unsubscribe()}}},42654:(Kt,Je,O)=>{"use strict";O.d(Je,{w:()=>ie});var u=O(66688),P=O(57830),k=O(67043);const Ee=(()=>{function ye(le){return Error.call(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((Y,X)=>`${X+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le,this}return ye.prototype=Object.create(Error.prototype),ye})();class ie{constructor(le){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,le&&(this._ctorUnsubscribe=!0,this._unsubscribe=le)}unsubscribe(){let le;if(this.closed)return;let{_parentOrParents:Y,_ctorUnsubscribe:X,_unsubscribe:me,_subscriptions:ce}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,Y instanceof ie)Y.remove(this);else if(null!==Y)for(let ke=0;ke<Y.length;++ke)Y[ke].remove(this);if((0,k.m)(me)){X&&(this._unsubscribe=void 0);try{me.call(this)}catch(ke){le=ke instanceof Ee?de(ke.errors):[ke]}}if((0,u.k)(ce)){let ke=-1,we=ce.length;for(;++ke<we;){const pe=ce[ke];if((0,P.K)(pe))try{pe.unsubscribe()}catch(Le){le=le||[],Le instanceof Ee?le=le.concat(de(Le.errors)):le.push(Le)}}}if(le)throw new Ee(le)}add(le){let Y=le;if(!le)return ie.EMPTY;switch(typeof le){case"function":Y=new ie(le);case"object":if(Y===this||Y.closed||"function"!=typeof Y.unsubscribe)return Y;if(this.closed)return Y.unsubscribe(),Y;if(!(Y instanceof ie)){const ce=Y;Y=new ie,Y._subscriptions=[ce]}break;default:throw new Error("unrecognized teardown "+le+" added to Subscription.")}let{_parentOrParents:X}=Y;if(null===X)Y._parentOrParents=this;else if(X instanceof ie){if(X===this)return Y;Y._parentOrParents=[X,this]}else{if(-1!==X.indexOf(this))return Y;X.push(this)}const me=this._subscriptions;return null===me?this._subscriptions=[Y]:me.push(Y),Y}remove(le){const Y=this._subscriptions;if(Y){const X=Y.indexOf(le);-1!==X&&Y.splice(X,1)}}}var ye;function de(ye){return ye.reduce((le,Y)=>le.concat(Y instanceof Ee?Y.errors:Y),[])}ie.EMPTY=((ye=new ie).closed=!0,ye)},92830:(Kt,Je,O)=>{"use strict";O.d(Je,{v:()=>P});let u=!1;const P={Promise:void 0,set useDeprecatedSynchronousErrorHandling(k){if(k){const Ie=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ie.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=k},get useDeprecatedSynchronousErrorHandling(){return u}}},41177:(Kt,Je,O)=>{"use strict";O.d(Je,{IY:()=>Ie,Ds:()=>ie,ft:()=>ye});var u=O(43489),P=O(32916),k=O(59249);class Ie extends u.L{constructor(Y){super(),this.parent=Y}_next(Y){this.parent.notifyNext(Y)}_error(Y){this.parent.notifyError(Y),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ie extends u.L{notifyNext(Y){this.destination.next(Y)}notifyError(Y){this.destination.error(Y)}notifyComplete(){this.destination.complete()}}function ye(le,Y){if(Y.closed)return;if(le instanceof P.y)return le.subscribe(Y);let X;try{X=(0,k.s)(le)(Y)}catch(me){Y.error(me)}return X}},71762:(Kt,Je,O)=>{"use strict";O.d(Je,{c:()=>Ee,N:()=>ie});var u=O(8929),P=O(32916),k=O(42654),Ie=O(74327);class Ee extends P.y{constructor(X,me){super(),this.source=X,this.subjectFactory=me,this._refCount=0,this._isComplete=!1}_subscribe(X){return this.getSubject().subscribe(X)}getSubject(){const X=this._subject;return(!X||X.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let X=this._connection;return X||(this._isComplete=!1,X=this._connection=new k.w,X.add(this.source.subscribe(new de(this.getSubject(),this))),X.closed&&(this._connection=null,X=k.w.EMPTY)),X}refCount(){return(0,Ie.x)()(this)}}const ie=(()=>{const Y=Ee.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Y._subscribe},_isComplete:{value:Y._isComplete,writable:!0},getSubject:{value:Y.getSubject},connect:{value:Y.connect},refCount:{value:Y.refCount}}})();class de extends u.Yc{constructor(X,me){super(X),this.connectable=me}_error(X){this._unsubscribe(),super._error(X)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const X=this.connectable;if(X){this.connectable=null;const me=X._connection;X._refCount=0,X._subject=null,X._connection=null,me&&me.unsubscribe()}}}},23426:(Kt,Je,O)=>{"use strict";O.d(Je,{aj:()=>X});var u=O(72866),P=O(66688),k=O(43489);class Ie extends k.L{notifyNext(we,pe,Le,Te,ut){this.destination.next(pe)}notifyError(we,pe){this.destination.error(we)}notifyComplete(we){this.destination.complete()}}class Ee extends k.L{constructor(we,pe,Le){super(),this.parent=we,this.outerValue=pe,this.outerIndex=Le,this.index=0}_next(we){this.parent.notifyNext(this.outerValue,we,this.outerIndex,this.index++,this)}_error(we){this.parent.notifyError(we,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ie=O(59249),de=O(32916);function ye(ke,we,pe,Le,Te=new Ee(ke,pe,Le)){if(!Te.closed)return we instanceof de.y?we.subscribe(Te):(0,ie.s)(we)(Te)}var le=O(33009);const Y={};function X(...ke){let we,pe;return(0,u.K)(ke[ke.length-1])&&(pe=ke.pop()),"function"==typeof ke[ke.length-1]&&(we=ke.pop()),1===ke.length&&(0,P.k)(ke[0])&&(ke=ke[0]),(0,le.n)(ke,pe).lift(new me(we))}class me{constructor(we){this.resultSelector=we}call(we,pe){return pe.subscribe(new ce(we,this.resultSelector))}}class ce extends Ie{constructor(we,pe){super(we),this.resultSelector=pe,this.active=0,this.values=[],this.observables=[]}_next(we){this.values.push(Y),this.observables.push(we)}_complete(){const we=this.observables,pe=we.length;if(0===pe)this.destination.complete();else{this.active=pe,this.toRespond=pe;for(let Le=0;Le<pe;Le++)this.add(ye(this,we[Le],void 0,Le))}}notifyComplete(we){0==(this.active-=1)&&this.destination.complete()}notifyNext(we,pe,Le){const Te=this.values,te=this.toRespond?Te[Le]===Y?--this.toRespond:this.toRespond:0;Te[Le]=pe,0===te&&(this.resultSelector?this._tryResultSelector(Te):this.destination.next(Te.slice()))}_tryResultSelector(we){let pe;try{pe=this.resultSelector.apply(this,we)}catch(Le){return void this.destination.error(Le)}this.destination.next(pe)}}},61221:(Kt,Je,O)=>{"use strict";O.d(Je,{z:()=>Ie});var u=O(21086),P=O(89146);function Ie(...Ee){return function k(){return(0,P.J)(1)}()((0,u.of)(...Ee))}},88514:(Kt,Je,O)=>{"use strict";O.d(Je,{P:()=>Ie});var u=O(32916),P=O(5254),k=O(68896);function Ie(Ee){return new u.y(ie=>{let de;try{de=Ee()}catch(le){return void ie.error(le)}return(de?(0,P.D)(de):(0,k.c)()).subscribe(ie)})}},68896:(Kt,Je,O)=>{"use strict";O.d(Je,{E:()=>P,c:()=>k});var u=O(32916);const P=new u.y(Ee=>Ee.complete());function k(Ee){return Ee?function Ie(Ee){return new u.y(ie=>Ee.schedule(()=>ie.complete()))}(Ee):P}},5254:(Kt,Je,O)=>{"use strict";O.d(Je,{D:()=>we});var u=O(32916),P=O(59249),k=O(42654),Ie=O(93821),de=O(66454),ye=O(5430),X=O(98955),me=O(58515);function we(pe,Le){return Le?function ke(pe,Le){if(null!=pe){if(function Y(pe){return pe&&"function"==typeof pe[Ie.L]}(pe))return function Ee(pe,Le){return new u.y(Te=>{const ut=new k.w;return ut.add(Le.schedule(()=>{const te=pe[Ie.L]();ut.add(te.subscribe({next(Ke){ut.add(Le.schedule(()=>Te.next(Ke)))},error(Ke){ut.add(Le.schedule(()=>Te.error(Ke)))},complete(){ut.add(Le.schedule(()=>Te.complete()))}}))})),ut})}(pe,Le);if((0,X.t)(pe))return function ie(pe,Le){return new u.y(Te=>{const ut=new k.w;return ut.add(Le.schedule(()=>pe.then(te=>{ut.add(Le.schedule(()=>{Te.next(te),ut.add(Le.schedule(()=>Te.complete()))}))},te=>{ut.add(Le.schedule(()=>Te.error(te)))}))),ut})}(pe,Le);if((0,me.z)(pe))return(0,de.r)(pe,Le);if(function ce(pe){return pe&&"function"==typeof pe[ye.hZ]}(pe)||"string"==typeof pe)return function le(pe,Le){if(!pe)throw new Error("Iterable cannot be null");return new u.y(Te=>{const ut=new k.w;let te;return ut.add(()=>{te&&"function"==typeof te.return&&te.return()}),ut.add(Le.schedule(()=>{te=pe[ye.hZ](),ut.add(Le.schedule(function(){if(Te.closed)return;let Ke,Oe;try{const et=te.next();Ke=et.value,Oe=et.done}catch(et){return void Te.error(et)}Oe?Te.complete():(Te.next(Ke),this.schedule())}))})),ut})}(pe,Le)}throw new TypeError((null!==pe&&typeof pe||pe)+" is not observable")}(pe,Le):pe instanceof u.y?pe:new u.y((0,P.s)(pe))}},33009:(Kt,Je,O)=>{"use strict";O.d(Je,{n:()=>Ie});var u=O(32916),P=O(13650),k=O(66454);function Ie(Ee,ie){return ie?(0,k.r)(Ee,ie):new u.y((0,P.V)(Ee))}},23753:(Kt,Je,O)=>{"use strict";O.d(Je,{R:()=>ie});var u=O(32916),P=O(66688),k=O(67043),Ie=O(24850);function ie(X,me,ce,ke){return(0,k.m)(ce)&&(ke=ce,ce=void 0),ke?ie(X,me,ce).pipe((0,Ie.U)(we=>(0,P.k)(we)?ke(...we):ke(we))):new u.y(we=>{de(X,me,function pe(Le){we.next(arguments.length>1?Array.prototype.slice.call(arguments):Le)},we,ce)})}function de(X,me,ce,ke,we){let pe;if(function Y(X){return X&&"function"==typeof X.addEventListener&&"function"==typeof X.removeEventListener}(X)){const Le=X;X.addEventListener(me,ce,we),pe=()=>Le.removeEventListener(me,ce,we)}else if(function le(X){return X&&"function"==typeof X.on&&"function"==typeof X.off}(X)){const Le=X;X.on(me,ce),pe=()=>Le.off(me,ce)}else if(function ye(X){return X&&"function"==typeof X.addListener&&"function"==typeof X.removeListener}(X)){const Le=X;X.addListener(me,ce),pe=()=>Le.removeListener(me,ce)}else{if(!X||!X.length)throw new TypeError("Invalid event target");for(let Le=0,Te=X.length;Le<Te;Le++)de(X[Le],me,ce,ke,we)}ke.add(pe)}},36787:(Kt,Je,O)=>{"use strict";O.d(Je,{T:()=>Ee});var u=O(32916),P=O(72866),k=O(89146),Ie=O(33009);function Ee(...ie){let de=Number.POSITIVE_INFINITY,ye=null,le=ie[ie.length-1];return(0,P.K)(le)?(ye=ie.pop(),ie.length>1&&"number"==typeof ie[ie.length-1]&&(de=ie.pop())):"number"==typeof le&&(de=ie.pop()),null===ye&&1===ie.length&&ie[0]instanceof u.y?ie[0]:(0,k.J)(de)((0,Ie.n)(ie,ye))}},21086:(Kt,Je,O)=>{"use strict";O.d(Je,{of:()=>Ie});var u=O(72866),P=O(33009),k=O(66454);function Ie(...Ee){let ie=Ee[Ee.length-1];return(0,u.K)(ie)?(Ee.pop(),(0,k.r)(Ee,ie)):(0,P.n)(Ee)}},61737:(Kt,Je,O)=>{"use strict";O.d(Je,{_:()=>P});var u=O(32916);function P(Ie,Ee){return new u.y(Ee?ie=>Ee.schedule(k,0,{error:Ie,subscriber:ie}):ie=>ie.error(Ie))}function k({error:Ie,subscriber:Ee}){Ee.error(Ie)}},27221:(Kt,Je,O)=>{"use strict";O.d(Je,{K:()=>P});var u=O(41177);function P(Ee){return function(de){const ye=new k(Ee),le=de.lift(ye);return ye.caught=le}}class k{constructor(ie){this.selector=ie}call(ie,de){return de.subscribe(new Ie(ie,this.selector,this.caught))}}class Ie extends u.Ds{constructor(ie,de,ye){super(ie),this.selector=de,this.caught=ye}error(ie){if(!this.isStopped){let de;try{de=this.selector(ie,this.caught)}catch(Y){return void super.error(Y)}this._unsubscribeAndRecycle();const ye=new u.IY(this);this.add(ye);const le=(0,u.ft)(de,ye);le!==ye&&this.add(le)}}}},21406:(Kt,Je,O)=>{"use strict";O.d(Je,{b:()=>P});var u=O(61709);function P(k,Ie){return(0,u.zg)(k,Ie,1)}},47314:(Kt,Je,O)=>{"use strict";O.d(Je,{d:()=>P});var u=O(43489);function P(Ee=null){return ie=>ie.lift(new k(Ee))}class k{constructor(ie){this.defaultValue=ie}call(ie,de){return de.subscribe(new Ie(ie,this.defaultValue))}}class Ie extends u.L{constructor(ie,de){super(ie),this.defaultValue=de,this.isEmpty=!0}_next(ie){this.isEmpty=!1,this.destination.next(ie)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},75778:(Kt,Je,O)=>{"use strict";O.d(Je,{x:()=>P});var u=O(43489);function P(Ee,ie){return de=>de.lift(new k(Ee,ie))}class k{constructor(ie,de){this.compare=ie,this.keySelector=de}call(ie,de){return de.subscribe(new Ie(ie,this.compare,this.keySelector))}}class Ie extends u.L{constructor(ie,de,ye){super(ie),this.keySelector=ye,this.hasKey=!1,"function"==typeof de&&(this.compare=de)}compare(ie,de){return ie===de}_next(ie){let de;try{const{keySelector:le}=this;de=le?le(ie):ie}catch(le){return this.destination.error(le)}let ye=!1;if(this.hasKey)try{const{compare:le}=this;ye=le(this.key,de)}catch(le){return this.destination.error(le)}else this.hasKey=!0;ye||(this.key=de,this.destination.next(ie))}}},92198:(Kt,Je,O)=>{"use strict";O.d(Je,{h:()=>P});var u=O(43489);function P(Ee,ie){return function(ye){return ye.lift(new k(Ee,ie))}}class k{constructor(ie,de){this.predicate=ie,this.thisArg=de}call(ie,de){return de.subscribe(new Ie(ie,this.predicate,this.thisArg))}}class Ie extends u.L{constructor(ie,de,ye){super(ie),this.predicate=de,this.thisArg=ye,this.count=0}_next(ie){let de;try{de=this.predicate.call(this.thisArg,ie,this.count++)}catch(ye){return void this.destination.error(ye)}de&&this.destination.next(ie)}}},87224:(Kt,Je,O)=>{"use strict";O.d(Je,{P:()=>de});var u=O(84450),P=O(92198),k=O(72986),Ie=O(47314),Ee=O(34907),ie=O(35379);function de(ye,le){const Y=arguments.length>=2;return X=>X.pipe(ye?(0,P.h)((me,ce)=>ye(me,ce,X)):ie.y,(0,k.q)(1),Y?(0,Ie.d)(le):(0,Ee.T)(()=>new u.K))}},24850:(Kt,Je,O)=>{"use strict";O.d(Je,{U:()=>P});var u=O(43489);function P(Ee,ie){return function(ye){if("function"!=typeof Ee)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ye.lift(new k(Ee,ie))}}class k{constructor(ie,de){this.project=ie,this.thisArg=de}call(ie,de){return de.subscribe(new Ie(ie,this.project,this.thisArg))}}class Ie extends u.L{constructor(ie,de,ye){super(ie),this.project=de,this.count=0,this.thisArg=ye||this}_next(ie){let de;try{de=this.project.call(this.thisArg,ie,this.count++)}catch(ye){return void this.destination.error(ye)}this.destination.next(de)}}},89146:(Kt,Je,O)=>{"use strict";O.d(Je,{J:()=>k});var u=O(61709),P=O(35379);function k(Ie=Number.POSITIVE_INFINITY){return(0,u.zg)(P.y,Ie)}},61709:(Kt,Je,O)=>{"use strict";O.d(Je,{zg:()=>Ie});var u=O(24850),P=O(5254),k=O(41177);function Ie(ye,le,Y=Number.POSITIVE_INFINITY){return"function"==typeof le?X=>X.pipe(Ie((me,ce)=>(0,P.D)(ye(me,ce)).pipe((0,u.U)((ke,we)=>le(me,ke,ce,we))),Y)):("number"==typeof le&&(Y=le),X=>X.lift(new Ee(ye,Y)))}class Ee{constructor(le,Y=Number.POSITIVE_INFINITY){this.project=le,this.concurrent=Y}call(le,Y){return Y.subscribe(new ie(le,this.project,this.concurrent))}}class ie extends k.Ds{constructor(le,Y,X=Number.POSITIVE_INFINITY){super(le),this.project=Y,this.concurrent=X,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(le){this.active<this.concurrent?this._tryNext(le):this.buffer.push(le)}_tryNext(le){let Y;const X=this.index++;try{Y=this.project(le,X)}catch(me){return void this.destination.error(me)}this.active++,this._innerSub(Y)}_innerSub(le){const Y=new k.IY(this),X=this.destination;X.add(Y);const me=(0,k.ft)(le,Y);me!==Y&&X.add(me)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(le){this.destination.next(le)}notifyComplete(){const le=this.buffer;this.active--,le.length>0?this._next(le.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},82536:(Kt,Je,O)=>{"use strict";O.d(Je,{O:()=>P});var u=O(71762);function P(Ie,Ee){return function(de){let ye;if(ye="function"==typeof Ie?Ie:function(){return Ie},"function"==typeof Ee)return de.lift(new k(ye,Ee));const le=Object.create(de,u.N);return le.source=de,le.subjectFactory=ye,le}}class k{constructor(Ee,ie){this.subjectFactory=Ee,this.selector=ie}call(Ee,ie){const{selector:de}=this,ye=this.subjectFactory(),le=de(ye).subscribe(Ee);return le.add(ie.subscribe(ye)),le}}},57770:(Kt,Je,O)=>{"use strict";O.d(Je,{QV:()=>k,ht:()=>Ee});var u=O(43489),P=O(29312);function k(de,ye=0){return function(Y){return Y.lift(new Ie(de,ye))}}class Ie{constructor(ye,le=0){this.scheduler=ye,this.delay=le}call(ye,le){return le.subscribe(new Ee(ye,this.scheduler,this.delay))}}class Ee extends u.L{constructor(ye,le,Y=0){super(ye),this.scheduler=le,this.delay=Y}static dispatch(ye){const{notification:le,destination:Y}=ye;le.observe(Y),this.unsubscribe()}scheduleMessage(ye){this.destination.add(this.scheduler.schedule(Ee.dispatch,this.delay,new ie(ye,this.destination)))}_next(ye){this.scheduleMessage(P.P.createNext(ye))}_error(ye){this.scheduleMessage(P.P.createError(ye)),this.unsubscribe()}_complete(){this.scheduleMessage(P.P.createComplete()),this.unsubscribe()}}class ie{constructor(ye,le){this.notification=ye,this.destination=le}}},74327:(Kt,Je,O)=>{"use strict";O.d(Je,{x:()=>P});var u=O(43489);function P(){return function(ie){return ie.lift(new k(ie))}}class k{constructor(ie){this.connectable=ie}call(ie,de){const{connectable:ye}=this;ye._refCount++;const le=new Ie(ie,ye),Y=de.subscribe(le);return le.closed||(le.connection=ye.connect()),Y}}class Ie extends u.L{constructor(ie,de){super(ie),this.connectable=de}_unsubscribe(){const{connectable:ie}=this;if(!ie)return void(this.connection=null);this.connectable=null;const de=ie._refCount;if(de<=0)return void(this.connection=null);if(ie._refCount=de-1,de>1)return void(this.connection=null);const{connection:ye}=this,le=ie._connection;this.connection=null,le&&(!ye||le===ye)&&le.unsubscribe()}}},92014:(Kt,Je,O)=>{"use strict";O.d(Je,{R:()=>P});var u=O(43489);function P(Ee,ie){let de=!1;return arguments.length>=2&&(de=!0),function(le){return le.lift(new k(Ee,ie,de))}}class k{constructor(ie,de,ye=!1){this.accumulator=ie,this.seed=de,this.hasSeed=ye}call(ie,de){return de.subscribe(new Ie(ie,this.accumulator,this.seed,this.hasSeed))}}class Ie extends u.L{constructor(ie,de,ye,le){super(ie),this.accumulator=de,this._seed=ye,this.hasSeed=le,this.index=0}get seed(){return this._seed}set seed(ie){this.hasSeed=!0,this._seed=ie}_next(ie){if(this.hasSeed)return this._tryNext(ie);this.seed=ie,this.destination.next(ie)}_tryNext(ie){const de=this.index++;let ye;try{ye=this.accumulator(this.seed,ie,de)}catch(le){this.destination.error(le)}this.seed=ye,this.destination.next(ye)}}},1059:(Kt,Je,O)=>{"use strict";O.d(Je,{O:()=>k});var u=O(61221),P=O(72866);function k(...Ie){const Ee=Ie[Ie.length-1];return(0,P.K)(Ee)?(Ie.pop(),ie=>(0,u.z)(Ie,ie,Ee)):ie=>(0,u.z)(Ie,ie)}},18915:(Kt,Je,O)=>{"use strict";O.d(Je,{R:()=>Le});var u=O(32916);let P=1;const k=Promise.resolve(),Ie={};function Ee(ut){return ut in Ie&&(delete Ie[ut],!0)}const ie={setImmediate(ut){const te=P++;return Ie[te]=!0,k.then(()=>Ee(te)&&ut()),te},clearImmediate(ut){Ee(ut)}};var ye=O(56686),Y=O(32268);const ce=new class X extends Y.v{flush(te){this.active=!0,this.scheduled=void 0;const{actions:Ke}=this;let Oe,et=-1,st=Ke.length;te=te||Ke.shift();do{if(Oe=te.execute(te.state,te.delay))break}while(++et<st&&(te=Ke.shift()));if(this.active=!1,Oe){for(;++et<st&&(te=Ke.shift());)te.unsubscribe();throw Oe}}}(class le extends ye.o{constructor(te,Ke){super(te,Ke),this.scheduler=te,this.work=Ke}requestAsyncId(te,Ke,Oe=0){return null!==Oe&&Oe>0?super.requestAsyncId(te,Ke,Oe):(te.actions.push(this),te.scheduled||(te.scheduled=ie.setImmediate(te.flush.bind(te,null))))}recycleAsyncId(te,Ke,Oe=0){if(null!==Oe&&Oe>0||null===Oe&&this.delay>0)return super.recycleAsyncId(te,Ke,Oe);0===te.actions.length&&(ie.clearImmediate(Ke),te.scheduled=void 0)}});var ke=O(66688);class pe extends u.y{constructor(te,Ke=0,Oe=ce){super(),this.source=te,this.delayTime=Ke,this.scheduler=Oe,(!function we(ut){return!(0,ke.k)(ut)&&ut-parseFloat(ut)+1>=0}(Ke)||Ke<0)&&(this.delayTime=0),(!Oe||"function"!=typeof Oe.schedule)&&(this.scheduler=ce)}static create(te,Ke=0,Oe=ce){return new pe(te,Ke,Oe)}static dispatch(te){const{source:Ke,subscriber:Oe}=te;return this.add(Ke.subscribe(Oe))}_subscribe(te){return this.scheduler.schedule(pe.dispatch,this.delayTime,{source:this.source,subscriber:te})}}function Le(ut,te=0){return function(Oe){return Oe.lift(new Te(ut,te))}}class Te{constructor(te,Ke){this.scheduler=te,this.delay=Ke}call(te,Ke){return new pe(Ke,this.delay,this.scheduler).subscribe(te)}}},87545:(Kt,Je,O)=>{"use strict";O.d(Je,{w:()=>Ie});var u=O(24850),P=O(5254),k=O(41177);function Ie(de,ye){return"function"==typeof ye?le=>le.pipe(Ie((Y,X)=>(0,P.D)(de(Y,X)).pipe((0,u.U)((me,ce)=>ye(Y,me,X,ce))))):le=>le.lift(new Ee(de))}class Ee{constructor(ye){this.project=ye}call(ye,le){return le.subscribe(new ie(ye,this.project))}}class ie extends k.Ds{constructor(ye,le){super(ye),this.project=le,this.index=0}_next(ye){let le;const Y=this.index++;try{le=this.project(ye,Y)}catch(X){return void this.destination.error(X)}this._innerSub(le)}_innerSub(ye){const le=this.innerSubscription;le&&le.unsubscribe();const Y=new k.IY(this),X=this.destination;X.add(Y),this.innerSubscription=(0,k.ft)(ye,Y),this.innerSubscription!==Y&&X.add(this.innerSubscription)}_complete(){const{innerSubscription:ye}=this;(!ye||ye.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(ye){this.destination.next(ye)}}},72986:(Kt,Je,O)=>{"use strict";O.d(Je,{q:()=>Ie});var u=O(43489),P=O(94231),k=O(68896);function Ie(de){return ye=>0===de?(0,k.c)():ye.lift(new Ee(de))}class Ee{constructor(ye){if(this.total=ye,this.total<0)throw new P.W}call(ye,le){return le.subscribe(new ie(ye,this.total))}}class ie extends u.L{constructor(ye,le){super(ye),this.total=le,this.count=0}_next(ye){const le=this.total,Y=++this.count;Y<=le&&(this.destination.next(ye),Y===le&&(this.destination.complete(),this.unsubscribe()))}}},2994:(Kt,Je,O)=>{"use strict";O.d(Je,{b:()=>Ie});var u=O(43489),P=O(67876),k=O(67043);function Ie(de,ye,le){return function(X){return X.lift(new Ee(de,ye,le))}}class Ee{constructor(ye,le,Y){this.nextOrObserver=ye,this.error=le,this.complete=Y}call(ye,le){return le.subscribe(new ie(ye,this.nextOrObserver,this.error,this.complete))}}class ie extends u.L{constructor(ye,le,Y,X){super(ye),this._tapNext=P.Z,this._tapError=P.Z,this._tapComplete=P.Z,this._tapError=Y||P.Z,this._tapComplete=X||P.Z,(0,k.m)(le)?(this._context=this,this._tapNext=le):le&&(this._context=le,this._tapNext=le.next||P.Z,this._tapError=le.error||P.Z,this._tapComplete=le.complete||P.Z)}_next(ye){try{this._tapNext.call(this._context,ye)}catch(le){return void this.destination.error(le)}this.destination.next(ye)}_error(ye){try{this._tapError.call(this._context,ye)}catch(le){return void this.destination.error(le)}this.destination.error(ye)}_complete(){try{this._tapComplete.call(this._context)}catch(ye){return void this.destination.error(ye)}return this.destination.complete()}}},34907:(Kt,Je,O)=>{"use strict";O.d(Je,{T:()=>k});var u=O(84450),P=O(43489);function k(de=ie){return ye=>ye.lift(new Ie(de))}class Ie{constructor(ye){this.errorFactory=ye}call(ye,le){return le.subscribe(new Ee(ye,this.errorFactory))}}class Ee extends P.L{constructor(ye,le){super(ye),this.errorFactory=le,this.hasValue=!1}_next(ye){this.hasValue=!0,this.destination.next(ye)}_complete(){if(this.hasValue)return this.destination.complete();{let ye;try{ye=this.errorFactory()}catch(le){ye=le}this.destination.error(ye)}}}function ie(){return new u.K}},66454:(Kt,Je,O)=>{"use strict";O.d(Je,{r:()=>k});var u=O(32916),P=O(42654);function k(Ie,Ee){return new u.y(ie=>{const de=new P.w;let ye=0;return de.add(Ee.schedule(function(){ye!==Ie.length?(ie.next(Ie[ye++]),ie.closed||de.add(this.schedule())):ie.complete()})),de})}},56686:(Kt,Je,O)=>{"use strict";O.d(Je,{o:()=>k});var u=O(42654);class P extends u.w{constructor(Ee,ie){super()}schedule(Ee,ie=0){return this}}class k extends P{constructor(Ee,ie){super(Ee,ie),this.scheduler=Ee,this.work=ie,this.pending=!1}schedule(Ee,ie=0){if(this.closed)return this;this.state=Ee;const de=this.id,ye=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(ye,de,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(ye,this.id,ie),this}requestAsyncId(Ee,ie,de=0){return setInterval(Ee.flush.bind(Ee,this),de)}recycleAsyncId(Ee,ie,de=0){if(null!==de&&this.delay===de&&!1===this.pending)return ie;clearInterval(ie)}execute(Ee,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(Ee,ie);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,ie){let ye,de=!1;try{this.work(Ee)}catch(le){de=!0,ye=!!le&&le||new Error(le)}if(de)return this.unsubscribe(),ye}_unsubscribe(){const Ee=this.id,ie=this.scheduler,de=ie.actions,ye=de.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ye&&de.splice(ye,1),null!=Ee&&(this.id=this.recycleAsyncId(ie,Ee,null)),this.delay=null}}},32268:(Kt,Je,O)=>{"use strict";O.d(Je,{v:()=>P});let u=(()=>{class k{constructor(Ee,ie=k.now){this.SchedulerAction=Ee,this.now=ie}schedule(Ee,ie=0,de){return new this.SchedulerAction(this,Ee).schedule(de,ie)}}return k.now=()=>Date.now(),k})();class P extends u{constructor(Ie,Ee=u.now){super(Ie,()=>P.delegate&&P.delegate!==this?P.delegate.now():Ee()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ie,Ee=0,ie){return P.delegate&&P.delegate!==this?P.delegate.schedule(Ie,Ee,ie):super.schedule(Ie,Ee,ie)}flush(Ie){const{actions:Ee}=this;if(this.active)return void Ee.push(Ie);let ie;this.active=!0;do{if(ie=Ie.execute(Ie.state,Ie.delay))break}while(Ie=Ee.shift());if(this.active=!1,ie){for(;Ie=Ee.shift();)Ie.unsubscribe();throw ie}}}},20353:(Kt,Je,O)=>{"use strict";O.d(Je,{z:()=>k,P:()=>Ie});var u=O(56686);const k=new(O(32268).v)(u.o),Ie=k},30341:(Kt,Je,O)=>{"use strict";O.d(Je,{c:()=>ie,N:()=>Ee});var u=O(56686),k=O(32268);const Ee=new class Ie extends k.v{}(class P extends u.o{constructor(ye,le){super(ye,le),this.scheduler=ye,this.work=le}schedule(ye,le=0){return le>0?super.schedule(ye,le):(this.delay=le,this.state=ye,this.scheduler.flush(this),this)}execute(ye,le){return le>0||this.closed?super.execute(ye,le):this._execute(ye,le)}requestAsyncId(ye,le,Y=0){return null!==Y&&Y>0||null===Y&&this.delay>0?super.requestAsyncId(ye,le,Y):ye.flush(this)}}),ie=Ee},5430:(Kt,Je,O)=>{"use strict";O.d(Je,{hZ:()=>P});const P=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},93821:(Kt,Je,O)=>{"use strict";O.d(Je,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},57668:(Kt,Je,O)=>{"use strict";O.d(Je,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},94231:(Kt,Je,O)=>{"use strict";O.d(Je,{W:()=>P});const P=(()=>{function k(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return k.prototype=Object.create(Error.prototype),k})()},84450:(Kt,Je,O)=>{"use strict";O.d(Je,{K:()=>P});const P=(()=>{function k(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return k.prototype=Object.create(Error.prototype),k})()},95279:(Kt,Je,O)=>{"use strict";O.d(Je,{N:()=>P});const P=(()=>{function k(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return k.prototype=Object.create(Error.prototype),k})()},22782:(Kt,Je,O)=>{"use strict";function u(P){setTimeout(()=>{throw P},0)}O.d(Je,{z:()=>u})},35379:(Kt,Je,O)=>{"use strict";function u(P){return P}O.d(Je,{y:()=>u})},66688:(Kt,Je,O)=>{"use strict";O.d(Je,{k:()=>u});const u=Array.isArray||(P=>P&&"number"==typeof P.length)},58515:(Kt,Je,O)=>{"use strict";O.d(Je,{z:()=>u});const u=P=>P&&"number"==typeof P.length&&"function"!=typeof P},67043:(Kt,Je,O)=>{"use strict";function u(P){return"function"==typeof P}O.d(Je,{m:()=>u})},57830:(Kt,Je,O)=>{"use strict";function u(P){return null!==P&&"object"==typeof P}O.d(Je,{K:()=>u})},98955:(Kt,Je,O)=>{"use strict";function u(P){return!!P&&"function"!=typeof P.subscribe&&"function"==typeof P.then}O.d(Je,{t:()=>u})},72866:(Kt,Je,O)=>{"use strict";function u(P){return P&&"function"==typeof P.schedule}O.d(Je,{K:()=>u})},67876:(Kt,Je,O)=>{"use strict";function u(){}O.d(Je,{Z:()=>u})},59249:(Kt,Je,O)=>{"use strict";O.d(Je,{s:()=>X});var u=O(13650),P=O(22782),Ie=O(5430),ie=O(93821),ye=O(58515),le=O(98955),Y=O(57830);const X=me=>{if(me&&"function"==typeof me[ie.L])return(me=>ce=>{const ke=me[ie.L]();if("function"!=typeof ke.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ke.subscribe(ce)})(me);if((0,ye.z)(me))return(0,u.V)(me);if((0,le.t)(me))return(me=>ce=>(me.then(ke=>{ce.closed||(ce.next(ke),ce.complete())},ke=>ce.error(ke)).then(null,P.z),ce))(me);if(me&&"function"==typeof me[Ie.hZ])return(me=>ce=>{const ke=me[Ie.hZ]();for(;;){let we;try{we=ke.next()}catch(pe){return ce.error(pe),ce}if(we.done){ce.complete();break}if(ce.next(we.value),ce.closed)break}return"function"==typeof ke.return&&ce.add(()=>{ke.return&&ke.return()}),ce})(me);{const ke=`You provided ${(0,Y.K)(me)?"an invalid object":`'${me}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ke)}}},13650:(Kt,Je,O)=>{"use strict";O.d(Je,{V:()=>u});const u=P=>k=>{for(let Ie=0,Ee=P.length;Ie<Ee&&!k.closed;Ie++)k.next(P[Ie]);k.complete()}},50863:(Kt,Je,O)=>{var u={"./ion-accordion_2.entry.js":[89654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[11118,8592,1118],"./ion-app_8.entry.js":[80053,8592,53],"./ion-avatar_3.entry.js":[54753,8592,4753],"./ion-back-button.entry.js":[92073,8592,2073],"./ion-backdrop.entry.js":[98939,8939],"./ion-breadcrumb_2.entry.js":[47544,8592,7544],"./ion-button_2.entry.js":[15652,8592,5652],"./ion-card_5.entry.js":[50388,8592,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[10657,8592,657],"./ion-col_3.entry.js":[19824,9824],"./ion-datetime_3.entry.js":[54959,8592,4959],"./ion-fab_3.entry.js":[65836,8592,5836],"./ion-img.entry.js":[71033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[51217,8592,1217],"./ion-item-option_3.entry.js":[52933,8592,2933],"./ion-item_8.entry.js":[94711,8592,4711],"./ion-loading.entry.js":[79434,8592,9434],"./ion-menu_3.entry.js":[38136,8592,8136],"./ion-modal.entry.js":[42349,8592,2349],"./ion-nav_2.entry.js":[45349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[83804,8592,3804],"./ion-progress-bar.entry.js":[54174,8592,4174],"./ion-radio_2.entry.js":[24432,8592,4432],"./ion-range.entry.js":[31709,8592,1709],"./ion-refresher_2.entry.js":[93326,8592,3326],"./ion-reorder_2.entry.js":[93583,8592,3583],"./ion-ripple-effect.entry.js":[99958,9958],"./ion-route_4.entry.js":[4330,8592,4330],"./ion-searchbar.entry.js":[98628,8592,8628],"./ion-segment_2.entry.js":[59325,8592,9325],"./ion-select_3.entry.js":[12773,8592,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[44908,8592,4908],"./ion-split-pane.entry.js":[39536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[91536,8592,1536],"./ion-text.entry.js":[74376,8592,4376],"./ion-textarea.entry.js":[56560,8592,6560],"./ion-toast.entry.js":[76120,8592,6120],"./ion-toggle.entry.js":[85168,8592,5168],"./ion-virtual-scroll.entry.js":[32289,2289]};function P(k){if(!O.o(u,k))return Promise.resolve().then(()=>{var ie=new Error("Cannot find module '"+k+"'");throw ie.code="MODULE_NOT_FOUND",ie});var Ie=u[k],Ee=Ie[0];return Promise.all(Ie.slice(1).map(O.e)).then(()=>O(Ee))}P.keys=()=>Object.keys(u),P.id=50863,Kt.exports=P},70655:(Kt,Je,O)=>{"use strict";function Ie(ae,Se){var he={};for(var Ae in ae)Object.prototype.hasOwnProperty.call(ae,Ae)&&Se.indexOf(Ae)<0&&(he[Ae]=ae[Ae]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Ce=0;for(Ae=Object.getOwnPropertySymbols(ae);Ce<Ae.length;Ce++)Se.indexOf(Ae[Ce])<0&&Object.prototype.propertyIsEnumerable.call(ae,Ae[Ce])&&(he[Ae[Ce]]=ae[Ae[Ce]])}return he}function Ee(ae,Se,he,Ae){var Nt,Ce=arguments.length,$e=Ce<3?Se:null===Ae?Ae=Object.getOwnPropertyDescriptor(Se,he):Ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$e=Reflect.decorate(ae,Se,he,Ae);else for(var Wt=ae.length-1;Wt>=0;Wt--)(Nt=ae[Wt])&&($e=(Ce<3?Nt($e):Ce>3?Nt(Se,he,$e):Nt(Se,he))||$e);return Ce>3&&$e&&Object.defineProperty(Se,he,$e),$e}function ye(ae,Se,he,Ae){return new(he||(he=Promise))(function($e,Nt){function Wt(nt){try{qe(Ae.next(nt))}catch(vt){Nt(vt)}}function dt(nt){try{qe(Ae.throw(nt))}catch(vt){Nt(vt)}}function qe(nt){nt.done?$e(nt.value):function Ce($e){return $e instanceof he?$e:new he(function(Nt){Nt($e)})}(nt.value).then(Wt,dt)}qe((Ae=Ae.apply(ae,Se||[])).next())})}O.d(Je,{_T:()=>Ie,gn:()=>Ee,mG:()=>ye})},69808:(Kt,Je,O)=>{"use strict";O.d(Je,{mr:()=>ut,Ov:()=>Ze,ez:()=>Ne,K0:()=>de,Do:()=>Ke,V_:()=>Y,Ye:()=>Oe,S$:()=>Le,sg:()=>yr,O5:()=>q,tP:()=>Nn,b0:()=>te,lw:()=>ye,EM:()=>$r,JF:()=>ks,NF:()=>kr,PM:()=>Ci,w_:()=>ie,bD:()=>it,q:()=>k,Mx:()=>Zr,HT:()=>Ee});var u=O(29863);let P=null;function k(){return P}function Ee(L){P||(P=L)}class ie{}const de=new u.OlP("DocumentToken");let ye=(()=>{class L{historyGo(N){throw new Error("Not implemented")}}return L.\u0275fac=function(N){return new(N||L)},L.\u0275prov=u.Yz7({token:L,factory:function(){return function le(){return(0,u.LFG)(X)}()},providedIn:"platform"}),L})();const Y=new u.OlP("Location Initialized");let X=(()=>{class L extends ye{constructor(N){super(),this._doc=N,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(N){const oe=k().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("popstate",N,!1),()=>oe.removeEventListener("popstate",N)}onHashChange(N){const oe=k().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("hashchange",N,!1),()=>oe.removeEventListener("hashchange",N)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(N){this.location.pathname=N}pushState(N,oe,We){me()?this._history.pushState(N,oe,We):this.location.hash=We}replaceState(N,oe,We){me()?this._history.replaceState(N,oe,We):this.location.hash=We}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return L.\u0275fac=function(N){return new(N||L)(u.LFG(de))},L.\u0275prov=u.Yz7({token:L,factory:function(){return function ce(){return new X((0,u.LFG)(de))}()},providedIn:"platform"}),L})();function me(){return!!window.history.pushState}function ke(L,J){if(0==L.length)return J;if(0==J.length)return L;let N=0;return L.endsWith("/")&&N++,J.startsWith("/")&&N++,2==N?L+J.substring(1):1==N?L+J:L+"/"+J}function we(L){const J=L.match(/#|\?|$/),N=J&&J.index||L.length;return L.slice(0,N-("/"===L[N-1]?1:0))+L.slice(N)}function pe(L){return L&&"?"!==L[0]?"?"+L:L}let Le=(()=>{class L{historyGo(N){throw new Error("Not implemented")}}return L.\u0275fac=function(N){return new(N||L)},L.\u0275prov=u.Yz7({token:L,factory:function(){return function Te(L){const J=(0,u.LFG)(de).location;return new te((0,u.LFG)(ye),J&&J.origin||"")}()},providedIn:"root"}),L})();const ut=new u.OlP("appBaseHref");let te=(()=>{class L extends Le{constructor(N,oe){if(super(),this._platformLocation=N,this._removeListenerFns=[],null==oe&&(oe=this._platformLocation.getBaseHrefFromDOM()),null==oe)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=oe}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return ke(this._baseHref,N)}path(N=!1){const oe=this._platformLocation.pathname+pe(this._platformLocation.search),We=this._platformLocation.hash;return We&&N?`${oe}${We}`:oe}pushState(N,oe,We,gt){const Yt=this.prepareExternalUrl(We+pe(gt));this._platformLocation.pushState(N,oe,Yt)}replaceState(N,oe,We,gt){const Yt=this.prepareExternalUrl(We+pe(gt));this._platformLocation.replaceState(N,oe,Yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(N=0){var oe,We;null===(We=(oe=this._platformLocation).historyGo)||void 0===We||We.call(oe,N)}}return L.\u0275fac=function(N){return new(N||L)(u.LFG(ye),u.LFG(ut,8))},L.\u0275prov=u.Yz7({token:L,factory:L.\u0275fac}),L})(),Ke=(()=>{class L extends Le{constructor(N,oe){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=oe&&(this._baseHref=oe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let oe=this._platformLocation.hash;return null==oe&&(oe="#"),oe.length>0?oe.substring(1):oe}prepareExternalUrl(N){const oe=ke(this._baseHref,N);return oe.length>0?"#"+oe:oe}pushState(N,oe,We,gt){let Yt=this.prepareExternalUrl(We+pe(gt));0==Yt.length&&(Yt=this._platformLocation.pathname),this._platformLocation.pushState(N,oe,Yt)}replaceState(N,oe,We,gt){let Yt=this.prepareExternalUrl(We+pe(gt));0==Yt.length&&(Yt=this._platformLocation.pathname),this._platformLocation.replaceState(N,oe,Yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(N=0){var oe,We;null===(We=(oe=this._platformLocation).historyGo)||void 0===We||We.call(oe,N)}}return L.\u0275fac=function(N){return new(N||L)(u.LFG(ye),u.LFG(ut,8))},L.\u0275prov=u.Yz7({token:L,factory:L.\u0275fac}),L})(),Oe=(()=>{class L{constructor(N,oe){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=N;const We=this._platformStrategy.getBaseHref();this._platformLocation=oe,this._baseHref=we(lt(We)),this._platformStrategy.onPopState(gt=>{this._subject.emit({url:this.path(!0),pop:!0,state:gt.state,type:gt.type})})}path(N=!1){return this.normalize(this._platformStrategy.path(N))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(N,oe=""){return this.path()==this.normalize(N+pe(oe))}normalize(N){return L.stripTrailingSlash(function st(L,J){return L&&J.startsWith(L)?J.substring(L.length):J}(this._baseHref,lt(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._platformStrategy.prepareExternalUrl(N)}go(N,oe="",We=null){this._platformStrategy.pushState(We,"",N,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+pe(oe)),We)}replaceState(N,oe="",We=null){this._platformStrategy.replaceState(We,"",N,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+pe(oe)),We)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(N=0){var oe,We;null===(We=(oe=this._platformStrategy).historyGo)||void 0===We||We.call(oe,N)}onUrlChange(N){this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(oe=>{this._notifyUrlChangeListeners(oe.url,oe.state)}))}_notifyUrlChangeListeners(N="",oe){this._urlChangeListeners.forEach(We=>We(N,oe))}subscribe(N,oe,We){return this._subject.subscribe({next:N,error:oe,complete:We})}}return L.normalizeQueryParams=pe,L.joinWithSlash=ke,L.stripTrailingSlash=we,L.\u0275fac=function(N){return new(N||L)(u.LFG(Le),u.LFG(ye))},L.\u0275prov=u.Yz7({token:L,factory:function(){return function et(){return new Oe((0,u.LFG)(Le),(0,u.LFG)(ye))}()},providedIn:"root"}),L})();function lt(L){return L.replace(/\/index.html$/,"")}function Zr(L,J){J=encodeURIComponent(J);for(const N of L.split(";")){const oe=N.indexOf("="),[We,gt]=-1==oe?[N,""]:[N.slice(0,oe),N.slice(oe+1)];if(We.trim()===J)return decodeURIComponent(gt)}return null}class gi{constructor(J,N,oe,We){this.$implicit=J,this.ngForOf=N,this.index=oe,this.count=We}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yr=(()=>{class L{constructor(N,oe,We){this._viewContainer=N,this._template=oe,this._differs=We,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const oe=this._viewContainer;N.forEachOperation((We,gt,Yt)=>{if(null==We.previousIndex)oe.createEmbeddedView(this._template,new gi(We.item,this._ngForOf,-1,-1),null===Yt?void 0:Yt);else if(null==Yt)oe.remove(null===gt?void 0:gt);else if(null!==gt){const _n=oe.get(gt);oe.move(_n,Yt),si(_n,We)}});for(let We=0,gt=oe.length;We<gt;We++){const _n=oe.get(We).context;_n.index=We,_n.count=gt,_n.ngForOf=this._ngForOf}N.forEachIdentityChange(We=>{si(oe.get(We.currentIndex),We)})}static ngTemplateContextGuard(N,oe){return!0}}return L.\u0275fac=function(N){return new(N||L)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},L.\u0275dir=u.lG2({type:L,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),L})();function si(L,J){L.context.$implicit=J.item}let q=(()=>{class L{constructor(N,oe){this._viewContainer=N,this._context=new ge,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=oe}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){ee("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){ee("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,oe){return!0}}return L.\u0275fac=function(N){return new(N||L)(u.Y36(u.s_b),u.Y36(u.Rgc))},L.\u0275dir=u.lG2({type:L,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),L})();class ge{constructor(){this.$implicit=null,this.ngIf=null}}function ee(L,J){if(J&&!J.createEmbeddedView)throw new Error(`${L} must be a TemplateRef, but received '${(0,u.AaK)(J)}'.`)}let Nn=(()=>{class L{constructor(N){this._viewContainerRef=N,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(N){if(N.ngTemplateOutlet){const oe=this._viewContainerRef;this._viewRef&&oe.remove(oe.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?oe.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&N.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return L.\u0275fac=function(N){return new(N||L)(u.Y36(u.s_b))},L.\u0275dir=u.lG2({type:L,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[u.TTD]}),L})();class Lr{createSubscription(J,N){return J.subscribe({next:N,error:oe=>{throw oe}})}dispose(J){J.unsubscribe()}onDestroy(J){J.unsubscribe()}}class ci{createSubscription(J,N){return J.then(N,oe=>{throw oe})}dispose(J){}onDestroy(J){}}const mi=new ci,gs=new Lr;let Ze=(()=>{class L{constructor(N){this._ref=N,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(N){return this._obj?N!==this._obj?(this._dispose(),this.transform(N)):this._latestValue:(N&&this._subscribe(N),this._latestValue)}_subscribe(N){this._obj=N,this._strategy=this._selectStrategy(N),this._subscription=this._strategy.createSubscription(N,oe=>this._updateLatestValue(N,oe))}_selectStrategy(N){if((0,u.QGY)(N))return mi;if((0,u.F4k)(N))return gs;throw function rr(L,J){return new u.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(N,oe){N===this._obj&&(this._latestValue=oe,this._ref.markForCheck())}}return L.\u0275fac=function(N){return new(N||L)(u.Y36(u.sBO,16))},L.\u0275pipe=u.Yjl({name:"async",type:L,pure:!1}),L})(),Ne=(()=>{class L{}return L.\u0275fac=function(N){return new(N||L)},L.\u0275mod=u.oAB({type:L}),L.\u0275inj=u.cJS({}),L})();const it="browser";function kr(L){return L===it}function Ci(L){return"server"===L}let $r=(()=>{class L{}return L.\u0275prov=(0,u.Yz7)({token:L,providedIn:"root",factory:()=>new Wi((0,u.LFG)(de),window)}),L})();class Wi{constructor(J,N){this.document=J,this.window=N,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(J){this.supportsScrolling()&&this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){if(!this.supportsScrolling())return;const N=function ws(L,J){const N=L.getElementById(J)||L.getElementsByName(J)[0];if(N)return N;if("function"==typeof L.createTreeWalker&&L.body&&(L.body.createShadowRoot||L.body.attachShadow)){const oe=L.createTreeWalker(L.body,NodeFilter.SHOW_ELEMENT);let We=oe.currentNode;for(;We;){const gt=We.shadowRoot;if(gt){const Yt=gt.getElementById(J)||gt.querySelector(`[name="${J}"]`);if(Yt)return Yt}We=oe.nextNode()}}return null}(this.document,J);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(J){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=J)}}scrollToElement(J){const N=J.getBoundingClientRect(),oe=N.left+this.window.pageXOffset,We=N.top+this.window.pageYOffset,gt=this.offset();this.window.scrollTo(oe-gt[0],We-gt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const J=vi(this.window.history)||vi(Object.getPrototypeOf(this.window.history));return!(!J||!J.writable&&!J.set)}catch(J){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(J){return!1}}}function vi(L){return Object.getOwnPropertyDescriptor(L,"scrollRestoration")}class ks{}},40520:(Kt,Je,O)=>{"use strict";O.d(Je,{TP:()=>Wt,eN:()=>$e,JF:()=>rn,WM:()=>Y});var u=O(69808),P=O(29863),k=O(21086),Ie=O(32916),Ee=O(21406),ie=O(92198),de=O(24850);class ye{}class le{}class Y{constructor(Ue){this.normalizedNames=new Map,this.lazyUpdate=null,Ue?this.lazyInit="string"==typeof Ue?()=>{this.headers=new Map,Ue.split("\n").forEach(je=>{const Dt=je.indexOf(":");if(Dt>0){const wt=je.slice(0,Dt),zt=wt.toLowerCase(),en=je.slice(Dt+1).trim();this.maybeSetNormalizedName(wt,zt),this.headers.has(zt)?this.headers.get(zt).push(en):this.headers.set(zt,[en])}})}:()=>{this.headers=new Map,Object.keys(Ue).forEach(je=>{let Dt=Ue[je];const wt=je.toLowerCase();"string"==typeof Dt&&(Dt=[Dt]),Dt.length>0&&(this.headers.set(wt,Dt),this.maybeSetNormalizedName(je,wt))})}:this.headers=new Map}has(Ue){return this.init(),this.headers.has(Ue.toLowerCase())}get(Ue){this.init();const je=this.headers.get(Ue.toLowerCase());return je&&je.length>0?je[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ue){return this.init(),this.headers.get(Ue.toLowerCase())||null}append(Ue,je){return this.clone({name:Ue,value:je,op:"a"})}set(Ue,je){return this.clone({name:Ue,value:je,op:"s"})}delete(Ue,je){return this.clone({name:Ue,value:je,op:"d"})}maybeSetNormalizedName(Ue,je){this.normalizedNames.has(je)||this.normalizedNames.set(je,Ue)}init(){this.lazyInit&&(this.lazyInit instanceof Y?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ue=>this.applyUpdate(Ue)),this.lazyUpdate=null))}copyFrom(Ue){Ue.init(),Array.from(Ue.headers.keys()).forEach(je=>{this.headers.set(je,Ue.headers.get(je)),this.normalizedNames.set(je,Ue.normalizedNames.get(je))})}clone(Ue){const je=new Y;return je.lazyInit=this.lazyInit&&this.lazyInit instanceof Y?this.lazyInit:this,je.lazyUpdate=(this.lazyUpdate||[]).concat([Ue]),je}applyUpdate(Ue){const je=Ue.name.toLowerCase();switch(Ue.op){case"a":case"s":let Dt=Ue.value;if("string"==typeof Dt&&(Dt=[Dt]),0===Dt.length)return;this.maybeSetNormalizedName(Ue.name,je);const wt=("a"===Ue.op?this.headers.get(je):void 0)||[];wt.push(...Dt),this.headers.set(je,wt);break;case"d":const zt=Ue.value;if(zt){let en=this.headers.get(je);if(!en)return;en=en.filter(wn=>-1===zt.indexOf(wn)),0===en.length?(this.headers.delete(je),this.normalizedNames.delete(je)):this.headers.set(je,en)}else this.headers.delete(je),this.normalizedNames.delete(je)}}forEach(Ue){this.init(),Array.from(this.normalizedNames.keys()).forEach(je=>Ue(this.normalizedNames.get(je),this.headers.get(je)))}}class X{encodeKey(Ue){return we(Ue)}encodeValue(Ue){return we(Ue)}decodeKey(Ue){return decodeURIComponent(Ue)}decodeValue(Ue){return decodeURIComponent(Ue)}}const ce=/%(\d[a-f0-9])/gi,ke={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function we(St){return encodeURIComponent(St).replace(ce,(Ue,je)=>{var Dt;return null!==(Dt=ke[je])&&void 0!==Dt?Dt:Ue})}function pe(St){return`${St}`}class Le{constructor(Ue={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ue.encoder||new X,Ue.fromString){if(Ue.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function me(St,Ue){const je=new Map;return St.length>0&&St.replace(/^\?/,"").split("&").forEach(wt=>{const zt=wt.indexOf("="),[en,wn]=-1==zt?[Ue.decodeKey(wt),""]:[Ue.decodeKey(wt.slice(0,zt)),Ue.decodeValue(wt.slice(zt+1))],qn=je.get(en)||[];qn.push(wn),je.set(en,qn)}),je}(Ue.fromString,this.encoder)}else Ue.fromObject?(this.map=new Map,Object.keys(Ue.fromObject).forEach(je=>{const Dt=Ue.fromObject[je];this.map.set(je,Array.isArray(Dt)?Dt:[Dt])})):this.map=null}has(Ue){return this.init(),this.map.has(Ue)}get(Ue){this.init();const je=this.map.get(Ue);return je?je[0]:null}getAll(Ue){return this.init(),this.map.get(Ue)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ue,je){return this.clone({param:Ue,value:je,op:"a"})}appendAll(Ue){const je=[];return Object.keys(Ue).forEach(Dt=>{const wt=Ue[Dt];Array.isArray(wt)?wt.forEach(zt=>{je.push({param:Dt,value:zt,op:"a"})}):je.push({param:Dt,value:wt,op:"a"})}),this.clone(je)}set(Ue,je){return this.clone({param:Ue,value:je,op:"s"})}delete(Ue,je){return this.clone({param:Ue,value:je,op:"d"})}toString(){return this.init(),this.keys().map(Ue=>{const je=this.encoder.encodeKey(Ue);return this.map.get(Ue).map(Dt=>je+"="+this.encoder.encodeValue(Dt)).join("&")}).filter(Ue=>""!==Ue).join("&")}clone(Ue){const je=new Le({encoder:this.encoder});return je.cloneFrom=this.cloneFrom||this,je.updates=(this.updates||[]).concat(Ue),je}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ue=>this.map.set(Ue,this.cloneFrom.map.get(Ue))),this.updates.forEach(Ue=>{switch(Ue.op){case"a":case"s":const je=("a"===Ue.op?this.map.get(Ue.param):void 0)||[];je.push(pe(Ue.value)),this.map.set(Ue.param,je);break;case"d":if(void 0===Ue.value){this.map.delete(Ue.param);break}{let Dt=this.map.get(Ue.param)||[];const wt=Dt.indexOf(pe(Ue.value));-1!==wt&&Dt.splice(wt,1),Dt.length>0?this.map.set(Ue.param,Dt):this.map.delete(Ue.param)}}}),this.cloneFrom=this.updates=null)}}class ut{constructor(){this.map=new Map}set(Ue,je){return this.map.set(Ue,je),this}get(Ue){return this.map.has(Ue)||this.map.set(Ue,Ue.defaultValue()),this.map.get(Ue)}delete(Ue){return this.map.delete(Ue),this}has(Ue){return this.map.has(Ue)}keys(){return this.map.keys()}}function Ke(St){return"undefined"!=typeof ArrayBuffer&&St instanceof ArrayBuffer}function Oe(St){return"undefined"!=typeof Blob&&St instanceof Blob}function et(St){return"undefined"!=typeof FormData&&St instanceof FormData}class lt{constructor(Ue,je,Dt,wt){let zt;if(this.url=je,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ue.toUpperCase(),function te(St){switch(St){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||wt?(this.body=void 0!==Dt?Dt:null,zt=wt):zt=Dt,zt&&(this.reportProgress=!!zt.reportProgress,this.withCredentials=!!zt.withCredentials,zt.responseType&&(this.responseType=zt.responseType),zt.headers&&(this.headers=zt.headers),zt.context&&(this.context=zt.context),zt.params&&(this.params=zt.params)),this.headers||(this.headers=new Y),this.context||(this.context=new ut),this.params){const en=this.params.toString();if(0===en.length)this.urlWithParams=je;else{const wn=je.indexOf("?");this.urlWithParams=je+(-1===wn?"?":wn<je.length-1?"&":"")+en}}else this.params=new Le,this.urlWithParams=je}serializeBody(){return null===this.body?null:Ke(this.body)||Oe(this.body)||et(this.body)||function st(St){return"undefined"!=typeof URLSearchParams&&St instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Le?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||et(this.body)?null:Oe(this.body)?this.body.type||null:Ke(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Le?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ue={}){var je;const Dt=Ue.method||this.method,wt=Ue.url||this.url,zt=Ue.responseType||this.responseType,en=void 0!==Ue.body?Ue.body:this.body,wn=void 0!==Ue.withCredentials?Ue.withCredentials:this.withCredentials,qn=void 0!==Ue.reportProgress?Ue.reportProgress:this.reportProgress;let Hn=Ue.headers||this.headers,Vr=Ue.params||this.params;const hr=null!==(je=Ue.context)&&void 0!==je?je:this.context;return void 0!==Ue.setHeaders&&(Hn=Object.keys(Ue.setHeaders).reduce((cn,fn)=>cn.set(fn,Ue.setHeaders[fn]),Hn)),Ue.setParams&&(Vr=Object.keys(Ue.setParams).reduce((cn,fn)=>cn.set(fn,Ue.setParams[fn]),Vr)),new lt(Dt,wt,en,{params:Vr,headers:Hn,context:hr,reportProgress:qn,responseType:zt,withCredentials:wn})}}var Pe=(()=>((Pe=Pe||{})[Pe.Sent=0]="Sent",Pe[Pe.UploadProgress=1]="UploadProgress",Pe[Pe.ResponseHeader=2]="ResponseHeader",Pe[Pe.DownloadProgress=3]="DownloadProgress",Pe[Pe.Response=4]="Response",Pe[Pe.User=5]="User",Pe))();class ae{constructor(Ue,je=200,Dt="OK"){this.headers=Ue.headers||new Y,this.status=void 0!==Ue.status?Ue.status:je,this.statusText=Ue.statusText||Dt,this.url=Ue.url||null,this.ok=this.status>=200&&this.status<300}}class Se extends ae{constructor(Ue={}){super(Ue),this.type=Pe.ResponseHeader}clone(Ue={}){return new Se({headers:Ue.headers||this.headers,status:void 0!==Ue.status?Ue.status:this.status,statusText:Ue.statusText||this.statusText,url:Ue.url||this.url||void 0})}}class he extends ae{constructor(Ue={}){super(Ue),this.type=Pe.Response,this.body=void 0!==Ue.body?Ue.body:null}clone(Ue={}){return new he({body:void 0!==Ue.body?Ue.body:this.body,headers:Ue.headers||this.headers,status:void 0!==Ue.status?Ue.status:this.status,statusText:Ue.statusText||this.statusText,url:Ue.url||this.url||void 0})}}class Ae extends ae{constructor(Ue){super(Ue,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ue.url||"(unknown url)"}`:`Http failure response for ${Ue.url||"(unknown url)"}: ${Ue.status} ${Ue.statusText}`,this.error=Ue.error||null}}function Ce(St,Ue){return{body:Ue,headers:St.headers,context:St.context,observe:St.observe,params:St.params,reportProgress:St.reportProgress,responseType:St.responseType,withCredentials:St.withCredentials}}let $e=(()=>{class St{constructor(je){this.handler=je}request(je,Dt,wt={}){let zt;if(je instanceof lt)zt=je;else{let qn,Hn;qn=wt.headers instanceof Y?wt.headers:new Y(wt.headers),wt.params&&(Hn=wt.params instanceof Le?wt.params:new Le({fromObject:wt.params})),zt=new lt(je,Dt,void 0!==wt.body?wt.body:null,{headers:qn,context:wt.context,params:Hn,reportProgress:wt.reportProgress,responseType:wt.responseType||"json",withCredentials:wt.withCredentials})}const en=(0,k.of)(zt).pipe((0,Ee.b)(qn=>this.handler.handle(qn)));if(je instanceof lt||"events"===wt.observe)return en;const wn=en.pipe((0,ie.h)(qn=>qn instanceof he));switch(wt.observe||"body"){case"body":switch(zt.responseType){case"arraybuffer":return wn.pipe((0,de.U)(qn=>{if(null!==qn.body&&!(qn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return qn.body}));case"blob":return wn.pipe((0,de.U)(qn=>{if(null!==qn.body&&!(qn.body instanceof Blob))throw new Error("Response is not a Blob.");return qn.body}));case"text":return wn.pipe((0,de.U)(qn=>{if(null!==qn.body&&"string"!=typeof qn.body)throw new Error("Response is not a string.");return qn.body}));default:return wn.pipe((0,de.U)(qn=>qn.body))}case"response":return wn;default:throw new Error(`Unreachable: unhandled observe type ${wt.observe}}`)}}delete(je,Dt={}){return this.request("DELETE",je,Dt)}get(je,Dt={}){return this.request("GET",je,Dt)}head(je,Dt={}){return this.request("HEAD",je,Dt)}jsonp(je,Dt){return this.request("JSONP",je,{params:(new Le).append(Dt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(je,Dt={}){return this.request("OPTIONS",je,Dt)}patch(je,Dt,wt={}){return this.request("PATCH",je,Ce(wt,Dt))}post(je,Dt,wt={}){return this.request("POST",je,Ce(wt,Dt))}put(je,Dt,wt={}){return this.request("PUT",je,Ce(wt,Dt))}}return St.\u0275fac=function(je){return new(je||St)(P.LFG(ye))},St.\u0275prov=P.Yz7({token:St,factory:St.\u0275fac}),St})();class Nt{constructor(Ue,je){this.next=Ue,this.interceptor=je}handle(Ue){return this.interceptor.intercept(Ue,this.next)}}const Wt=new P.OlP("HTTP_INTERCEPTORS");let dt=(()=>{class St{intercept(je,Dt){return Dt.handle(je)}}return St.\u0275fac=function(je){return new(je||St)},St.\u0275prov=P.Yz7({token:St,factory:St.\u0275fac}),St})();const Zt=/^\)\]\}',?\n/;let Rn=(()=>{class St{constructor(je){this.xhrFactory=je}handle(je){if("JSONP"===je.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ie.y(Dt=>{const wt=this.xhrFactory.build();if(wt.open(je.method,je.urlWithParams),je.withCredentials&&(wt.withCredentials=!0),je.headers.forEach((fn,wr)=>wt.setRequestHeader(fn,wr.join(","))),je.headers.has("Accept")||wt.setRequestHeader("Accept","application/json, text/plain, */*"),!je.headers.has("Content-Type")){const fn=je.detectContentTypeHeader();null!==fn&&wt.setRequestHeader("Content-Type",fn)}if(je.responseType){const fn=je.responseType.toLowerCase();wt.responseType="json"!==fn?fn:"text"}const zt=je.serializeBody();let en=null;const wn=()=>{if(null!==en)return en;const fn=wt.statusText||"OK",wr=new Y(wt.getAllResponseHeaders()),Bn=function Tn(St){return"responseURL"in St&&St.responseURL?St.responseURL:/^X-Request-URL:/m.test(St.getAllResponseHeaders())?St.getResponseHeader("X-Request-URL"):null}(wt)||je.url;return en=new Se({headers:wr,status:wt.status,statusText:fn,url:Bn}),en},qn=()=>{let{headers:fn,status:wr,statusText:Bn,url:Pn}=wn(),Kn=null;204!==wr&&(Kn=void 0===wt.response?wt.responseText:wt.response),0===wr&&(wr=Kn?200:0);let fr=wr>=200&&wr<300;if("json"===je.responseType&&"string"==typeof Kn){const pr=Kn;Kn=Kn.replace(Zt,"");try{Kn=""!==Kn?JSON.parse(Kn):null}catch(Dr){Kn=pr,fr&&(fr=!1,Kn={error:Dr,text:Kn})}}fr?(Dt.next(new he({body:Kn,headers:fn,status:wr,statusText:Bn,url:Pn||void 0})),Dt.complete()):Dt.error(new Ae({error:Kn,headers:fn,status:wr,statusText:Bn,url:Pn||void 0}))},Hn=fn=>{const{url:wr}=wn(),Bn=new Ae({error:fn,status:wt.status||0,statusText:wt.statusText||"Unknown Error",url:wr||void 0});Dt.error(Bn)};let Vr=!1;const hr=fn=>{Vr||(Dt.next(wn()),Vr=!0);let wr={type:Pe.DownloadProgress,loaded:fn.loaded};fn.lengthComputable&&(wr.total=fn.total),"text"===je.responseType&&!!wt.responseText&&(wr.partialText=wt.responseText),Dt.next(wr)},cn=fn=>{let wr={type:Pe.UploadProgress,loaded:fn.loaded};fn.lengthComputable&&(wr.total=fn.total),Dt.next(wr)};return wt.addEventListener("load",qn),wt.addEventListener("error",Hn),wt.addEventListener("timeout",Hn),wt.addEventListener("abort",Hn),je.reportProgress&&(wt.addEventListener("progress",hr),null!==zt&&wt.upload&&wt.upload.addEventListener("progress",cn)),wt.send(zt),Dt.next({type:Pe.Sent}),()=>{wt.removeEventListener("error",Hn),wt.removeEventListener("abort",Hn),wt.removeEventListener("load",qn),wt.removeEventListener("timeout",Hn),je.reportProgress&&(wt.removeEventListener("progress",hr),null!==zt&&wt.upload&&wt.upload.removeEventListener("progress",cn)),wt.readyState!==wt.DONE&&wt.abort()}})}}return St.\u0275fac=function(je){return new(je||St)(P.LFG(u.JF))},St.\u0275prov=P.Yz7({token:St,factory:St.\u0275fac}),St})();const hn=new P.OlP("XSRF_COOKIE_NAME"),Mn=new P.OlP("XSRF_HEADER_NAME");class or{}let Dn=(()=>{class St{constructor(je,Dt,wt){this.doc=je,this.platform=Dt,this.cookieName=wt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const je=this.doc.cookie||"";return je!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,u.Mx)(je,this.cookieName),this.lastCookieString=je),this.lastToken}}return St.\u0275fac=function(je){return new(je||St)(P.LFG(u.K0),P.LFG(P.Lbi),P.LFG(hn))},St.\u0275prov=P.Yz7({token:St,factory:St.\u0275fac}),St})(),Fr=(()=>{class St{constructor(je,Dt){this.tokenService=je,this.headerName=Dt}intercept(je,Dt){const wt=je.url.toLowerCase();if("GET"===je.method||"HEAD"===je.method||wt.startsWith("http://")||wt.startsWith("https://"))return Dt.handle(je);const zt=this.tokenService.getToken();return null!==zt&&!je.headers.has(this.headerName)&&(je=je.clone({headers:je.headers.set(this.headerName,zt)})),Dt.handle(je)}}return St.\u0275fac=function(je){return new(je||St)(P.LFG(or),P.LFG(Mn))},St.\u0275prov=P.Yz7({token:St,factory:St.\u0275fac}),St})(),Mt=(()=>{class St{constructor(je,Dt){this.backend=je,this.injector=Dt,this.chain=null}handle(je){if(null===this.chain){const Dt=this.injector.get(Wt,[]);this.chain=Dt.reduceRight((wt,zt)=>new Nt(wt,zt),this.backend)}return this.chain.handle(je)}}return St.\u0275fac=function(je){return new(je||St)(P.LFG(le),P.LFG(P.zs3))},St.\u0275prov=P.Yz7({token:St,factory:St.\u0275fac}),St})(),br=(()=>{class St{static disable(){return{ngModule:St,providers:[{provide:Fr,useClass:dt}]}}static withOptions(je={}){return{ngModule:St,providers:[je.cookieName?{provide:hn,useValue:je.cookieName}:[],je.headerName?{provide:Mn,useValue:je.headerName}:[]]}}}return St.\u0275fac=function(je){return new(je||St)},St.\u0275mod=P.oAB({type:St}),St.\u0275inj=P.cJS({providers:[Fr,{provide:Wt,useExisting:Fr,multi:!0},{provide:or,useClass:Dn},{provide:hn,useValue:"XSRF-TOKEN"},{provide:Mn,useValue:"X-XSRF-TOKEN"}]}),St})(),rn=(()=>{class St{}return St.\u0275fac=function(je){return new(je||St)},St.\u0275mod=P.oAB({type:St}),St.\u0275inj=P.cJS({providers:[$e,{provide:ye,useClass:Mt},Rn,{provide:le,useExisting:Rn}],imports:[[br.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),St})()},29863:(Kt,Je,O)=>{"use strict";O.d(Je,{deG:()=>Wa,tb:()=>fb,AFp:()=>cb,ip1:()=>ub,CZH:()=>N0,hGG:()=>gI,z2F:()=>j0,sBO:()=>Jw,Sil:()=>Pw,_Vd:()=>vh,EJc:()=>Rw,SBq:()=>_h,qLn:()=>_d,vpe:()=>Ic,tBr:()=>Au,XFs:()=>rn,OlP:()=>Gn,zs3:()=>Ko,ZZ4:()=>Y0,aQg:()=>q0,soG:()=>L0,YKP:()=>Fn,h0i:()=>bn,PXZ:()=>zw,R0b:()=>Gu,FiY:()=>xu,Lbi:()=>hb,g9A:()=>db,Qsj:()=>E0,FYo:()=>Tv,JOm:()=>bo,tp0:()=>Qa,Rgc:()=>Zg,dDg:()=>yb,q4F:()=>e,GfV:()=>r,s_b:()=>Mv,ifc:()=>wn,eFA:()=>Eb,G48:()=>Qw,Gpc:()=>ke,X6Q:()=>Xw,_c5:()=>pI,VLi:()=>jw,c2e:()=>pb,zSh:()=>Ld,wAp:()=>dr,vHH:()=>Te,cg1:()=>Fg,kL8:()=>ah,dqk:()=>cn,sIi:()=>da,CqO:()=>dg,QGY:()=>Jd,F4k:()=>wf,RDi:()=>ks,AaK:()=>X,qOj:()=>Hd,TTD:()=>z,_Bn:()=>Ev,xp6:()=>bm,uIk:()=>zd,Tol:()=>Fy,ekj:()=>wg,Suo:()=>$E,Xpm:()=>Fe,lG2:()=>Un,Yz7:()=>Zt,cJS:()=>Rn,oAB:()=>tt,Yjl:()=>Sn,Y36:()=>Zd,_UZ:()=>Yl,GkF:()=>ql,BQk:()=>Ef,ynx:()=>_f,qZA:()=>Qd,TgZ:()=>Uu,EpF:()=>bf,n5z:()=>ss,LFG:()=>$i,$8M:()=>ta,$Z:()=>Kl,NdJ:()=>eh,CRH:()=>UE,kcU:()=>Ki,O4$:()=>_a,oxw:()=>fg,ALo:()=>RE,lcZ:()=>OE,Hsn:()=>Yc,F$t:()=>gg,Q6J:()=>lg,MGl:()=>Sf,DdM:()=>DE,iGM:()=>BE,MAs:()=>py,CHM:()=>ns,LSH:()=>ue,YNc:()=>fy,W1O:()=>zE,_uU:()=>mu,Oqu:()=>Vy,hij:()=>yu,AsE:()=>Ql,Gf:()=>VE});var u=O(8929),P=O(42654),k=O(32916),Ie=O(36787),Ee=O(82536),ie=O(74327);function de(){return new u.xQ}function le(n){for(let i in n)if(n[i]===le)return i;throw Error("Could not find renamed property on target object.")}function Y(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function X(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(X).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function me(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const ce=le({__forward_ref__:le});function ke(n){return n.__forward_ref__=ke,n.toString=function(){return X(this())},n}function we(n){return pe(n)?n():n}function pe(n){return"function"==typeof n&&n.hasOwnProperty(ce)&&n.__forward_ref__===ke}class Te extends Error{constructor(i,o){super(function ut(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,o)),this.code=i}}function te(n){return"string"==typeof n?n:null==n?"":String(n)}function Ke(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():te(n)}function lt(n,i){const o=i?` in ${i}`:"";throw new Te(-201,`No provider for ${Ke(n)} found${o}`)}function Ge(n,i){null==n&&function ze(n,i,o,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${o} ${c} ${i} <=Actual]`))}(i,n,null,"!=")}function Zt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Rn(n){return{providers:n.providers||[],imports:n.imports||[]}}function hn(n){return Mn(n,Mt)||Mn(n,Er)}function Mn(n,i){return n.hasOwnProperty(i)?n[i]:null}function Fr(n){return n&&(n.hasOwnProperty(Qn)||n.hasOwnProperty(br))?n[Qn]:null}const Mt=le({\u0275prov:le}),Qn=le({\u0275inj:le}),Er=le({ngInjectableDef:le}),br=le({ngInjectorDef:le});var rn=(()=>((rn=rn||{})[rn.Default=0]="Default",rn[rn.Host=1]="Host",rn[rn.Self=2]="Self",rn[rn.SkipSelf=4]="SkipSelf",rn[rn.Optional=8]="Optional",rn))();let ti;function St(n){const i=ti;return ti=n,i}function Ue(n,i,o){const c=hn(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&rn.Optional?null:void 0!==i?i:void lt(X(n),"Injector")}function Dt(n){return{toString:n}.toString()}var wt=(()=>((wt=wt||{})[wt.OnPush=0]="OnPush",wt[wt.Default=1]="Default",wt))(),wn=(()=>{return(n=wn||(wn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",wn;var n})();const qn="undefined"!=typeof globalThis&&globalThis,Hn="undefined"!=typeof window&&window,Vr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,cn=qn||"undefined"!=typeof global&&global||Hn||Vr,Bn={},Pn=[],Kn=le({\u0275cmp:le}),fr=le({\u0275dir:le}),pr=le({\u0275pipe:le}),Dr=le({\u0275mod:le}),xr=le({\u0275fac:le}),ar=le({__NG_ELEMENT_ID__:le});let Mr=0;function Fe(n){return Dt(()=>{const o={},c={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===wt.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Pn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||wn.Emulated,id:"c",styles:n.styles||Pn,_:null,setInput:null,schemas:n.schemas||null,tView:null},d=n.directives,p=n.features,v=n.pipes;return c.id+=Mr++,c.inputs=sn(n.inputs,o),c.outputs=sn(n.outputs),p&&p.forEach(S=>S(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(se):null,c.pipeDefs=v?()=>("function"==typeof v?v():v).map(fe):null,c})}function se(n){return dn(n)||function on(n){return n[fr]||null}(n)}function fe(n){return function tr(n){return n[pr]||null}(n)}const Q={};function tt(n){return Dt(()=>{const i={type:n.type,bootstrap:n.bootstrap||Pn,declarations:n.declarations||Pn,imports:n.imports||Pn,exports:n.exports||Pn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Q[n.id]=n.type),i})}function sn(n,i){if(null==n)return Bn;const o={};for(const c in n)if(n.hasOwnProperty(c)){let d=n[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),o[d]=c,i&&(i[d]=p)}return o}const Un=Fe;function Sn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function dn(n){return n[Kn]||null}function kn(n,i){const o=n[Dr]||null;if(!o&&!0===i)throw new Error(`Type ${X(n)} does not have '\u0275mod' property.`);return o}const q=16;function Rt(n){return Array.isArray(n)&&"object"==typeof n[1]}function At(n){return Array.isArray(n)&&!0===n[1]}function Ht(n){return 0!=(8&n.flags)}function nn(n){return 2==(2&n.flags)}function Nn(n){return 1==(1&n.flags)}function xn(n){return null!==n.template}function rr(n){return 0!=(512&n[2])}function ve(n,i){return n.hasOwnProperty(xr)?n[xr]:null}class be{constructor(i,o,c){this.previousValue=i,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function z(){return Ne}function Ne(n){return n.type.prototype.ngOnChanges&&(n.setInput=Jt),it}function it(){const n=ur(this),i=null==n?void 0:n.current;if(i){const o=n.previous;if(o===Bn)n.previous=i;else for(let c in i)o[c]=i[c];n.current=null,this.ngOnChanges(i)}}function Jt(n,i,o,c){const d=ur(n)||function kr(n,i){return n[$n]=i}(n,{previous:Bn,current:null}),p=d.current||(d.current={}),v=d.previous,S=this.declaredInputs[o],R=v[S];p[S]=new be(R&&R.currentValue,i,v===Bn),n[c]=i}z.ngInherit=!0;const $n="__ngSimpleChanges__";function ur(n){return n[$n]||null}let Ss;function ks(n){Ss=n}function N(n){return!!n.listen}const oe={createRenderer:(n,i)=>function L(){return void 0!==Ss?Ss:"undefined"!=typeof document?document:void 0}()};function gt(n){for(;Array.isArray(n);)n=n[0];return n}function Ur(n,i){return gt(i[n])}function cr(n,i){return gt(i[n.index])}function Sr(n,i){return n.data[i]}function ni(n,i){return n[i]}function Nr(n,i){const o=i[n];return Rt(o)?o:o[0]}function Ri(n){return 4==(4&n[2])}function y(n){return 128==(128&n[2])}function m(n,i){return null==i?null:n[i]}function B(n){n[18]=0}function _(n,i){n[5]+=i;let o=n,c=n[3];for(;null!==c&&(1===i&&1===o[5]||-1===i&&0===o[5]);)c[5]+=i,o=c,c=c[3]}const w={lFrame:Ua(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ir(){return w.bindingsEnabled}function Vt(){return w.lFrame.lView}function sr(){return w.lFrame.tView}function ns(n){return w.lFrame.contextLView=n,n[8]}function bi(){let n=Ti();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ti(){return w.lFrame.currentTNode}function Ni(n,i){const o=w.lFrame;o.currentTNode=n,o.isParent=i}function ga(){return w.lFrame.isParent}function No(){w.lFrame.isParent=!1}function Fo(){return w.isInCheckNoChangesMode}function ho(n){w.isInCheckNoChangesMode=n}function rs(){const n=w.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function As(){return w.lFrame.bindingIndex++}function Fs(n){const i=w.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function ya(n,i){const o=w.lFrame;o.bindingIndex=o.bindingRootIndex=n,To(i)}function To(n){w.lFrame.currentDirectiveIndex=n}function fo(){return w.lFrame.currentQueryIndex}function va(n){w.lFrame.currentQueryIndex=n}function _u(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function Si(n,i,o){if(o&rn.SkipSelf){let d=i,p=n;for(;!(d=d.parent,null!==d||o&rn.Host||(d=_u(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;i=d,n=p}const c=w.lFrame=So();return c.currentTNode=i,c.lView=n,!0}function Lo(n){const i=So(),o=n[1];w.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function So(){const n=w.lFrame,i=null===n?null:n.child;return null===i?Ua(n):i}function Ua(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Ao(){const n=w.lFrame;return w.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Qo=Ao;function Hs(){const n=Ao();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Oi(){return w.lFrame.selectedIndex}function Gs(n){w.lFrame.selectedIndex=n}function Ai(){const n=w.lFrame;return Sr(n.tView,n.selectedIndex)}function _a(){w.lFrame.currentNamespace="svg"}function Ki(){!function ms(){w.lFrame.currentNamespace=null}()}function cs(n,i){for(let o=i.directiveStart,c=i.directiveEnd;o<c;o++){const p=n.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:S,ngAfterViewInit:R,ngAfterViewChecked:H,ngOnDestroy:Z}=p;v&&(n.contentHooks||(n.contentHooks=[])).push(-o,v),S&&((n.contentHooks||(n.contentHooks=[])).push(o,S),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,S)),R&&(n.viewHooks||(n.viewHooks=[])).push(-o,R),H&&((n.viewHooks||(n.viewHooks=[])).push(o,H),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,H)),null!=Z&&(n.destroyHooks||(n.destroyHooks=[])).push(o,Z)}}function zs(n,i,o){Jr(n,i,3,o)}function Is(n,i,o,c){(3&n[2])===o&&Jr(n,i,o,c)}function Vo(n,i){let o=n[2];(3&o)===i&&(o&=2047,o+=1,n[2]=o)}function Jr(n,i,o,c){const p=null!=c?c:-1,v=i.length-1;let S=0;for(let R=void 0!==c?65535&n[18]:0;R<v;R++)if("number"==typeof i[R+1]){if(S=i[R],null!=c&&S>=c)break}else i[R]<0&&(n[18]+=65536),(S<p||-1==p)&&(Eu(n,o,i,R),n[18]=(4294901760&n[18])+R+2),R++}function Eu(n,i,o,c){const d=o[c]<0,p=o[c+1],S=n[d?-o[c]:o[c]];if(d){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{p.call(S)}finally{}}}else try{p.call(S)}finally{}}class xs{constructor(i,o,c){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function po(n,i,o){const c=N(n);let d=0;for(;d<o.length;){const p=o[d];if("number"==typeof p){if(0!==p)break;d++;const v=o[d++],S=o[d++],R=o[d++];c?n.setAttribute(i,S,R,v):i.setAttributeNS(v,S,R)}else{const v=p,S=o[++d];ro(v)?c&&n.setProperty(i,v,S):c?n.setAttribute(i,v,S):i.setAttribute(v,S),d++}}return d}function Ls(n){return 3===n||4===n||6===n}function ro(n){return 64===n.charCodeAt(0)}function go(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let c=0;c<i.length;c++){const d=i[c];"number"==typeof d?o=d:0===o||Ga(n,o,d,null,-1===o||2===o?i[++c]:null)}}return n}function Ga(n,i,o,c,d){let p=0,v=n.length;if(-1===i)v=-1;else for(;p<n.length;){const S=n[p++];if("number"==typeof S){if(S===i){v=-1;break}if(S>i){v=p-1;break}}}for(;p<n.length;){const S=n[p];if("number"==typeof S)break;if(S===o){if(null===c)return void(null!==d&&(n[p+1]=d));if(c===n[p+1])return void(n[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==v&&(n.splice(v,0,i),p=v+1),n.splice(p++,0,o),null!==c&&n.splice(p++,0,c),null!==d&&n.splice(p++,0,d)}function mo(n){return-1!==n}function $o(n){return 32767&n}function Mo(n,i){let o=function Iu(n){return n>>16}(n),c=i;for(;o>0;)c=c[15],o--;return c}let ea=!0;function Ro(n){const i=ea;return ea=n,i}let b=0;function U(n,i){const o=Re(n,i);if(-1!==o)return o;const c=i[1];c.firstCreatePass&&(n.injectorIndex=i.length,re(c.data,n),re(i,null),re(c.blueprint,null));const d=He(n,i),p=n.injectorIndex;if(mo(d)){const v=$o(d),S=Mo(d,i),R=S[1].data;for(let H=0;H<8;H++)i[p+H]=S[v+H]|R[v+H]}return i[p+8]=d,p}function re(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Re(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function He(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,c=null,d=i;for(;null!==d;){const p=d[1],v=p.type;if(c=2===v?p.declTNode:1===v?d[6]:null,null===c)return-1;if(o++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return-1}function Ot(n,i,o){!function V(n,i,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(ar)&&(c=o[ar]),null==c&&(c=o[ar]=b++);const d=255&c;i.data[n+(d>>5)]|=1<<d}(n,i,o)}function Yr(n,i,o){if(o&rn.Optional)return n;lt(i,"NodeInjector")}function yt(n,i,o,c){if(o&rn.Optional&&void 0===c&&(c=null),0==(o&(rn.Self|rn.Host))){const d=n[9],p=St(void 0);try{return d?d.get(i,c,o&rn.Optional):Ue(i,c,o&rn.Optional)}finally{St(p)}}return Yr(c,i,o)}function lr(n,i,o,c=rn.Default,d){if(null!==n){const p=function mn(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(ar)?n[ar]:void 0;return"number"==typeof i?i>=0?255&i:Cs:i}(o);if("function"==typeof p){if(!Si(i,n,c))return c&rn.Host?Yr(d,o,c):yt(i,o,c,d);try{const v=p(c);if(null!=v||c&rn.Optional)return v;lt(o)}finally{Qo()}}else if("number"==typeof p){let v=null,S=Re(n,i),R=-1,H=c&rn.Host?i[q][6]:null;for((-1===S||c&rn.SkipSelf)&&(R=-1===S?He(n,i):i[S+8],-1!==R&&$t(c,!1)?(v=i[1],S=$o(R),i=Mo(R,i)):S=-1);-1!==S;){const Z=i[1];if(Tt(p,S,Z.data)){const Me=En(S,i,o,v,c,H);if(Me!==Xn)return Me}R=i[S+8],-1!==R&&$t(c,i[1].data[S+8]===H)&&Tt(p,S,i)?(v=Z,S=$o(R),i=Mo(R,i)):S=-1}}}return yt(i,o,c,d)}const Xn={};function Cs(){return new Fi(bi(),Vt())}function En(n,i,o,c,d,p){const v=i[1],S=v.data[n+8],Z=jn(S,v,o,null==c?nn(S)&&ea:c!=v&&0!=(3&S.type),d&rn.Host&&p===S);return null!==Z?Oo(i,v,Z,S):Xn}function jn(n,i,o,c,d){const p=n.providerIndexes,v=i.data,S=1048575&p,R=n.directiveStart,Z=p>>20,Qe=d?S+Z:n.directiveEnd;for(let mt=c?S:S+Z;mt<Qe;mt++){const Gt=v[mt];if(mt<R&&o===Gt||mt>=R&&Gt.type===o)return mt}if(d){const mt=v[R];if(mt&&xn(mt)&&mt.type===o)return R}return null}function Oo(n,i,o,c){let d=n[o];const p=i.data;if(function bu(n){return n instanceof xs}(d)){const v=d;v.resolving&&function Oe(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Te(-200,`Circular dependency in DI detected for ${n}${o}`)}(Ke(p[o]));const S=Ro(v.canSeeViewProviders);v.resolving=!0;const R=v.injectImpl?St(v.injectImpl):null;Si(n,c,rn.Default);try{d=n[o]=v.factory(void 0,p,n,c),i.firstCreatePass&&o>=c.directiveStart&&function Bo(n,i,o){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=i.type.prototype;if(c){const v=Ne(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,v)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,d),p&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,p))}(o,p[o],i)}finally{null!==R&&St(R),Ro(S),v.resolving=!1,Qo()}}return d}function Tt(n,i,o){return!!(o[i+(n>>5)]&1<<n)}function $t(n,i){return!(n&rn.Self||n&rn.Host&&i)}class Fi{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,c){return lr(this._tNode,this._lView,i,c,o)}}function ss(n){return Dt(()=>{const i=n.prototype.constructor,o=i[xr]||Ku(i),c=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==c;){const p=d[xr]||Ku(d);if(p&&p!==o)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Ku(n){return pe(n)?()=>{const i=Ku(we(n));return i&&i()}:ve(n)}function ta(n){return function Vn(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const c=o.length;let d=0;for(;d<c;){const p=o[d];if(Ls(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof o[d];)d++;else{if(p===i)return o[d+1];d+=2}}}return null}(bi(),n)}const za="__parameters__";function Cu(n,i,o){return Dt(()=>{const c=function wa(n){return function(...o){if(n){const c=n(...o);for(const d in c)this[d]=c[d]}}}(i);function d(...p){if(this instanceof d)return c.apply(this,p),this;const v=new d(...p);return S.annotation=v,S;function S(R,H,Z){const Me=R.hasOwnProperty(za)?R[za]:Object.defineProperty(R,za,{value:[]})[za];for(;Me.length<=Z;)Me.push(null);return(Me[Z]=Me[Z]||[]).push(v),R}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}class Gn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Zt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Wa=new Gn("AnalyzeForEntryComponents");function io(n,i){void 0===i&&(i=n);for(let o=0;o<n.length;o++){let c=n[o];Array.isArray(c)?(i===n&&(i=n.slice(0,o)),io(c,i)):i!==n&&i.push(c)}return i}function Ms(n,i){n.forEach(o=>Array.isArray(o)?Ms(o,i):i(o))}function Tc(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Ia(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function ys(n,i){const o=[];for(let c=0;c<n;c++)o.push(i);return o}function vs(n,i,o){let c=ra(n,i);return c>=0?n[1|c]=o:(c=~c,function Xu(n,i,o,c){let d=n.length;if(d==i)n.push(o,c);else if(1===d)n.push(c,n[0]),n[0]=o;else{for(d--,n.push(n[d-1],n[d]);d>i;)n[d]=n[d-2],d--;n[i]=o,n[i+1]=c}}(n,c,i,o)),c}function Bs(n,i){const o=ra(n,i);if(o>=0)return n[1|o]}function ra(n,i){return function Js(n,i,o){let c=0,d=n.length>>o;for(;d!==c;){const p=c+(d-c>>1),v=n[p<<o];if(i===v)return p<<o;v>i?d=p:c=p+1}return~(d<<o)}(n,i,1)}const yo={},os="__NG_DI_FLAG__",Su="ngTempTokenPath",Ws=/\n/gm,Da="__source",ol=le({provide:String,useValue:le});let Za;function tc(n){const i=Za;return Za=n,i}function cd(n,i=rn.Default){if(void 0===Za)throw new Te(203,"");return null===Za?Ue(n,void 0,i):Za.get(n,i&rn.Optional?null:void 0,i)}function $i(n,i=rn.Default){return(function On(){return ti}()||cd)(we(n),i)}const Ch=$i;function Ta(n){const i=[];for(let o=0;o<n.length;o++){const c=we(n[o]);if(Array.isArray(c)){if(0===c.length)throw new Te(900,"");let d,p=rn.Default;for(let v=0;v<c.length;v++){const S=c[v],R=al(S);"number"==typeof R?-1===R?d=S.token:p|=R:d=S}i.push($i(d,p))}else i.push($i(c))}return i}function Xa(n,i){return n[os]=i,n.prototype[os]=i,n}function al(n){return n[os]}const Au=Xa(Cu("Inject",n=>({token:n})),-1),xu=Xa(Cu("Optional"),8),Qa=Xa(Cu("SkipSelf"),4);class eo{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function G(n){return n instanceof eo?n.changingThisBreaksApplicationSecurity:n}const Ru=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ou=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var g=(()=>((g=g||{})[g.NONE=0]="NONE",g[g.HTML=1]="HTML",g[g.STYLE=2]="STYLE",g[g.SCRIPT=3]="SCRIPT",g[g.URL=4]="URL",g[g.RESOURCE_URL=5]="RESOURCE_URL",g))();function ue(n){const i=function Ys(){const n=Vt();return n&&n[12]}();return i?i.sanitize(g.URL,n)||"":function De(n,i){const o=function Xe(n){return n instanceof eo&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}(n,"URL")?G(n):function Ds(n){return(n=String(n)).match(Ru)||n.match(Ou)?n:"unsafe:"+n}(te(n))}const Oc="__ngContext__";function hs(n,i){n[Oc]=i}function la(n){const i=function iu(n){return n[Oc]||null}(n);return i?Array.isArray(i)?i:i.lView:null}function ao(n){return n.ngOriginalError}function vd(n,...i){n.error(...i)}class _d{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),c=function tm(n){return n&&n.ngErrorLogger||vd}(i);c(this._console,"ERROR",i),o&&c(this._console,"ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&ao(i);for(;o&&ao(o);)o=ao(o);return o||null}}const sm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(cn))();function Eo(n){return n instanceof Function?n():n}var bo=(()=>((bo=bo||{})[bo.Important=1]="Important",bo[bo.DashCase=2]="DashCase",bo))();function Rh(n,i){return undefined(n,i)}function wd(n){const i=n[3];return At(i)?i[3]:i}function _l(n){return am(n[13])}function Oh(n){return am(n[4])}function am(n){for(;null!==n&&!At(n);)n=n[4];return n}function El(n,i,o,c,d){if(null!=c){let p,v=!1;At(c)?p=c:Rt(c)&&(v=!0,c=c[0]);const S=gt(c);0===n&&null!==o?null==d?Kf(i,o,S):ou(i,o,S,d||null,!0):1===n&&null!==o?ou(i,o,S,d||null,!0):2===n?function Zf(n,i,o){const c=Cd(n,i);c&&function fm(n,i,o,c){N(n)?n.removeChild(i,o,c):i.removeChild(o)}(n,c,i,o)}(i,S,v):3===n&&i.destroyNode(S),null!=p&&function Qf(n,i,o,c,d){const p=o[7];p!==gt(o)&&El(i,n,c,p,d);for(let S=10;S<o.length;S++){const R=o[S];Sd(R[1],R,n,i,c,p)}}(i,n,p,o,d)}}function Nh(n,i,o){if(N(n))return n.createElement(i,o);{const c=null!==o?function ws(n){const i=n.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(o):null;return null===c?n.createElement(i):n.createElementNS(c,i)}}function Fh(n,i){const o=n[9],c=o.indexOf(i),d=i[3];1024&i[2]&&(i[2]&=-1025,_(d,-1)),o.splice(c,1)}function zf(n,i){if(n.length<=10)return;const o=10+i,c=n[o];if(c){const d=c[17];null!==d&&d!==n&&Fh(d,c),i>0&&(n[o-1][4]=c[4]);const p=Ia(n,10+i);!function um(n,i){Sd(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(c[1],c);const v=p[19];null!==v&&v.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function lm(n,i){if(!(256&i[2])){const o=i[11];N(o)&&o.destroyNode&&Sd(n,i,o,3,null,null),function jf(n){let i=n[13];if(!i)return _s(n[1],n);for(;i;){let o=null;if(Rt(i))o=i[13];else{const c=i[10];c&&(o=c)}if(!o){for(;i&&!i[4]&&i!==n;)Rt(i)&&_s(i[1],i),i=i[3];null===i&&(i=n),Rt(i)&&_s(i[1],i),o=i&&i[4]}i=o}}(i)}}function _s(n,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function dm(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let c=0;c<o.length;c+=2){const d=i[o[c]];if(!(d instanceof xs)){const p=o[c+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const S=d[p[v]],R=p[v+1];try{R.call(S)}finally{}}else try{p.call(d)}finally{}}}}(n,i),function li(n,i){const o=n.cleanup,c=i[7];let d=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const v=o[p+1],S="function"==typeof v?v(i):gt(i[v]),R=c[d=o[p+2]],H=o[p+3];"boolean"==typeof H?S.removeEventListener(o[p],R,H):H>=0?c[d=H]():c[d=-H].unsubscribe(),p+=2}else{const v=c[d=o[p+1]];o[p].call(v)}if(null!==c){for(let p=d+1;p<c.length;p++)c[p]();i[7]=null}}(n,i),1===i[1].type&&N(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&At(i[3])){o!==i[3]&&Fh(o,i);const c=i[19];null!==c&&c.detachView(n)}}}function Wf(n,i,o){return function Lh(n,i,o){let c=i;for(;null!==c&&40&c.type;)c=(i=c).parent;if(null===c)return o[0];if(2&c.flags){const d=n.data[c.directiveStart].encapsulation;if(d===wn.None||d===wn.Emulated)return null}return cr(c,o)}(n,i.parent,o)}function ou(n,i,o,c,d){N(n)?n.insertBefore(i,o,c,d):i.insertBefore(o,c,d)}function Kf(n,i,o){N(n)?n.appendChild(i,o):i.appendChild(o)}function hm(n,i,o,c,d){null!==c?ou(n,i,o,c,d):Kf(n,i,o)}function Cd(n,i){return N(n)?n.parentNode(i):i.parentNode}function wl(n,i,o){return Cl(n,i,o)}let Cl=function Il(n,i,o){return 40&n.type?cr(n,o):null};function Dd(n,i,o,c){const d=Wf(n,c,i),p=i[11],S=wl(c.parent||i[6],c,i);if(null!=d)if(Array.isArray(o))for(let R=0;R<o.length;R++)hm(p,d,o[R],S,!1);else hm(p,d,o,S,!1)}function Td(n,i){if(null!==i){const o=i.type;if(3&o)return cr(i,n);if(4&o)return Bh(-1,n[i.index]);if(8&o){const c=i.child;if(null!==c)return Td(n,c);{const d=n[i.index];return At(d)?Bh(-1,d):gt(d)}}if(32&o)return Rh(i,n)()||gt(n[i.index]);{const c=pm(n,i);return null!==c?Array.isArray(c)?c[0]:Td(wd(n[q]),c):Td(n,i.next)}}return null}function pm(n,i){return null!==i?n[q][6].projection[i.projection]:null}function Bh(n,i){const o=10+n+1;if(o<i.length){const c=i[o],d=c[1].firstChild;if(null!==d)return Td(c,d)}return i[7]}function Xf(n,i,o,c,d,p,v){for(;null!=o;){const S=c[o.index],R=o.type;if(v&&0===i&&(S&&hs(gt(S),c),o.flags|=4),64!=(64&o.flags))if(8&R)Xf(n,i,o.child,c,d,p,!1),El(i,n,d,S,p);else if(32&R){const H=Rh(o,c);let Z;for(;Z=H();)El(i,n,d,Z,p);El(i,n,d,S,p)}else 16&R?gm(n,i,c,o,d,p):El(i,n,d,S,p);o=v?o.projectionNext:o.next}}function Sd(n,i,o,c,d,p){Xf(o,c,n.firstChild,i,d,p,!1)}function gm(n,i,o,c,d,p){const v=o[q],R=v[6].projection[c.projection];if(Array.isArray(R))for(let H=0;H<R.length;H++)El(i,n,d,R[H],p);else Xf(n,i,R,v[3],d,p,!0)}function Jf(n,i,o){N(n)?n.setAttribute(i,"style",o):i.style.cssText=o}function ep(n,i,o){N(n)?""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o):i.className=o}function Es(n,i,o){let c=n.length;for(;;){const d=n.indexOf(i,o);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const p=i.length;if(d+p===c||n.charCodeAt(d+p)<=32)return d}o=d+1}}const tp="ng-template";function Ad(n,i,o){let c=0;for(;c<n.length;){let d=n[c++];if(o&&"class"===d){if(d=n[c],-1!==Es(d.toLowerCase(),i,0))return!0}else if(1===d){for(;c<n.length&&"string"==typeof(d=n[c++]);)if(d.toLowerCase()===i)return!0;return!1}}return!1}function Ma(n){return 4===n.type&&n.value!==tp}function np(n,i,o){return i===(4!==n.type||o?n.value:tp)}function ym(n,i,o){let c=4;const d=n.attrs||[],p=function Yv(n){for(let i=0;i<n.length;i++)if(Ls(n[i]))return i;return n.length}(d);let v=!1;for(let S=0;S<i.length;S++){const R=i[S];if("number"!=typeof R){if(!v)if(4&c){if(c=2|1&c,""!==R&&!np(n,R,o)||""===R&&1===i.length){if(wo(c))return!1;v=!0}}else{const H=8&c?R:i[++S];if(8&c&&null!==n.attrs){if(!Ad(n.attrs,H,o)){if(wo(c))return!1;v=!0}continue}const Me=vm(8&c?"class":R,d,Ma(n),o);if(-1===Me){if(wo(c))return!1;v=!0;continue}if(""!==H){let Qe;Qe=Me>p?"":d[Me+1].toLowerCase();const mt=8&c?Qe:null;if(mt&&-1!==Es(mt,H,0)||2&c&&H!==Qe){if(wo(c))return!1;v=!0}}}}else{if(!v&&!wo(c)&&!wo(R))return!1;if(v&&wo(R))continue;v=!1,c=R|1&c}}return wo(c)||v}function wo(n){return 0==(1&n)}function vm(n,i,o,c){if(null===i)return-1;let d=0;if(c||!o){let p=!1;for(;d<i.length;){const v=i[d];if(v===n)return d;if(3===v||6===v)p=!0;else{if(1===v||2===v){let S=i[++d];for(;"string"==typeof S;)S=i[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=p?1:2}return-1}return function qv(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const c=n[o];if("number"==typeof c)return-1;if(c===i)return o;o++}return-1}(i,n)}function rp(n,i,o=!1){for(let c=0;c<i.length;c++)if(ym(n,i[c],o))return!0;return!1}function xd(n,i){e:for(let o=0;o<i.length;o++){const c=i[o];if(n.length===c.length){for(let d=0;d<n.length;d++)if(n[d]!==c[d])continue e;return!0}}return!1}function Vh(n,i){return n?":not("+i.trim()+")":i}function Zv(n){let i=n[0],o=1,c=2,d="",p=!1;for(;o<n.length;){let v=n[o];if("string"==typeof v)if(2&c){const S=n[++o];d+="["+v+(S.length>0?'="'+S+'"':"")+"]"}else 8&c?d+="."+v:4&c&&(d+=" "+v);else""!==d&&!wo(v)&&(i+=Vh(p,d),d=""),c=v,p=p||!wo(c);o++}return""!==d&&(i+=Vh(p,d)),i}const jr={};function bm(n){sp(sr(),Vt(),Oi()+n,Fo())}function sp(n,i,o,c){if(!c)if(3==(3&i[2])){const p=n.preOrderCheckHooks;null!==p&&zs(i,p,o)}else{const p=n.preOrderHooks;null!==p&&Is(i,p,0,o)}Gs(o)}function $h(n,i){return n<<17|i<<2}function Ra(n){return n>>17&32767}function Uh(n){return 2|n}function Lu(n){return(131068&n)>>2}function jh(n,i){return-131069&n|i<<2}function Hh(n){return 1|n}function xl(n,i){const o=n.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const d=o[c],p=o[c+1];if(-1!==p){const v=n.data[p];va(d),v.contentQueries(2,i[p],p)}}}function Os(n,i,o,c,d,p,v,S,R,H){const Z=i.blueprint.slice();return Z[0]=d,Z[2]=140|c,B(Z),Z[3]=Z[15]=n,Z[8]=o,Z[10]=v||n&&n[10],Z[11]=S||n&&n[11],Z[12]=R||n&&n[12]||null,Z[9]=H||n&&n[9]||null,Z[6]=p,Z[q]=2==i.type?n[q]:Z,Z}function Vc(n,i,o,c,d){let p=n.data[i];if(null===p)p=function Ml(n,i,o,c,d){const p=Ti(),v=ga(),R=n.data[i]=function n_(n,i,o,c,d,p){return{type:o,index:c,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,o,i,c,d);return null===n.firstChild&&(n.firstChild=R),null!==p&&(v?null==p.child&&null!==R.parent&&(p.child=R):null===p.next&&(p.next=R)),R}(n,i,o,c,d),function Xo(){return w.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=o,p.value=c,p.attrs=d;const v=function Ns(){const n=w.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return Ni(p,!0),p}function Vu(n,i,o,c){if(0===o)return-1;const d=i.length;for(let p=0;p<o;p++)i.push(c),n.blueprint.push(c),n.data.push(null);return d}function Rl(n,i,o){Lo(i);try{const c=n.viewQuery;null!==c&&kd(1,c,o);const d=n.template;null!==d&&pp(n,i,d,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&xl(n,i),n.staticViewQueries&&kd(2,n.viewQuery,o);const p=n.components;null!==p&&function Om(n,i){for(let o=0;o<i.length;o++)Hm(n,i[o])}(i,p)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{i[2]&=-5,Hs()}}function Wo(n,i,o,c){const d=i[2];if(256==(256&d))return;Lo(i);const p=Fo();try{B(i),function ma(n){return w.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&pp(n,i,o,2,c);const v=3==(3&d);if(!p)if(v){const H=n.preOrderCheckHooks;null!==H&&zs(i,H,null)}else{const H=n.preOrderHooks;null!==H&&Is(i,H,0,null),Vo(i,0)}if(function Cp(n){for(let i=_l(n);null!==i;i=Oh(i)){if(!i[2])continue;const o=i[9];for(let c=0;c<o.length;c++){const d=o[c],p=d[3];0==(1024&d[2])&&_(p,1),d[2]|=1024}}}(i),function Ip(n){for(let i=_l(n);null!==i;i=Oh(i))for(let o=10;o<i.length;o++){const c=i[o],d=c[1];y(c)&&Wo(d,c,d.template,c[8])}}(i),null!==n.contentQueries&&xl(n,i),!p)if(v){const H=n.contentCheckHooks;null!==H&&zs(i,H)}else{const H=n.contentHooks;null!==H&&Is(i,H,1),Vo(i,1)}!function Xh(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let c=0;c<o.length;c++){const d=o[c];if(d<0)Gs(~d);else{const p=d,v=o[++c],S=o[++c];ya(v,p),S(2,i[p])}}}finally{Gs(-1)}}(n,i);const S=n.components;null!==S&&function Rm(n,i){for(let o=0;o<i.length;o++)jm(n,i[o])}(i,S);const R=n.viewQuery;if(null!==R&&kd(2,R,c),!p)if(v){const H=n.viewCheckHooks;null!==H&&zs(i,H)}else{const H=n.viewHooks;null!==H&&Is(i,H,2),Vo(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),p||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,_(i[3],-1))}finally{Hs()}}function Ol(n,i,o,c){const d=i[10],p=!Fo(),v=Ri(i);try{p&&!v&&d.begin&&d.begin(),v&&Rl(n,i,c),Wo(n,i,o,c)}finally{p&&!v&&d.end&&d.end()}}function pp(n,i,o,c,d){const p=Oi(),v=2&c;try{Gs(-1),v&&i.length>20&&sp(n,i,20,Fo()),o(c,d)}finally{Gs(p)}}function lc(n,i,o){if(Ht(i)){const d=i.directiveEnd;for(let p=i.directiveStart;p<d;p++){const v=n.data[p];v.contentQueries&&v.contentQueries(1,o[p],p)}}}function gp(n,i,o){!ir()||(function _p(n,i,o,c){const d=o.directiveStart,p=o.directiveEnd;n.firstCreatePass||U(o,i),hs(c,i);const v=o.initialInputs;for(let S=d;S<p;S++){const R=n.data[S],H=xn(R);H&&ef(i,o,R);const Z=Oo(i,n,S,o);hs(Z,i),null!==v&&bp(0,S-d,Z,R,0,v),H&&(Nr(o.index,i)[8]=Z)}}(n,i,o,cr(o,i)),128==(128&o.flags)&&function qs(n,i,o){const c=o.directiveStart,d=o.directiveEnd,v=o.index,S=function Do(){return w.lFrame.currentDirectiveIndex}();try{Gs(v);for(let R=c;R<d;R++){const H=n.data[R],Z=i[R];To(R),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&Vm(H,Z)}}finally{Gs(-1),To(S)}}(n,i,o))}function dc(n,i,o=cr){const c=i.localNames;if(null!==c){let d=i.index+1;for(let p=0;p<c.length;p+=2){const v=c[p+1],S=-1===v?o(i,n):n[v];n[d++]=S}}}function mp(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Pa(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Pa(n,i,o,c,d,p,v,S,R,H){const Z=20+c,Me=Z+d,Qe=function Pm(n,i){const o=[];for(let c=0;c<i;c++)o.push(c<n?null:jr);return o}(Z,Me),mt="function"==typeof H?H():H;return Qe[1]={type:n,blueprint:Qe,template:o,queries:null,viewQuery:S,declTNode:i,data:Qe.slice().fill(null,Z),bindingStartIndex:Z,expandoStartIndex:Me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:R,consts:mt,incompleteFirstPass:!1}}function yp(n,i,o,c){const d=xp(i);null===o?d.push(c):(d.push(o),n.firstCreatePass&&Mp(n).push(c,d.length-1))}function Rd(n,i,o){for(let c in n)if(n.hasOwnProperty(c)){const d=n[c];(o=null===o?{}:o).hasOwnProperty(c)?o[c].push(i,d):o[c]=[i,d]}return o}function Po(n,i,o,c,d,p,v,S){const R=cr(i,o);let Z,H=i.inputs;!S&&null!=H&&(Z=H[c])?(qm(n,o,Z,c,d),nn(i)&&function i_(n,i){const o=Nr(i,n);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(c=function r_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),d=null!=v?v(d,i.value||"",c):d,N(p)?p.setProperty(R,c,d):ro(c)||(R.setProperty?R.setProperty(c,d):R[c]=d))}function Jh(n,i,o,c){let d=!1;if(ir()){const p=function u_(n,i,o){const c=n.directiveRegistry;let d=null;if(c)for(let p=0;p<c.length;p++){const v=c[p];rp(o,v.selectors,!1)&&(d||(d=[]),Ot(U(o,i),n,v.type),xn(v)?($m(n,o),d.unshift(v)):d.push(v))}return d}(n,i,o),v=null===c?null:{"":-1};if(null!==p){d=!0,Um(o,n.data.length,p.length);for(let Z=0;Z<p.length;Z++){const Me=p[Z];Me.providersResolver&&Me.providersResolver(Me)}let S=!1,R=!1,H=Vu(n,i,p.length,null);for(let Z=0;Z<p.length;Z++){const Me=p[Z];o.mergedAttrs=go(o.mergedAttrs,Me.hostAttrs),Od(n,o,i,H,Me),Ep(H,Me,v),null!==Me.contentQueries&&(o.flags|=8),(null!==Me.hostBindings||null!==Me.hostAttrs||0!==Me.hostVars)&&(o.flags|=128);const Qe=Me.type.prototype;!S&&(Qe.ngOnChanges||Qe.ngOnInit||Qe.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),S=!0),!R&&(Qe.ngOnChanges||Qe.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),R=!0),H++}!function Fm(n,i){const c=i.directiveEnd,d=n.data,p=i.attrs,v=[];let S=null,R=null;for(let H=i.directiveStart;H<c;H++){const Z=d[H],Me=Z.inputs,Qe=null===p||Ma(i)?null:wp(Me,p);v.push(Qe),S=Rd(Me,H,S),R=Rd(Z.outputs,H,R)}null!==S&&(S.hasOwnProperty("class")&&(i.flags|=16),S.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=v,i.inputs=S,i.outputs=R}(n,o)}v&&function c_(n,i,o){if(i){const c=n.localNames=[];for(let d=0;d<i.length;d+=2){const p=o[i[d+1]];if(null==p)throw new Te(-301,!1);c.push(i[d],p)}}}(o,c,v)}return o.mergedAttrs=go(o.mergedAttrs,o.attrs),d}function Bm(n,i,o,c,d,p){const v=p.hostBindings;if(v){let S=n.hostBindingOpCodes;null===S&&(S=n.hostBindingOpCodes=[]);const R=~i.index;(function a_(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(S)!=R&&S.push(R),S.push(c,d,v)}}function Vm(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function $m(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function Ep(n,i,o){if(o){if(i.exportAs)for(let c=0;c<i.exportAs.length;c++)o[i.exportAs[c]]=n;xn(i)&&(o[""]=n)}}function Um(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}function Od(n,i,o,c,d){n.data[c]=d;const p=d.factory||(d.factory=ve(d.type)),v=new xs(p,xn(d),null);n.blueprint[c]=v,o[c]=v,Bm(n,i,0,c,Vu(n,o,d.hostVars,jr),d)}function ef(n,i,o){const c=cr(i,n),d=mp(o),p=n[10],v=kl(n,Os(n,d,null,o.onPush?64:16,c,i,p,p.createRenderer(c,o),null,null));n[i.index]=v}function du(n,i,o,c,d,p){const v=cr(n,i);!function tf(n,i,o,c,d,p,v){if(null==p)N(n)?n.removeAttribute(i,d,o):i.removeAttribute(d);else{const S=null==v?te(p):v(p,c||"",d);N(n)?n.setAttribute(i,d,S,o):o?i.setAttributeNS(o,d,S):i.setAttribute(d,S)}}(i[11],v,p,n.value,o,c,d)}function bp(n,i,o,c,d,p){const v=p[i];if(null!==v){const S=c.setInput;for(let R=0;R<v.length;){const H=v[R++],Z=v[R++],Me=v[R++];null!==S?c.setInput(o,Me,H,Z):o[Z]=Me}}}function wp(n,i){let o=null,c=0;for(;c<i.length;){const d=i[c];if(0!==d)if(5!==d){if("number"==typeof d)break;n.hasOwnProperty(d)&&(null===o&&(o=[]),o.push(d,n[d],i[c+1])),c+=2}else c+=2;else c+=4}return o}function Pd(n,i,o,c){return new Array(n,!0,!1,i,null,0,c,o,null,null)}function jm(n,i){const o=Nr(i,n);if(y(o)){const c=o[1];80&o[2]?Wo(c,o,c.template,o[8]):o[5]>0&&Dp(o)}}function Dp(n){for(let c=_l(n);null!==c;c=Oh(c))for(let d=10;d<c.length;d++){const p=c[d];if(1024&p[2]){const v=p[1];Wo(v,p,v.template,p[8])}else p[5]>0&&Dp(p)}const o=n[1].components;if(null!==o)for(let c=0;c<o.length;c++){const d=Nr(o[c],n);y(d)&&d[5]>0&&Dp(d)}}function Hm(n,i){const o=Nr(i,n),c=o[1];(function Gm(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(c,o),Rl(c,o,o[8])}function kl(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Tp(n){for(;n;){n[2]|=64;const i=wd(n);if(rr(n)&&!i)return n;n=i}return null}function rf(n,i,o){const c=i[10];c.begin&&c.begin();try{Wo(n,i,n.template,o)}catch(d){throw sf(i,d),d}finally{c.end&&c.end()}}function Wm(n){!function Sp(n){for(let i=0;i<n.components.length;i++){const o=n.components[i],c=la(o),d=c[1];Ol(d,c,d.template,o)}}(n[8])}function kd(n,i,o){va(0),i(n,o)}const Km=(()=>Promise.resolve(null))();function xp(n){return n[7]||(n[7]=[])}function Mp(n){return n.cleanup||(n.cleanup=[])}function sf(n,i){const o=n[9],c=o?o.get(_d,null):null;c&&c.handleError(i)}function qm(n,i,o,c,d){for(let p=0;p<o.length;){const v=o[p++],S=o[p++],R=i[v],H=n.data[v];null!==H.setInput?H.setInput(R,d,c,S):R[S]=d}}function ka(n,i,o){const c=Ur(i,n);!function Nc(n,i,o){N(n)?n.setValue(i,o):i.textContent=o}(n[11],c,o)}function Nd(n,i,o){let c=o?n.styles:null,d=o?n.classes:null,p=0;if(null!==i)for(let v=0;v<i.length;v++){const S=i[v];"number"==typeof S?p=S:1==p?d=me(d,S):2==p&&(c=me(c,S+": "+i[++v]+";"))}o?n.styles=c:n.stylesWithoutHost=c,o?n.classes=d:n.classesWithoutHost=d}const $c=new Gn("INJECTOR",-1);class Fd{get(i,o=yo){if(o===yo){const c=new Error(`NullInjectorError: No provider for ${X(i)}!`);throw c.name="NullInjectorError",c}return o}}const Ld=new Gn("Set Injector scope."),Uc={},Pp={};let of;function Xm(){return void 0===of&&(of=new Fd),of}function kp(n,i=null,o=null,c){const d=Bd(n,i,o,c);return d._resolveInjectorDefTypes(),d}function Bd(n,i=null,o=null,c){return new Np(n,o,i||Xm(),c)}class Np{constructor(i,o,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];o&&Ms(o,S=>this.processProvider(S,i,o)),Ms([i],S=>this.processInjectorType(S,[],p)),this.records.set($c,jc(void 0,this));const v=this.records.get(Ld);this.scope=null!=v?v.value:null,this.source=d||("object"==typeof i?null:X(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=yo,c=rn.Default){this.assertNotDestroyed();const d=tc(this),p=St(void 0);try{if(!(c&rn.SkipSelf)){let S=this.records.get(i);if(void 0===S){const R=function p_(n){return"function"==typeof n||"object"==typeof n&&n instanceof Gn}(i)&&hn(i);S=R&&this.injectableDefInScope(R)?jc(Fp(i),Uc):null,this.records.set(i,S)}if(null!=S)return this.hydrate(i,S)}return(c&rn.Self?Xm():this.parent).get(i,o=c&rn.Optional&&o===yo?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[Su]=v[Su]||[]).unshift(X(i)),d)throw v;return function Dh(n,i,o,c){const d=n[Su];throw i[Da]&&d.unshift(i[Da]),n.message=function dd(n,i,o,c=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let d=X(i);if(Array.isArray(i))d=i.map(X).join(" -> ");else if("object"==typeof i){let p=[];for(let v in i)if(i.hasOwnProperty(v)){let S=i[v];p.push(v+":"+("string"==typeof S?JSON.stringify(S):X(S)))}d=`{${p.join(", ")}}`}return`${o}${c?"("+c+")":""}[${d}]: ${n.replace(Ws,"\n  ")}`}("\n"+n.message,d,o,c),n.ngTokenPath=d,n[Su]=null,n}(v,i,"R3InjectorError",this.source)}throw v}finally{St(p),tc(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((c,d)=>i.push(X(d))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processInjectorType(i,o,c){if(!(i=we(i)))return!1;let d=Fr(i);const p=null==d&&i.ngModule||void 0,v=void 0===p?i:p,S=-1!==c.indexOf(v);if(void 0!==p&&(d=Fr(p)),null==d)return!1;if(null!=d.imports&&!S){let Z;c.push(v);try{Ms(d.imports,Me=>{this.processInjectorType(Me,o,c)&&(void 0===Z&&(Z=[]),Z.push(Me))})}finally{}if(void 0!==Z)for(let Me=0;Me<Z.length;Me++){const{ngModule:Qe,providers:mt}=Z[Me];Ms(mt,Gt=>this.processProvider(Gt,Qe,mt||Pn))}}this.injectorDefTypes.add(v);const R=ve(v)||(()=>new v);this.records.set(v,jc(R,Uc));const H=d.providers;if(null!=H&&!S){const Z=i;Ms(H,Me=>this.processProvider(Me,Z,H))}return void 0!==p&&void 0!==i.providers}processProvider(i,o,c){let d=Hc(i=we(i))?i:we(i&&i.provide);const p=function uo(n,i,o){return Vd(n)?jc(void 0,n.useValue):jc(Qm(n),Uc)}(i);if(Hc(i)||!0!==i.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=jc(void 0,Uc,!0),v.factory=()=>Ta(v.multi),this.records.set(d,v)),d=i,v.multi.push(i)}this.records.set(d,p)}hydrate(i,o){return o.value===Uc&&(o.value=Pp,o.value=o.factory()),"object"==typeof o.value&&o.value&&function f_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=we(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Fp(n){const i=hn(n),o=null!==i?i.factory:ve(n);if(null!==o)return o;if(n instanceof Gn)throw new Te(204,!1);if(n instanceof Function)return function l_(n){const i=n.length;if(i>0)throw ys(i,"?"),new Te(204,!1);const o=function or(n){const i=n&&(n[Mt]||n[Er]);if(i){const o=function Dn(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Te(204,!1)}function Qm(n,i,o){let c;if(Hc(n)){const d=we(n);return ve(d)||Fp(d)}if(Vd(n))c=()=>we(n.useValue);else if(function Lp(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...Ta(n.deps||[]));else if(function $d(n){return!(!n||!n.useExisting)}(n))c=()=>$i(we(n.useExisting));else{const d=we(n&&(n.useClass||n.provide));if(!function h_(n){return!!n.deps}(n))return ve(d)||Fp(d);c=()=>new d(...Ta(n.deps))}return c}function jc(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Vd(n){return null!==n&&"object"==typeof n&&ol in n}function Hc(n){return"function"==typeof n}let Ko=(()=>{class n{static create(o,c){var d;if(Array.isArray(o))return kp({name:""},c,o,"");{const p=null!==(d=o.name)&&void 0!==d?d:"";return kp({name:p},o.parent,o.providers,p)}}}return n.THROW_IF_NOT_FOUND=yo,n.NULL=new Fd,n.\u0275prov=Zt({token:n,providedIn:"any",factory:()=>$i($c)}),n.__NG_ELEMENT_ID__=-1,n})();function oy(n,i){cs(la(n)[1],bi())}function Hd(n){let i=function ay(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const c=[n];for(;i;){let d;if(xn(n))d=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Te(903,"");d=i.\u0275dir}if(d){if(o){c.push(d);const v=n;v.inputs=Gd(n.inputs),v.declaredInputs=Gd(n.declaredInputs),v.outputs=Gd(n.outputs);const S=d.hostBindings;S&&__(n,S);const R=d.viewQuery,H=d.contentQueries;if(R&&v_(n,R),H&&zp(n,H),Y(n.inputs,d.inputs),Y(n.declaredInputs,d.declaredInputs),Y(n.outputs,d.outputs),xn(d)&&d.data.animation){const Z=n.data;Z.animation=(Z.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let v=0;v<p.length;v++){const S=p[v];S&&S.ngInherit&&S(n),S===Hd&&(o=!1)}}i=Object.getPrototypeOf(i)}!function y_(n){let i=0,o=null;for(let c=n.length-1;c>=0;c--){const d=n[c];d.hostVars=i+=d.hostVars,d.hostAttrs=go(d.hostAttrs,o=go(o,d.hostAttrs))}}(c)}function Gd(n){return n===Bn?{}:n===Pn?[]:n}function v_(n,i){const o=n.viewQuery;n.viewQuery=o?(c,d)=>{i(c,d),o(c,d)}:i}function zp(n,i){const o=n.contentQueries;n.contentQueries=o?(c,d,p)=>{i(c,d,p),o(c,d,p)}:i}function __(n,i){const o=n.hostBindings;n.hostBindings=o?(c,d)=>{i(c,d),o(c,d)}:i}let Bl=null;function fc(){if(!Bl){const n=cn.Symbol;if(n&&n.iterator)Bl=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const c=i[o];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Bl=c)}}}return Bl}function da(n){return!!pc(n)&&(Array.isArray(n)||!(n instanceof Map)&&fc()in n)}function pc(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Na(n,i,o){return n[i]=o}function co(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function zd(n,i,o,c){const d=Vt();return co(d,As(),i)&&(sr(),du(Ai(),d,n,i,o,c)),zd}function jl(n,i,o,c){return co(n,As(),o)?i+te(o)+c:jr}function Hl(n,i,o,c,d,p){const S=function zc(n,i,o,c){const d=co(n,i,o);return co(n,i+1,c)||d}(n,function is(){return w.lFrame.bindingIndex}(),o,d);return Fs(2),S?i+te(o)+c+te(d)+p:jr}function fy(n,i,o,c,d,p,v,S){const R=Vt(),H=sr(),Z=n+20,Me=H.firstCreatePass?function Qp(n,i,o,c,d,p,v,S,R){const H=i.consts,Z=Vc(i,n,4,v||null,m(H,S));Jh(i,o,Z,m(H,R)),cs(i,Z);const Me=Z.tViews=Pa(2,Z,c,d,p,i.directiveRegistry,i.pipeRegistry,null,i.schemas,H);return null!==i.queries&&(i.queries.template(i,Z),Me.queries=i.queries.embeddedTView(Z)),Z}(Z,H,R,i,o,c,d,p,v):H.data[Z];Ni(Me,!1);const Qe=R[11].createComment("");Dd(H,R,Qe,Me),hs(Qe,R),kl(R,R[Z]=Pd(Qe,R,Qe,Me)),Nn(Me)&&gp(H,R,Me),null!=v&&dc(R,Me,S)}function py(n){return ni(function Va(){return w.lFrame.contextLView}(),20+n)}function Zd(n,i=rn.Default){const o=Vt();return null===o?$i(n,i):lr(bi(),o,we(n),i)}function Kl(){throw new Error("invalid")}function lg(n,i,o){const c=Vt();return co(c,As(),i)&&Po(sr(),Ai(),c,n,i,c[11],o,!1),lg}function Xd(n,i,o,c,d){const v=d?"class":"style";qm(n,o,i.inputs[v],v,c)}function Uu(n,i,o,c){const d=Vt(),p=sr(),v=20+n,S=d[11],R=d[v]=Nh(S,i,function Ea(){return w.lFrame.currentNamespace}()),H=p.firstCreatePass?function Dy(n,i,o,c,d,p,v){const S=i.consts,H=Vc(i,n,2,d,m(S,p));return Jh(i,o,H,m(S,v)),null!==H.attrs&&Nd(H,H.attrs,!1),null!==H.mergedAttrs&&Nd(H,H.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,H),H}(v,p,d,0,i,o,c):p.data[v];Ni(H,!0);const Z=H.mergedAttrs;null!==Z&&po(S,R,Z);const Me=H.classes;null!==Me&&ep(S,R,Me);const Qe=H.styles;return null!==Qe&&Jf(S,R,Qe),64!=(64&H.flags)&&Dd(p,d,R,H),0===function K(){return w.lFrame.elementDepthCount}()&&hs(R,d),function pt(){w.lFrame.elementDepthCount++}(),Nn(H)&&(gp(p,d,H),lc(p,H,d)),null!==c&&dc(d,H),Uu}function Qd(){let n=bi();ga()?No():(n=n.parent,Ni(n,!1));const i=n;!function tn(){w.lFrame.elementDepthCount--}();const o=sr();return o.firstCreatePass&&(cs(o,n),Ht(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function wu(n){return 0!=(16&n.flags)}(i)&&Xd(o,i,Vt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function xo(n){return 0!=(32&n.flags)}(i)&&Xd(o,i,Vt(),i.stylesWithoutHost,!1),Qd}function Yl(n,i,o,c){return Uu(n,i,o,c),Qd(),Yl}function _f(n,i,o){const c=Vt(),d=sr(),p=n+20,v=d.firstCreatePass?function A_(n,i,o,c,d){const p=i.consts,v=m(p,c),S=Vc(i,n,8,"ng-container",v);return null!==v&&Nd(S,v,!0),Jh(i,o,S,m(p,d)),null!==i.queries&&i.queries.elementStart(i,S),S}(p,d,c,i,o):d.data[p];Ni(v,!0);const S=c[p]=c[11].createComment("");return Dd(d,c,S,v),hs(S,c),Nn(v)&&(gp(d,c,v),lc(d,v,c)),null!=o&&dc(c,v),_f}function Ef(){let n=bi();const i=sr();return ga()?No():(n=n.parent,Ni(n,!1)),i.firstCreatePass&&(cs(i,n),Ht(n)&&i.queries.elementEnd(n)),Ef}function ql(n,i,o){return _f(n,i,o),Ef(),ql}function bf(){return Vt()}function Jd(n){return!!n&&"function"==typeof n.then}function wf(n){return!!n&&"function"==typeof n.subscribe}const dg=wf;function eh(n,i,o,c){const d=Vt(),p=sr(),v=bi();return function Df(n,i,o,c,d,p,v,S){const R=Nn(c),Z=n.firstCreatePass&&Mp(n),Me=i[8],Qe=xp(i);let mt=!0;if(3&c.type||S){const An=cr(c,i),er=S?S(An):An,Qt=Qe.length,mr=S?ui=>S(gt(ui[c.index])):c.index;if(N(o)){let ui=null;if(!S&&R&&(ui=function Cf(n,i,o,c){const d=n.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const v=d[p];if(v===o&&d[p+1]===c){const S=i[7],R=d[p+2];return S.length>R?S[R]:null}"string"==typeof v&&(p+=2)}return null}(n,i,d,c.index)),null!==ui)(ui.__ngLastListenerFn__||ui).__ngNextListenerFn__=p,ui.__ngLastListenerFn__=p,mt=!1;else{p=Zl(c,i,Me,p,!1);const Hi=o.listen(er,d,p);Qe.push(p,Hi),Z&&Z.push(d,mr,Qt,Qt+1)}}else p=Zl(c,i,Me,p,!0),er.addEventListener(d,p,v),Qe.push(p),Z&&Z.push(d,mr,Qt,v)}else p=Zl(c,i,Me,p,!1);const Gt=c.outputs;let pn;if(mt&&null!==Gt&&(pn=Gt[d])){const An=pn.length;if(An)for(let er=0;er<An;er+=2){const Ba=i[pn[er]][pn[er+1]].subscribe(p),bh=Qe.length;Qe.push(p,Ba),Z&&Z.push(d,c.index,bh,-(bh+1))}}}(p,d,d[11],v,n,i,!!o,c),eh}function hg(n,i,o,c){try{return!1!==o(c)}catch(d){return sf(n,d),!1}}function Zl(n,i,o,c,d){return function p(v){if(v===Function)return c;const S=2&n.flags?Nr(n.index,i):i;0==(32&i[2])&&Tp(S);let R=hg(i,0,c,v),H=p.__ngNextListenerFn__;for(;H;)R=hg(i,0,H,v)&&R,H=H.__ngNextListenerFn__;return d&&!1===R&&(v.preventDefault(),v.returnValue=!1),R}}function fg(n=1){return function ja(n){return(w.lFrame.contextLView=function Jo(n,i){for(;n>0;)i=i[15],n--;return i}(n,w.lFrame.contextLView))[8]}(n)}function pg(n,i){let o=null;const c=function _m(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(n);for(let d=0;d<i.length;d++){const p=i[d];if("*"!==p){if(null===c?rp(n,p,!0):xd(c,p))return d}else o=d}return o}function gg(n){const i=Vt()[q][6];if(!i.projection){const c=i.projection=ys(n?n.length:1,null),d=c.slice();let p=i.child;for(;null!==p;){const v=n?pg(p,n):0;null!==v&&(d[v]?d[v].projectionNext=p:c[v]=p,d[v]=p),p=p.next}}}function Yc(n,i=0,o){const c=Vt(),d=sr(),p=Vc(d,20+n,16,null,o||null);null===p.projection&&(p.projection=i),No(),64!=(64&p.flags)&&function Kv(n,i,o){gm(i[11],0,i,o,Wf(n,o,i),wl(o.parent||i[6],o,i))}(d,c,p)}function Sf(n,i,o,c,d){const p=Vt(),v=jl(p,i,o,c);return v!==jr&&Po(sr(),Ai(),p,n,v,p[11],d,!1),Sf}function Af(n,i,o,c,d){const p=n[o+1],v=null===i;let S=c?Ra(p):Lu(p),R=!1;for(;0!==S&&(!1===R||v);){const Z=n[S+1];ky(n[S],i)&&(R=!0,n[S+1]=c?Hh(Z):Uh(Z)),S=c?Ra(Z):Lu(Z)}R&&(n[o+1]=c?Uh(p):Hh(p))}function ky(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&ra(n,i)>=0}const Ps={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vg(n){return n.substring(Ps.key,Ps.keyEnd)}function _g(n,i){const o=Ps.textEnd;return o===i?-1:(i=Ps.keyEnd=function to(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,Ps.key=i,o),Mi(n,i,o))}function Mi(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function wg(n,i){return function pu(n,i,o,c){const d=Vt(),p=sr(),v=Fs(2);p.firstUpdatePass&&Ig(p,n,v,c),i!==jr&&co(d,v,i)&&By(p,p.data[Oi()],d,d[11],n,d[v+1]=function B_(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=X(G(n)))),n}(i,o),c,v)}(n,i,null,!0),wg}function Fy(n){!function gu(n,i,o,c){const d=sr(),p=Fs(2);d.firstUpdatePass&&Ig(d,null,p,c);const v=Vt();if(o!==jr&&co(v,p,o)){const S=d.data[Oi()];if(Fa(S,c)&&!bs(d,p)){let R=c?S.classesWithoutHost:S.stylesWithoutHost;null!==R&&(o=me(R,o||"")),Xd(d,S,v,o,c)}else!function L_(n,i,o,c,d,p,v,S){d===jr&&(d=Pn);let R=0,H=0,Z=0<d.length?d[0]:null,Me=0<p.length?p[0]:null;for(;null!==Z||null!==Me;){const Qe=R<d.length?d[R+1]:void 0,mt=H<p.length?p[H+1]:void 0;let pn,Gt=null;Z===Me?(R+=2,H+=2,Qe!==mt&&(Gt=Me,pn=mt)):null===Me||null!==Z&&Z<Me?(R+=2,Gt=Z):(H+=2,Gt=Me,pn=mt),null!==Gt&&By(n,i,o,c,Gt,pn,v,S),Z=R<d.length?d[R]:null,Me=H<p.length?p[H]:null}}(d,S,v,v[11],v[p+1],v[p+1]=function N_(n,i,o){if(null==o||""===o)return Pn;const c=[],d=G(o);if(Array.isArray(d))for(let p=0;p<d.length;p++)n(c,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&n(c,p,d[p]);else"string"==typeof d&&i(c,d);return c}(n,i,o),c,p)}}(vs,di,n,!0)}function di(n,i){for(let o=function ii(n){return function Eg(n){Ps.key=0,Ps.keyEnd=0,Ps.value=0,Ps.valueEnd=0,Ps.textEnd=n.length}(n),_g(n,Mi(n,0,Ps.textEnd))}(i);o>=0;o=_g(i,o))vs(n,vg(i),!0)}function bs(n,i){return i>=n.expandoStartIndex}function Ig(n,i,o,c){const d=n.data;if(null===d[o+1]){const p=d[Oi()],v=bs(n,o);Fa(p,c)&&null===i&&!v&&(i=!1),i=function O_(n,i,o,c){const d=function $a(n){const i=w.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let p=c?i.residualClasses:i.residualStyles;if(null===d)0===(c?i.classBindings:i.styleBindings)&&(o=nh(o=Cg(null,n,i,o,c),i.attrs,c),p=null);else{const v=i.directiveStylingLast;if(-1===v||n[v]!==d)if(o=Cg(d,n,i,o,c),null===p){let R=function P_(n,i,o){const c=o?i.classBindings:i.styleBindings;if(0!==Lu(c))return n[Ra(c)]}(n,i,c);void 0!==R&&Array.isArray(R)&&(R=Cg(null,n,i,R[1],c),R=nh(R,i.attrs,c),function Ly(n,i,o,c){n[Ra(o?i.classBindings:i.styleBindings)]=c}(n,i,c,R))}else p=function k_(n,i,o){let c;const d=i.directiveEnd;for(let p=1+i.directiveStylingLast;p<d;p++)c=nh(c,n[p].hostAttrs,o);return nh(c,i.attrs,o)}(n,i,c)}return void 0!==p&&(c?i.residualClasses=p:i.residualStyles=p),o}(d,p,i,c),function Oy(n,i,o,c,d,p){let v=p?i.classBindings:i.styleBindings,S=Ra(v),R=Lu(v);n[c]=o;let Z,H=!1;if(Array.isArray(o)){const Me=o;Z=Me[1],(null===Z||ra(Me,Z)>0)&&(H=!0)}else Z=o;if(d)if(0!==R){const Qe=Ra(n[S+1]);n[c+1]=$h(Qe,S),0!==Qe&&(n[Qe+1]=jh(n[Qe+1],c)),n[S+1]=function Sl(n,i){return 131071&n|i<<17}(n[S+1],c)}else n[c+1]=$h(S,0),0!==S&&(n[S+1]=jh(n[S+1],c)),S=c;else n[c+1]=$h(R,0),0===S?S=c:n[R+1]=jh(n[R+1],c),R=c;H&&(n[c+1]=Uh(n[c+1])),Af(n,Z,c,!0),Af(n,Z,c,!1),function Py(n,i,o,c,d){const p=d?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof i&&ra(p,i)>=0&&(o[c+1]=Hh(o[c+1]))}(i,Z,n,c,p),v=$h(S,R),p?i.classBindings=v:i.styleBindings=v}(d,p,i,o,v,c)}}function Cg(n,i,o,c,d){let p=null;const v=o.directiveEnd;let S=o.directiveStylingLast;for(-1===S?S=o.directiveStart:S++;S<v&&(p=i[S],c=nh(c,p.hostAttrs,d),p!==n);)S++;return null!==n&&(o.directiveStylingLast=S),c}function nh(n,i,o){const c=o?1:2;let d=-1;if(null!==i)for(let p=0;p<i.length;p++){const v=i[p];"number"==typeof v?d=v:d===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),vs(n,v,!!o||i[++p]))}return void 0===n?null:n}function By(n,i,o,c,d,p,v,S){if(!(3&i.type))return;const R=n.data,H=R[S+1];_c(function au(n){return 1==(1&n)}(H)?Dg(R,i,o,d,Lu(H),v):void 0)||(_c(p)||function Fu(n){return 2==(2&n)}(H)&&(p=Dg(R,null,o,d,S,v)),function Tl(n,i,o,c,d){const p=N(n);if(i)d?p?n.addClass(o,c):o.classList.add(c):p?n.removeClass(o,c):o.classList.remove(c);else{let v=-1===c.indexOf("-")?void 0:bo.DashCase;if(null==d)p?n.removeStyle(o,c,v):o.style.removeProperty(c);else{const S="string"==typeof d&&d.endsWith("!important");S&&(d=d.slice(0,-10),v|=bo.Important),p?n.setStyle(o,c,d,v):o.style.setProperty(c,d,S?"important":"")}}}(c,v,Ur(Oi(),o),d,p))}function Dg(n,i,o,c,d,p){const v=null===i;let S;for(;d>0;){const R=n[d],H=Array.isArray(R),Z=H?R[1]:R,Me=null===Z;let Qe=o[d+1];Qe===jr&&(Qe=Me?Pn:void 0);let mt=Me?Bs(Qe,c):Z===c?Qe:void 0;if(H&&!_c(mt)&&(mt=Bs(R,c)),_c(mt)&&(S=mt,v))return S;const Gt=n[d+1];d=v?Ra(Gt):Lu(Gt)}if(null!==i){let R=p?i.residualClasses:i.residualStyles;null!=R&&(S=Bs(R,c))}return S}function _c(n){return void 0!==n}function Fa(n,i){return 0!=(n.flags&(i?16:32))}function mu(n,i=""){const o=Vt(),c=sr(),d=n+20,p=c.firstCreatePass?Vc(c,d,1,i,null):c.data[d],v=o[d]=function kh(n,i){return N(n)?n.createText(i):n.createTextNode(i)}(o[11],i);Dd(c,o,v,p),Ni(p,!1)}function Vy(n){return yu("",n,""),Vy}function yu(n,i,o){const c=Vt(),d=jl(c,n,i,o);return d!==jr&&ka(c,Oi(),d),yu}function Ql(n,i,o,c,d){const p=Vt(),v=Hl(p,n,i,o,c,d);return v!==jr&&ka(p,Oi(),v),Ql}const nd=void 0;var kg=["en",[["a","p"],["AM","PM"],nd],[["AM","PM"],nd,nd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],nd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],nd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",nd,"{1} 'at' {0}",nd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gE(n){const o=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let rd={};function Fg(n){const i=function H_(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=qy(i);if(o)return o;const c=i.split("-")[0];if(o=qy(c),o)return o;if("en"===c)return kg;throw new Error(`Missing locale data for the locale "${n}".`)}function ah(n){return Fg(n)[dr.PluralCase]}function qy(n){return n in rd||(rd[n]=cn.ng&&cn.ng.common&&cn.ng.common.locales&&cn.ng.common.locales[n]),rd[n]}var dr=(()=>((dr=dr||{})[dr.LocaleId=0]="LocaleId",dr[dr.DayPeriodsFormat=1]="DayPeriodsFormat",dr[dr.DayPeriodsStandalone=2]="DayPeriodsStandalone",dr[dr.DaysFormat=3]="DaysFormat",dr[dr.DaysStandalone=4]="DaysStandalone",dr[dr.MonthsFormat=5]="MonthsFormat",dr[dr.MonthsStandalone=6]="MonthsStandalone",dr[dr.Eras=7]="Eras",dr[dr.FirstDayOfWeek=8]="FirstDayOfWeek",dr[dr.WeekendRange=9]="WeekendRange",dr[dr.DateFormat=10]="DateFormat",dr[dr.TimeFormat=11]="TimeFormat",dr[dr.DateTimeFormat=12]="DateTimeFormat",dr[dr.NumberSymbols=13]="NumberSymbols",dr[dr.NumberFormats=14]="NumberFormats",dr[dr.CurrencyCode=15]="CurrencyCode",dr[dr.CurrencySymbol=16]="CurrencySymbol",dr[dr.CurrencyName=17]="CurrencyName",dr[dr.Currencies=18]="Currencies",dr[dr.Directionality=19]="Directionality",dr[dr.PluralCase=20]="PluralCase",dr[dr.ExtraData=21]="ExtraData",dr))();const uh="en-US";let dh=uh;function Gg(n,i,o,c,d){if(n=we(n),Array.isArray(n))for(let p=0;p<n.length;p++)Gg(n[p],i,o,c,d);else{const p=sr(),v=Vt();let S=Hc(n)?n:we(n.provide),R=Qm(n);const H=bi(),Z=1048575&H.providerIndexes,Me=H.directiveStart,Qe=H.providerIndexes>>20;if(Hc(n)||!n.multi){const mt=new xs(R,d,Zd),Gt=vu(S,i,d?Z:Z+Qe,Me);-1===Gt?(Ot(U(H,v),p,S),zg(p,n,i.length),i.push(S),H.directiveStart++,H.directiveEnd++,d&&(H.providerIndexes+=1048576),o.push(mt),v.push(mt)):(o[Gt]=mt,v[Gt]=mt)}else{const mt=vu(S,i,Z+Qe,Me),Gt=vu(S,i,Z,Z+Qe),pn=mt>=0&&o[mt],An=Gt>=0&&o[Gt];if(d&&!An||!d&&!pn){Ot(U(H,v),p,S);const er=function _v(n,i,o,c,d){const p=new xs(n,o,Zd);return p.multi=[],p.index=i,p.componentProviders=0,vv(p,d,c&&!o),p}(d?y0:m0,o.length,d,c,R);!d&&An&&(o[Gt].providerFactory=er),zg(p,n,i.length,0),i.push(S),H.directiveStart++,H.directiveEnd++,d&&(H.providerIndexes+=1048576),o.push(er),v.push(er)}else zg(p,n,mt>-1?mt:Gt,vv(o[d?Gt:mt],R,!d&&c));!d&&c&&An&&o[Gt].componentProviders++}}}function zg(n,i,o,c){const d=Hc(i),p=function d_(n){return!!n.useClass}(i);if(d||p){const R=(p?we(i.useClass):i).prototype.ngOnDestroy;if(R){const H=n.destroyHooks||(n.destroyHooks=[]);if(!d&&i.multi){const Z=H.indexOf(o);-1===Z?H.push(o,[c,R]):H[Z+1].push(c,R)}else H.push(o,R)}}}function vv(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function vu(n,i,o,c){for(let d=o;d<c;d++)if(i[d]===n)return d;return-1}function m0(n,i,o,c){return Wg(this.multi,[])}function y0(n,i,o,c){const d=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,S=Oo(o,o[1],this.providerFactory.index,c);p=S.slice(0,v),Wg(d,p);for(let R=v;R<S.length;R++)p.push(S[R])}else p=[],Wg(d,p);return p}function Wg(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function Ev(n,i=[]){return o=>{o.providersResolver=(c,d)=>function nl(n,i,o){const c=sr();if(c.firstCreatePass){const d=xn(n);Gg(o,c.data,c.blueprint,d,!0),Gg(i,c.data,c.blueprint,d,!1)}}(c,d?d(n):n,i)}}class yh{}class v0{resolveComponentFactory(i){throw function bv(n){const i=Error(`No component factory found for ${X(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let vh=(()=>{class n{}return n.NULL=new v0,n})();function Cv(){return rl(bi(),Vt())}function rl(n,i){return new _h(cr(n,i))}let _h=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Cv,n})();function Dv(n){return n instanceof _h?n.nativeElement:n}class Tv{}let E0=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Av(){const n=Vt(),o=Nr(bi().index,n);return function Sv(n){return n[11]}(Rt(o)?o:n)}(),n})(),b0=(()=>{class n{}return n.\u0275prov=Zt({token:n,providedIn:"root",factory:()=>null}),n})();class r{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const e=new r("13.2.7"),t={};function s(n,i,o,c,d=!1){for(;null!==o;){const p=i[o.index];if(null!==p&&c.push(gt(p)),At(p))for(let S=10;S<p.length;S++){const R=p[S],H=R[1].firstChild;null!==H&&s(R[1],R,H,c)}const v=o.type;if(8&v)s(n,i,o.child,c);else if(32&v){const S=Rh(o,i);let R;for(;R=S();)c.push(R)}else if(16&v){const S=pm(i,o);if(Array.isArray(S))c.push(...S);else{const R=wd(i[q]);s(R[1],R,S,c,!0)}}o=d?o.projectionNext:o.next}return c}class a{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return s(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(At(i)){const o=i[8],c=o?o.indexOf(this):-1;c>-1&&(zf(i,c),Ia(o,c))}this._attachedToViewContainer=!1}lm(this._lView[1],this._lView)}onDestroy(i){yp(this._lView[1],this._lView,null,i)}markForCheck(){Tp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){rf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Nl(n,i,o){ho(!0);try{rf(n,i,o)}finally{ho(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Te(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bl(n,i){Sd(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Te(902,"");this._appRef=i}}class l extends a{constructor(i){super(i),this._view=i}detectChanges(){Wm(this._view)}checkNoChanges(){!function Fl(n){ho(!0);try{Wm(n)}finally{ho(!1)}}(this._view)}get context(){return null}}class f extends vh{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=dn(i);return new ne(o,this.ngModule)}}function D(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class ne extends yh{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Em(n){return n.map(Zv).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return D(this.componentDef.inputs)}get outputs(){return D(this.componentDef.outputs)}create(i,o,c,d){const p=(d=d||this.ngModule)?function j(n,i){return{get:(o,c,d)=>{const p=n.get(o,t,d);return p!==t||c===t?p:i.get(o,c,d)}}}(i,d.injector):i,v=p.get(Tv,oe),S=p.get(b0,null),R=v.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",Z=c?function Nm(n,i,o){if(N(n))return n.selectRootElement(i,o===wn.ShadowDom);let c="string"==typeof i?n.querySelector(i):i;return c.textContent="",c}(R,c,this.componentDef.encapsulation):Nh(v.createRenderer(null,this.componentDef),H,function F(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(H)),Me=this.componentDef.onPush?576:528,Qe=function sy(n,i){return{components:[],scheduler:n||sm,clean:Km,playerHandler:i||null,flags:0}}(),mt=Pa(0,null,null,1,0,null,null,null,null,null),Gt=Os(null,mt,Qe,Me,null,null,v,R,S,p);let pn,An;Lo(Gt);try{const er=function df(n,i,o,c,d,p){const v=o[1];o[20]=n;const R=Vc(v,20,2,"#host",null),H=R.mergedAttrs=i.hostAttrs;null!==H&&(Nd(R,H,!0),null!==n&&(po(d,n,H),null!==R.classes&&ep(d,n,R.classes),null!==R.styles&&Jf(d,n,R.styles)));const Z=c.createRenderer(n,i),Me=Os(o,mp(i),null,i.onPush?64:16,o[20],R,c,Z,p||null,null);return v.firstCreatePass&&(Ot(U(R,o),v,i.type),$m(v,R),Um(R,o.length,1)),kl(o,Me),o[20]=Me}(Z,this.componentDef,Gt,v,R);if(Z)if(c)po(R,Z,["ng-version",e.full]);else{const{attrs:Qt,classes:mr}=function ip(n){const i=[],o=[];let c=1,d=2;for(;c<n.length;){let p=n[c];if("string"==typeof p)2===d?""!==p&&i.push(p,n[++c]):8===d&&o.push(p);else{if(!wo(d))break;d=p}c++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Qt&&po(R,Z,Qt),mr&&mr.length>0&&ep(R,Z,mr.join(" "))}if(An=Sr(mt,20),void 0!==o){const Qt=An.projection=[];for(let mr=0;mr<this.ngContentSelectors.length;mr++){const ui=o[mr];Qt.push(null!=ui?Array.from(ui):null)}}pn=function iy(n,i,o,c,d){const p=o[1],v=function o_(n,i,o){const c=bi();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Od(n,c,i,Vu(n,i,1,null),o));const d=Oo(i,n,c.directiveStart,c);hs(d,i);const p=cr(c,i);return p&&hs(p,i),d}(p,o,i);if(c.components.push(v),n[8]=v,d&&d.forEach(R=>R(v,i)),i.contentQueries){const R=bi();i.contentQueries(1,v,R.directiveStart)}const S=bi();return!p.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Gs(S.index),Bm(o[1],S,0,S.directiveStart,S.directiveEnd,i),Vm(i,v)),v}(er,this.componentDef,Gt,Qe,[oy]),Rl(mt,Gt,null)}finally{Hs()}return new Ut(this.componentType,pn,rl(An,Gt),Gt,An)}}class Ut extends class Kg{}{constructor(i,o,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new l(d),this.componentType=i}get injector(){return new Fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class bn{}class Fn{}const Ar=new Map;class wc extends bn{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new f(this);const c=kn(i);this._bootstrapComponents=Eo(c.bootstrap),this._r3Injector=Bd(i,o,[{provide:bn,useValue:this},{provide:vh,useValue:this.componentFactoryResolver}],X(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=Ko.THROW_IF_NOT_FOUND,c=rn.Default){return i===Ko||i===bn||i===$c?this:this._r3Injector.get(i,o,c)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Lf extends Fn{constructor(i){super(),this.moduleType=i,null!==kn(i)&&function ps(n){const i=new Set;!function o(c){const d=kn(c,!0),p=d.id;null!==p&&(function Hr(n,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${n} - ${X(i)} vs ${X(i.name)}`)}(p,Ar.get(p),c),Ar.set(p,c));const v=Eo(d.imports);for(const S of v)i.has(S)||(i.add(S),o(S))}(n)}(i)}create(i){return new wc(this.moduleType,i)}}function DE(n,i,o){const c=rs()+n,d=Vt();return d[c]===jr?Na(d,c,o?i.call(o):i()):function hu(n,i){return n[i]}(d,c)}function TE(n,i,o,c,d,p){const v=i+o;return co(n,v,d)?Na(n,v+1,p?c.call(p,d):c(d)):function Yg(n,i){const o=n[i];return o===jr?void 0:o}(n,v+1)}function RE(n,i){const o=sr();let c;const d=n+20;o.firstCreatePass?(c=function Yb(n,i){if(i)for(let o=i.length-1;o>=0;o--){const c=i[o];if(n===c.name)return c}}(i,o.pipeRegistry),o.data[d]=c,c.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(d,c.onDestroy)):c=o.data[d];const p=c.factory||(c.factory=ve(c.type)),v=St(Zd);try{const S=Ro(!1),R=p();return Ro(S),function Jp(n,i,o,c){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=c}(o,Vt(),d,R),R}finally{St(v)}}function OE(n,i,o){const c=n+20,d=Vt(),p=ni(d,c);return function qg(n,i){return n[1].data[i].pure}(d,c)?TE(d,rs(),i,p.transform,o,p):p.transform(o)}function w0(n){return i=>{setTimeout(n,void 0,i)}}const Ic=class Jb extends u.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,c){var d,p,v;let S=i,R=o||(()=>null),H=c;if(i&&"object"==typeof i){const Me=i;S=null===(d=Me.next)||void 0===d?void 0:d.bind(Me),R=null===(p=Me.error)||void 0===p?void 0:p.bind(Me),H=null===(v=Me.complete)||void 0===v?void 0:v.bind(Me)}this.__isAsync&&(R=w0(R),S&&(S=w0(S)),H&&(H=w0(H)));const Z=super.subscribe({next:S,error:R,complete:H});return i instanceof P.w&&i.add(Z),Z}};function ew(){return this._results[fc()]()}class I0{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=fc(),c=I0.prototype;c[o]||(c[o]=ew)}get changes(){return this._changes||(this._changes=new Ic)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const c=this;c.dirty=!1;const d=io(i);(this._changesDetected=!function Zu(n,i,o){if(n.length!==i.length)return!1;for(let c=0;c<n.length;c++){let d=n[c],p=i[c];if(o&&(d=o(d),p=o(p)),p!==d)return!1}return!0}(c._results,d,o))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Zg=(()=>{class n{}return n.__NG_ELEMENT_ID__=rw,n})();const tw=Zg,nw=class extends tw{constructor(i,o,c){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=c}createEmbeddedView(i){const o=this._declarationTContainer.tViews,c=Os(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(o)),Rl(o,c,i),new a(c)}};function rw(){return xv(bi(),Vt())}function xv(n,i){return 4&n.type?new nw(i,n,rl(n,i)):null}let Mv=(()=>{class n{}return n.__NG_ELEMENT_ID__=iw,n})();function iw(){return NE(bi(),Vt())}const sw=Mv,PE=class extends sw{constructor(i,o,c){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=c}get element(){return rl(this._hostTNode,this._hostLView)}get injector(){return new Fi(this._hostTNode,this._hostLView)}get parentInjector(){const i=He(this._hostTNode,this._hostLView);if(mo(i)){const o=Mo(i,this._hostLView),c=$o(i);return new Fi(o[1].data[c+8],o)}return new Fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=kE(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,c){const d=i.createEmbeddedView(o||{});return this.insert(d,c),d}createComponent(i,o,c,d,p){const v=i&&!function Qs(n){return"function"==typeof n}(i);let S;if(v)S=o;else{const Me=o||{};S=Me.index,c=Me.injector,d=Me.projectableNodes,p=Me.ngModuleRef}const R=v?i:new ne(dn(i)),H=c||this.parentInjector;if(!p&&null==R.ngModule){const Qe=(v?H:this.parentInjector).get(bn,null);Qe&&(p=Qe)}const Z=R.create(H,d,void 0,p);return this.insert(Z.hostView,S),Z}insert(i,o){const c=i._lView,d=c[1];if(function $(n){return At(n[3])}(c)){const Z=this.indexOf(i);if(-1!==Z)this.detach(Z);else{const Me=c[3],Qe=new PE(Me,Me[6],Me[3]);Qe.detach(Qe.indexOf(i))}}const p=this._adjustIndex(o),v=this._lContainer;!function Hf(n,i,o,c){const d=10+c,p=o.length;c>0&&(o[d-1][4]=i),c<p-10?(i[4]=o[d],Tc(o,10+c,i)):(o.push(i),i[4]=null),i[3]=o;const v=i[17];null!==v&&o!==v&&function Gf(n,i){const o=n[9];i[q]!==i[3][3][q]&&(n[2]=!0),null===o?n[9]=[i]:o.push(i)}(v,i);const S=i[19];null!==S&&S.insertView(n),i[2]|=128}(d,c,v,p);const S=Bh(p,v),R=c[11],H=Cd(R,v[7]);return null!==H&&function cm(n,i,o,c,d,p){c[0]=d,c[6]=i,Sd(n,c,o,1,d,p)}(d,v[6],R,c,H,S),i.attachToViewContainerRef(),Tc(C0(v),p,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=kE(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),c=zf(this._lContainer,o);c&&(Ia(C0(this._lContainer),o),lm(c[1],c))}detach(i){const o=this._adjustIndex(i,-1),c=zf(this._lContainer,o);return c&&null!=Ia(C0(this._lContainer),o)?new a(c):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function kE(n){return n[8]}function C0(n){return n[8]||(n[8]=[])}function NE(n,i){let o;const c=i[n.index];if(At(c))o=c;else{let d;if(8&n.type)d=gt(c);else{const p=i[11];d=p.createComment("");const v=cr(n,i);ou(p,Cd(p,v),d,function Yf(n,i){return N(n)?n.nextSibling(i):i.nextSibling}(p,v),!1)}i[n.index]=o=Pd(c,i,d,n),kl(i,o)}return new PE(o,n,i)}class D0{constructor(i){this.queryList=i,this.matches=null}clone(){return new D0(this.queryList)}setDirty(){this.queryList.setDirty()}}class T0{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const c=null!==i.contentQueries?i.contentQueries[0]:o.length,d=[];for(let p=0;p<c;p++){const v=o.getByIndex(p);d.push(this.queries[v.indexInDeclarationView].clone())}return new T0(d)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==GE(i,o).matches&&this.queries[o].setDirty()}}class FE{constructor(i,o,c=null){this.predicate=i,this.flags=o,this.read=c}}class S0{constructor(i=[]){this.queries=i}elementStart(i,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let c=0;c<this.length;c++){const d=null!==o?o.length:0,p=this.getByIndex(c).embeddedTView(i,d);p&&(p.indexInDeclarationView=c,null!==o?o.push(p):o=[p])}return null!==o?new S0(o):null}template(i,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class A0{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new A0(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let c=i.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(i,o,uw(o,p)),this.matchTNodeWithReadOption(i,o,jn(o,i,p,!1,!1))}else c===Zg?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,jn(o,i,c,!1,!1))}matchTNodeWithReadOption(i,o,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===_h||d===Mv||d===Zg&&4&o.type)this.addMatch(o.index,-2);else{const p=jn(o,i,d,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,c)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function uw(n,i){const o=n.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===i)return o[c+1];return null}function lw(n,i,o,c){return-1===o?function cw(n,i){return 11&n.type?rl(n,i):4&n.type?xv(n,i):null}(i,n):-2===o?function dw(n,i,o){return o===_h?rl(i,n):o===Zg?xv(i,n):o===Mv?NE(i,n):void 0}(n,i,c):Oo(n,n[1],o,i)}function LE(n,i,o,c){const d=i[19].queries[c];if(null===d.matches){const p=n.data,v=o.matches,S=[];for(let R=0;R<v.length;R+=2){const H=v[R];S.push(H<0?null:lw(i,p[H],v[R+1],o.metadata.read))}d.matches=S}return d.matches}function x0(n,i,o,c){const d=n.queries.getByIndex(o),p=d.matches;if(null!==p){const v=LE(n,i,d,o);for(let S=0;S<p.length;S+=2){const R=p[S];if(R>0)c.push(v[S/2]);else{const H=p[S+1],Z=i[-R];for(let Me=10;Me<Z.length;Me++){const Qe=Z[Me];Qe[17]===Qe[3]&&x0(Qe[1],Qe,H,c)}if(null!==Z[9]){const Me=Z[9];for(let Qe=0;Qe<Me.length;Qe++){const mt=Me[Qe];x0(mt[1],mt,H,c)}}}}}return c}function BE(n){const i=Vt(),o=sr(),c=fo();va(c+1);const d=GE(o,c);if(n.dirty&&Ri(i)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const p=d.crossesNgTemplate?x0(o,i,c,[]):LE(o,i,d,c);n.reset(p,Dv),n.notifyOnChanges()}return!0}return!1}function VE(n,i,o){const c=sr();c.firstCreatePass&&(HE(c,new FE(n,i,o),-1),2==(2&i)&&(c.staticViewQueries=!0)),jE(c,Vt(),i)}function $E(n,i,o,c){const d=sr();if(d.firstCreatePass){const p=bi();HE(d,new FE(i,o,c),p.index),function fw(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(d,n),2==(2&o)&&(d.staticContentQueries=!0)}jE(d,Vt(),o)}function UE(){return function hw(n,i){return n[19].queries[i].queryList}(Vt(),fo())}function jE(n,i,o){const c=new I0(4==(4&o));yp(n,i,c,c.destroy),null===i[19]&&(i[19]=new T0),i[19].queries.push(new D0(c))}function HE(n,i,o){null===n.queries&&(n.queries=new S0),n.queries.track(new A0(i,o))}function GE(n,i){return n.queries.getByIndex(i)}function zE(n,i){return xv(n,i)}function Pv(...n){}const ub=new Gn("Application Initializer");let N0=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Pv,this.reject=Pv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(Jd(p))o.push(p);else if(dg(p)){const v=new Promise((S,R)=>{p.subscribe({complete:S,error:R})});o.push(v)}}Promise.all(o).then(()=>{c()}).catch(d=>{this.reject(d)}),0===o.length&&c(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)($i(ub,8))},n.\u0275prov=Zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cb=new Gn("AppId",{providedIn:"root",factory:function lb(){return`${F0()}${F0()}${F0()}`}});function F0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const db=new Gn("Platform Initializer"),hb=new Gn("Platform ID"),fb=new Gn("appBootstrapListener");let pb=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Zt({token:n,factory:n.\u0275fac}),n})();const L0=new Gn("LocaleId",{providedIn:"root",factory:()=>Ch(L0,rn.Optional|rn.SkipSelf)||function Mw(){return"undefined"!=typeof $localize&&$localize.locale||uh}()}),Rw=new Gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ow{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let Pw=(()=>{class n{compileModuleSync(o){return new Lf(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),p=Eo(kn(o).declarations).reduce((v,S)=>{const R=dn(S);return R&&v.push(new ne(R)),v},[]);return new Ow(c,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nw=(()=>Promise.resolve(0))();function B0(n){"undefined"==typeof Zone?Nw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Gu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ic(!1),this.onMicrotaskEmpty=new Ic(!1),this.onStable=new Ic(!1),this.onError=new Ic(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&o,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Fw(){let n=cn.requestAnimationFrame,i=cn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Vw(n){const i=()=>{!function Bw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(cn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,$0(n),n.isCheckStableRunning=!0,V0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),$0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,d,p,v,S)=>{try{return gb(n),o.invokeTask(d,p,v,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&i(),mb(n)}},onInvoke:(o,c,d,p,v,S,R)=>{try{return gb(n),o.invoke(d,p,v,S,R)}finally{n.shouldCoalesceRunChangeDetection&&i(),mb(n)}},onHasTask:(o,c,d,p)=>{o.hasTask(d,p),c===d&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,$0(n),V0(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,c,d,p)=>(o.handleError(d,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,c){return this._inner.run(i,o,c)}runTask(i,o,c,d){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+d,i,Lw,Pv,Pv);try{return p.runTask(v,o,c)}finally{p.cancelTask(v)}}runGuarded(i,o,c){return this._inner.runGuarded(i,o,c)}runOutsideAngular(i){return this._outer.run(i)}}const Lw={};function V0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function $0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function gb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function mb(n){n._nesting--,V0(n)}class $w{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ic,this.onMicrotaskEmpty=new Ic,this.onStable=new Ic,this.onError=new Ic}run(i,o,c){return i.apply(o,c)}runGuarded(i,o,c){return i.apply(o,c)}runOutsideAngular(i){return i()}runTask(i,o,c,d){return i.apply(o,c)}}let yb=(()=>{class n{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gu.assertNotInAngularZone(),B0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())B0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),o(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:d})}whenStable(o,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,c,d){return[]}}return n.\u0275fac=function(o){return new(o||n)($i(Gu))},n.\u0275prov=Zt({token:n,factory:n.\u0275fac}),n})(),vb=(()=>{class n{constructor(){this._applications=new Map,U0.addToWindow(this)}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return U0.findTestabilityInTree(this,o,c)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Zt({token:n,factory:n.\u0275fac}),n})();class Uw{addToWindow(i){}findTestabilityInTree(i,o,c){return null}}function jw(n){U0=n}let zu,U0=new Uw;const _b=new Gn("AllowMultipleToken");class zw{constructor(i,o){this.name=i,this.token=o}}function Eb(n,i,o=[]){const c=`Platform: ${i}`,d=new Gn(c);return(p=[])=>{let v=bb();if(!v||v.injector.get(_b,!1))if(n)n(o.concat(p).concat({provide:d,useValue:!0}));else{const S=o.concat(p).concat({provide:d,useValue:!0},{provide:Ld,useValue:"platform"});!function Ww(n){if(zu&&!zu.destroyed&&!zu.injector.get(_b,!1))throw new Te(400,"");zu=n.get(wb);const i=n.get(db,null);i&&i.forEach(o=>o())}(Ko.create({providers:S,name:c}))}return function Kw(n){const i=bb();if(!i)throw new Te(401,"");return i}()}}function bb(){return zu&&!zu.destroyed?zu:null}let wb=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const S=function Yw(n,i){let o;return o="noop"===n?new $w:("zone.js"===n?void 0:n)||new Gu({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),R=[{provide:Gu,useValue:S}];return S.run(()=>{const H=Ko.create({providers:R,parent:this.injector,name:o.moduleType.name}),Z=o.create(H),Me=Z.injector.get(_d,null);if(!Me)throw new Te(402,"");return S.runOutsideAngular(()=>{const Qe=S.onError.subscribe({next:mt=>{Me.handleError(mt)}});Z.onDestroy(()=>{H0(this._modules,Z),Qe.unsubscribe()})}),function qw(n,i,o){try{const c=o();return Jd(c)?c.catch(d=>{throw i.runOutsideAngular(()=>n.handleError(d)),d}):c}catch(c){throw i.runOutsideAngular(()=>n.handleError(c)),c}}(Me,S,()=>{const Qe=Z.injector.get(N0);return Qe.runInitializers(),Qe.donePromise.then(()=>(function z_(n){Ge(n,"Expected localeId to be defined"),"string"==typeof n&&(dh=n.toLowerCase().replace(/_/g,"-"))}(Z.injector.get(L0,uh)||uh),this._moduleDoBootstrap(Z),Z))})})}bootstrapModule(o,c=[]){const d=Ib({},c);return function Hw(n,i,o){const c=new Lf(o);return Promise.resolve(c)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(o){const c=o.injector.get(j0);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new Te(403,"");o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)($i(Ko))},n.\u0275prov=Zt({token:n,factory:n.\u0275fac}),n})();function Ib(n,i){return Array.isArray(i)?i.reduce(Ib,n):Object.assign(Object.assign({},n),i)}let j0=(()=>{class n{constructor(o,c,d,p,v){this._zone=o,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=p,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const S=new k.y(H=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{H.next(this._stable),H.complete()})}),R=new k.y(H=>{let Z;this._zone.runOutsideAngular(()=>{Z=this._zone.onStable.subscribe(()=>{Gu.assertNotInAngularZone(),B0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,H.next(!0))})})});const Me=this._zone.onUnstable.subscribe(()=>{Gu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{H.next(!1)}))});return()=>{Z.unsubscribe(),Me.unsubscribe()}});this.isStable=(0,Ie.T)(S,R.pipe(function ye(){return n=>(0,ie.x)()((0,Ee.O)(de)(n))}()))}bootstrap(o,c){if(!this._initStatus.done)throw new Te(405,"");let d;d=o instanceof yh?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(d.componentType);const p=function Gw(n){return n.isBoundToModule}(d)?void 0:this._injector.get(bn),S=d.create(Ko.NULL,[],c||d.selector,p),R=S.location.nativeElement,H=S.injector.get(yb,null),Z=H&&S.injector.get(vb);return H&&Z&&Z.registerApplication(R,H),S.onDestroy(()=>{this.detachView(S.hostView),H0(this.components,S),Z&&Z.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Te(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;H0(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(fb,[]).concat(this._bootstrapListeners).forEach(d=>d(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(o){return new(o||n)($i(Gu),$i(Ko),$i(_d),$i(vh),$i(N0))},n.\u0275prov=Zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function H0(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let Db=!0,Tb=!1;function Xw(){return Tb=!0,Db}function Qw(){if(Tb)throw new Error("Cannot enable prod mode after platform setup.");Db=!1}let Jw=(()=>{class n{}return n.__NG_ELEMENT_ID__=eI,n})();function eI(n){return function tI(n,i,o){if(nn(n)&&!o){const c=Nr(n.index,i);return new a(c,c)}return 47&n.type?new a(i[q],i):null}(bi(),Vt(),16==(16&n))}class Mb{constructor(){}supports(i){return da(i)}create(i){return new aI(i)}}const oI=(n,i)=>i;class aI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||oI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,c=this._removalsHead,d=0,p=null;for(;o||c;){const v=!c||o&&o.currentIndex<Ob(c,d,p)?o:c,S=Ob(v,d,p),R=v.currentIndex;if(v===c)d--,c=c._nextRemoved;else if(o=o._next,null==v.previousIndex)d++;else{p||(p=[]);const H=S-d,Z=R-d;if(H!=Z){for(let Qe=0;Qe<H;Qe++){const mt=Qe<p.length?p[Qe]:p[Qe]=0,Gt=mt+Qe;Z<=Gt&&Gt<H&&(p[Qe]=mt+1)}p[v.previousIndex]=Z-H}}S!==R&&i(v,S,R)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!da(i))throw new Te(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let d,p,v,o=this._itHead,c=!1;if(Array.isArray(i)){this.length=i.length;for(let S=0;S<this.length;S++)p=i[S],v=this._trackByFn(S,p),null!==o&&Object.is(o.trackById,v)?(c&&(o=this._verifyReinsertion(o,p,v,S)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,v,S),c=!0),o=o._next}else d=0,function $l(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[fc()]();let c;for(;!(c=o.next()).done;)i(c.value)}}(i,S=>{v=this._trackByFn(d,S),null!==o&&Object.is(o.trackById,v)?(c&&(o=this._verifyReinsertion(o,S,v,d)),Object.is(o.item,S)||this._addIdentityChange(o,S)):(o=this._mismatch(o,S,v,d),c=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,c,d){let p;return null===i?p=this._itTail:(p=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,p,d)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,p,d)):i=this._addAfter(new uI(o,c),p,d),i}_verifyReinsertion(i,o,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?i=this._reinsertAfter(p,i._prev,d):i.currentIndex!=d&&(i.currentIndex=d,this._addToMoves(i,d)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const d=i._prevRemoved,p=i._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(i,o,c),this._addToMoves(i,c),i}_moveAfter(i,o,c){return this._unlink(i),this._insertAfter(i,o,c),this._addToMoves(i,c),i}_addAfter(i,o,c){return this._insertAfter(i,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,c){const d=null===o?this._itHead:o._next;return i._next=d,i._prev=o,null===d?this._itTail=i:d._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Rb),this._linkedRecords.put(i),i.currentIndex=c,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,c=i._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rb),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class uI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,i))return c;return null}remove(i){const o=i._prevDup,c=i._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class Rb{constructor(){this.map=new Map}put(i){const o=i.trackById;let c=this.map.get(o);c||(c=new cI,this.map.set(o,c)),c.add(i)}get(i,o){const d=this.map.get(i);return d?d.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ob(n,i,o){const c=n.previousIndex;if(null===c)return c;let d=0;return o&&c<o.length&&(d=o[c]),c+i+d}class Pb{constructor(){}supports(i){return i instanceof Map||pc(i)}create(){return new lI}}class lI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||pc(i)))throw new Te(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(c,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(d,c);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const c=i._prev;return o._next=i,o._prev=c,i._prev=o,c&&(c._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const d=this._records.get(i);this._maybeAddToChanges(d,o);const p=d._prev,v=d._next;return p&&(p._next=v),v&&(v._prev=p),d._next=null,d._prev=null,d}const c=new dI(i);return this._records.set(i,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(c=>o(i[c],c))}}class dI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kb(){return new Y0([new Mb])}let Y0=(()=>{class n{constructor(o){this.factories=o}static create(o,c){if(null!=c){const d=c.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:c=>n.create(o,c||kb()),deps:[[n,new Qa,new xu]]}}find(o){const c=this.factories.find(d=>d.supports(o));if(null!=c)return c;throw new Te(901,"")}}return n.\u0275prov=Zt({token:n,providedIn:"root",factory:kb}),n})();function Nb(){return new q0([new Pb])}let q0=(()=>{class n{constructor(o){this.factories=o}static create(o,c){if(c){const d=c.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:c=>n.create(o,c||Nb()),deps:[[n,new Qa,new xu]]}}find(o){const c=this.factories.find(p=>p.supports(o));if(c)return c;throw new Te(901,"")}}return n.\u0275prov=Zt({token:n,providedIn:"root",factory:Nb}),n})();const pI=Eb(null,"core",[{provide:hb,useValue:"unknown"},{provide:wb,deps:[Ko]},{provide:vb,deps:[]},{provide:pb,deps:[]}]);let gI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)($i(j0))},n.\u0275mod=tt({type:n}),n.\u0275inj=Rn({}),n})()},34182:(Kt,Je,O)=>{"use strict";O.d(Je,{Fj:()=>Te,u5:()=>Ri,JU:()=>me,a5:()=>Mt,JJ:()=>ti,JL:()=>On,F:()=>ge,On:()=>Nn,YN:()=>z,_Y:()=>xn,Kr:()=>kr});var u=O(29863),P=O(69808),k=O(32916),Ie=O(66688),Ee=O(24850),ie=O(57830),de=O(5254);function le(_,w){return new k.y(A=>{const K=_.length;if(0===K)return void A.complete();const pt=new Array(K);let tn=0,ir=0;for(let Br=0;Br<K;Br++){const Di=(0,de.D)(_[Br]);let Vt=!1;A.add(Di.subscribe({next:sr=>{Vt||(Vt=!0,ir++),pt[Br]=sr},error:sr=>A.error(sr),complete:()=>{tn++,(tn===K||!Vt)&&(ir===K&&A.next(w?w.reduce((sr,ns,bi)=>(sr[ns]=pt[bi],sr),{}):pt),A.complete())}}))}})}let Y=(()=>{class _{constructor(A,K){this._renderer=A,this._elementRef=K,this.onChange=pt=>{},this.onTouched=()=>{}}setProperty(A,K){this._renderer.setProperty(this._elementRef.nativeElement,A,K)}registerOnTouched(A){this.onTouched=A}registerOnChange(A){this.onChange=A}setDisabledState(A){this.setProperty("disabled",A)}}return _.\u0275fac=function(A){return new(A||_)(u.Y36(u.Qsj),u.Y36(u.SBq))},_.\u0275dir=u.lG2({type:_}),_})(),X=(()=>{class _ extends Y{}return _.\u0275fac=function(){let w;return function(K){return(w||(w=u.n5z(_)))(K||_)}}(),_.\u0275dir=u.lG2({type:_,features:[u.qOj]}),_})();const me=new u.OlP("NgValueAccessor"),we={provide:me,useExisting:(0,u.Gpc)(()=>Te),multi:!0},Le=new u.OlP("CompositionEventMode");let Te=(()=>{class _ extends Y{constructor(A,K,pt){super(A,K),this._compositionMode=pt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pe(){const _=(0,P.q)()?(0,P.q)().getUserAgent():"";return/android (\d+)/.test(_.toLowerCase())}())}writeValue(A){this.setProperty("value",null==A?"":A)}_handleInput(A){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(A)}_compositionStart(){this._composing=!0}_compositionEnd(A){this._composing=!1,this._compositionMode&&this.onChange(A)}}return _.\u0275fac=function(A){return new(A||_)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Le,8))},_.\u0275dir=u.lG2({type:_,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(A,K){1&A&&u.NdJ("input",function(tn){return K._handleInput(tn.target.value)})("blur",function(){return K.onTouched()})("compositionstart",function(){return K._compositionStart()})("compositionend",function(tn){return K._compositionEnd(tn.target.value)})},features:[u._Bn([we]),u.qOj]}),_})();const Ke=new u.OlP("NgValidators"),Oe=new u.OlP("NgAsyncValidators");function Wt(_){return null!=_}function dt(_){const w=(0,u.QGY)(_)?(0,de.D)(_):_;return(0,u.CqO)(w),w}function qe(_){let w={};return _.forEach(A=>{w=null!=A?Object.assign(Object.assign({},w),A):w}),0===Object.keys(w).length?null:w}function nt(_,w){return w.map(A=>A(_))}function Ge(_){return _.map(w=>function vt(_){return!_.validate}(w)?w:A=>w.validate(A))}function at(_){return null!=_?function ze(_){if(!_)return null;const w=_.filter(Wt);return 0==w.length?null:function(A){return qe(nt(A,w))}}(Ge(_)):null}function kt(_){return null!=_?function jt(_){if(!_)return null;const w=_.filter(Wt);return 0==w.length?null:function(A){return function ye(..._){if(1===_.length){const w=_[0];if((0,Ie.k)(w))return le(w,null);if((0,ie.K)(w)&&Object.getPrototypeOf(w)===Object.prototype){const A=Object.keys(w);return le(A.map(K=>w[K]),A)}}if("function"==typeof _[_.length-1]){const w=_.pop();return le(_=1===_.length&&(0,Ie.k)(_[0])?_[0]:_,null).pipe((0,Ee.U)(A=>w(...A)))}return le(_,null)}(nt(A,w).map(dt)).pipe((0,Ee.U)(qe))}}(Ge(_)):null}function Zt(_,w){return null===_?[w]:Array.isArray(_)?[..._,w]:[_,w]}function hn(_){return _?Array.isArray(_)?_:[_]:[]}function Mn(_,w){return Array.isArray(_)?_.includes(w):_===w}function or(_,w){const A=hn(w);return hn(_).forEach(pt=>{Mn(A,pt)||A.push(pt)}),A}function Dn(_,w){return hn(w).filter(A=>!Mn(_,A))}class Fr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(w){this._rawValidators=w||[],this._composedValidatorFn=at(this._rawValidators)}_setAsyncValidators(w){this._rawAsyncValidators=w||[],this._composedAsyncValidatorFn=kt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(w){this._onDestroyCallbacks.push(w)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(w=>w()),this._onDestroyCallbacks=[]}reset(w){this.control&&this.control.reset(w)}hasError(w,A){return!!this.control&&this.control.hasError(w,A)}getError(w,A){return this.control?this.control.getError(w,A):null}}class Mt extends Fr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qn extends Fr{get formDirective(){return null}get path(){return null}}class Er{constructor(w){this._cd=w}is(w){var A,K,pt;return"submitted"===w?!!(null===(A=this._cd)||void 0===A?void 0:A.submitted):!!(null===(pt=null===(K=this._cd)||void 0===K?void 0:K.control)||void 0===pt?void 0:pt[w])}}let ti=(()=>{class _ extends Er{constructor(A){super(A)}}return _.\u0275fac=function(A){return new(A||_)(u.Y36(Mt,2))},_.\u0275dir=u.lG2({type:_,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(A,K){2&A&&u.ekj("ng-untouched",K.is("untouched"))("ng-touched",K.is("touched"))("ng-pristine",K.is("pristine"))("ng-dirty",K.is("dirty"))("ng-valid",K.is("valid"))("ng-invalid",K.is("invalid"))("ng-pending",K.is("pending"))},features:[u.qOj]}),_})(),On=(()=>{class _ extends Er{constructor(A){super(A)}}return _.\u0275fac=function(A){return new(A||_)(u.Y36(Qn,10))},_.\u0275dir=u.lG2({type:_,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(A,K){2&A&&u.ekj("ng-untouched",K.is("untouched"))("ng-touched",K.is("touched"))("ng-pristine",K.is("pristine"))("ng-dirty",K.is("dirty"))("ng-valid",K.is("valid"))("ng-invalid",K.is("invalid"))("ng-pending",K.is("pending"))("ng-submitted",K.is("submitted"))},features:[u.qOj]}),_})();function Kn(_,w){xr(_,w),w.valueAccessor.writeValue(_.value),function Mr(_,w){w.valueAccessor.registerOnChange(A=>{_._pendingValue=A,_._pendingChange=!0,_._pendingDirty=!0,"change"===_.updateOn&&_e(_,w)})}(_,w),function se(_,w){const A=(K,pt)=>{w.valueAccessor.writeValue(K),pt&&w.viewToModelUpdate(K)};_.registerOnChange(A),w._registerOnDestroy(()=>{_._unregisterOnChange(A)})}(_,w),function Fe(_,w){w.valueAccessor.registerOnTouched(()=>{_._pendingTouched=!0,"blur"===_.updateOn&&_._pendingChange&&_e(_,w),"submit"!==_.updateOn&&_.markAsTouched()})}(_,w),function Dr(_,w){if(w.valueAccessor.setDisabledState){const A=K=>{w.valueAccessor.setDisabledState(K)};_.registerOnDisabledChange(A),w._registerOnDestroy(()=>{_._unregisterOnDisabledChange(A)})}}(_,w)}function pr(_,w){_.forEach(A=>{A.registerOnValidatorChange&&A.registerOnValidatorChange(w)})}function xr(_,w){const A=function Tn(_){return _._rawValidators}(_);null!==w.validator?_.setValidators(Zt(A,w.validator)):"function"==typeof A&&_.setValidators([A]);const K=function Rn(_){return _._rawAsyncValidators}(_);null!==w.asyncValidator?_.setAsyncValidators(Zt(K,w.asyncValidator)):"function"==typeof K&&_.setAsyncValidators([K]);const pt=()=>_.updateValueAndValidity();pr(w._rawValidators,pt),pr(w._rawAsyncValidators,pt)}function _e(_,w){_._pendingDirty&&_.markAsDirty(),_.setValue(_._pendingValue,{emitModelToViewChange:!1}),w.viewToModelUpdate(_._pendingValue),_._pendingChange=!1}function kn(_,w){const A=_.indexOf(w);A>-1&&_.splice(A,1)}const It="VALID",ct="INVALID",Bt="PENDING",Xt="DISABLED";function In(_){return(gr(_)?_.validators:_)||null}function Ft(_){return Array.isArray(_)?at(_):_||null}function ln(_,w){return(gr(w)?w.asyncValidators:_)||null}function zn(_){return Array.isArray(_)?kt(_):_||null}function gr(_){return null!=_&&!Array.isArray(_)&&"object"==typeof _}const Or=_=>_ instanceof yr;function Tr(_){return(_=>_ instanceof gi)(_)?_.value:_.getRawValue()}function Zr(_,w){const A=Or(_),K=_.controls;if(!(A?Object.keys(K):K).length)throw new u.vHH(1e3,"");if(!K[w])throw new u.vHH(1001,"")}function zr(_,w){Or(_),_._forEachChild((K,pt)=>{if(void 0===w[pt])throw new u.vHH(1002,"")})}class Zn{constructor(w,A){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=w,this._rawAsyncValidators=A,this._composedValidatorFn=Ft(this._rawValidators),this._composedAsyncValidatorFn=zn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(w){this._rawValidators=this._composedValidatorFn=w}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(w){this._rawAsyncValidators=this._composedAsyncValidatorFn=w}get parent(){return this._parent}get valid(){return this.status===It}get invalid(){return this.status===ct}get pending(){return this.status==Bt}get disabled(){return this.status===Xt}get enabled(){return this.status!==Xt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(w){this._rawValidators=w,this._composedValidatorFn=Ft(w)}setAsyncValidators(w){this._rawAsyncValidators=w,this._composedAsyncValidatorFn=zn(w)}addValidators(w){this.setValidators(or(w,this._rawValidators))}addAsyncValidators(w){this.setAsyncValidators(or(w,this._rawAsyncValidators))}removeValidators(w){this.setValidators(Dn(w,this._rawValidators))}removeAsyncValidators(w){this.setAsyncValidators(Dn(w,this._rawAsyncValidators))}hasValidator(w){return Mn(this._rawValidators,w)}hasAsyncValidator(w){return Mn(this._rawAsyncValidators,w)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(w={}){this.touched=!0,this._parent&&!w.onlySelf&&this._parent.markAsTouched(w)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(w=>w.markAllAsTouched())}markAsUntouched(w={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(A=>{A.markAsUntouched({onlySelf:!0})}),this._parent&&!w.onlySelf&&this._parent._updateTouched(w)}markAsDirty(w={}){this.pristine=!1,this._parent&&!w.onlySelf&&this._parent.markAsDirty(w)}markAsPristine(w={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(A=>{A.markAsPristine({onlySelf:!0})}),this._parent&&!w.onlySelf&&this._parent._updatePristine(w)}markAsPending(w={}){this.status=Bt,!1!==w.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!w.onlySelf&&this._parent.markAsPending(w)}disable(w={}){const A=this._parentMarkedDirty(w.onlySelf);this.status=Xt,this.errors=null,this._forEachChild(K=>{K.disable(Object.assign(Object.assign({},w),{onlySelf:!0}))}),this._updateValue(),!1!==w.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},w),{skipPristineCheck:A})),this._onDisabledChange.forEach(K=>K(!0))}enable(w={}){const A=this._parentMarkedDirty(w.onlySelf);this.status=It,this._forEachChild(K=>{K.enable(Object.assign(Object.assign({},w),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:w.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},w),{skipPristineCheck:A})),this._onDisabledChange.forEach(K=>K(!1))}_updateAncestors(w){this._parent&&!w.onlySelf&&(this._parent.updateValueAndValidity(w),w.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(w){this._parent=w}updateValueAndValidity(w={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===It||this.status===Bt)&&this._runAsyncValidator(w.emitEvent)),!1!==w.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!w.onlySelf&&this._parent.updateValueAndValidity(w)}_updateTreeValidity(w={emitEvent:!0}){this._forEachChild(A=>A._updateTreeValidity(w)),this.updateValueAndValidity({onlySelf:!0,emitEvent:w.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xt:It}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(w){if(this.asyncValidator){this.status=Bt,this._hasOwnPendingAsyncValidator=!0;const A=dt(this.asyncValidator(this));this._asyncValidationSubscription=A.subscribe(K=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(K,{emitEvent:w})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(w,A={}){this.errors=w,this._updateControlsErrors(!1!==A.emitEvent)}get(w){return function Yn(_,w,A){if(null==w||(Array.isArray(w)||(w=w.split(A)),Array.isArray(w)&&0===w.length))return null;let K=_;return w.forEach(pt=>{K=Or(K)?K.controls.hasOwnProperty(pt)?K.controls[pt]:null:(_=>_ instanceof si)(K)&&K.at(pt)||null}),K}(this,w,".")}getError(w,A){const K=A?this.get(A):this;return K&&K.errors?K.errors[w]:null}hasError(w,A){return!!this.getError(w,A)}get root(){let w=this;for(;w._parent;)w=w._parent;return w}_updateControlsErrors(w){this.status=this._calculateStatus(),w&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(w)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Xt:this.errors?ct:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bt)?Bt:this._anyControlsHaveStatus(ct)?ct:It}_anyControlsHaveStatus(w){return this._anyControls(A=>A.status===w)}_anyControlsDirty(){return this._anyControls(w=>w.dirty)}_anyControlsTouched(){return this._anyControls(w=>w.touched)}_updatePristine(w={}){this.pristine=!this._anyControlsDirty(),this._parent&&!w.onlySelf&&this._parent._updatePristine(w)}_updateTouched(w={}){this.touched=this._anyControlsTouched(),this._parent&&!w.onlySelf&&this._parent._updateTouched(w)}_isBoxedValue(w){return"object"==typeof w&&null!==w&&2===Object.keys(w).length&&"value"in w&&"disabled"in w}_registerOnCollectionChange(w){this._onCollectionChange=w}_setUpdateStrategy(w){gr(w)&&null!=w.updateOn&&(this._updateOn=w.updateOn)}_parentMarkedDirty(w){return!w&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class gi extends Zn{constructor(w=null,A,K){super(In(A),ln(K,A)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(w),this._setUpdateStrategy(A),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gr(A)&&A.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(w)?w.value:w)}setValue(w,A={}){this.value=this._pendingValue=w,this._onChange.length&&!1!==A.emitModelToViewChange&&this._onChange.forEach(K=>K(this.value,!1!==A.emitViewToModelChange)),this.updateValueAndValidity(A)}patchValue(w,A={}){this.setValue(w,A)}reset(w=this.defaultValue,A={}){this._applyFormState(w),this.markAsPristine(A),this.markAsUntouched(A),this.setValue(this.value,A),this._pendingChange=!1}_updateValue(){}_anyControls(w){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(w){this._onChange.push(w)}_unregisterOnChange(w){kn(this._onChange,w)}registerOnDisabledChange(w){this._onDisabledChange.push(w)}_unregisterOnDisabledChange(w){kn(this._onDisabledChange,w)}_forEachChild(w){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(w){this._isBoxedValue(w)?(this.value=this._pendingValue=w.value,w.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=w}}class yr extends Zn{constructor(w,A,K){super(In(A),ln(K,A)),this.controls=w,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(w,A){return this.controls[w]?this.controls[w]:(this.controls[w]=A,A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange),A)}addControl(w,A,K={}){this.registerControl(w,A),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}removeControl(w,A={}){this.controls[w]&&this.controls[w]._registerOnCollectionChange(()=>{}),delete this.controls[w],this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}setControl(w,A,K={}){this.controls[w]&&this.controls[w]._registerOnCollectionChange(()=>{}),delete this.controls[w],A&&this.registerControl(w,A),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}contains(w){return this.controls.hasOwnProperty(w)&&this.controls[w].enabled}setValue(w,A={}){zr(this,w),Object.keys(w).forEach(K=>{Zr(this,K),this.controls[K].setValue(w[K],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(w,A={}){null!=w&&(Object.keys(w).forEach(K=>{this.controls[K]&&this.controls[K].patchValue(w[K],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(w={},A={}){this._forEachChild((K,pt)=>{K.reset(w[pt],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this._reduceChildren({},(w,A,K)=>(w[K]=Tr(A),w))}_syncPendingControls(){let w=this._reduceChildren(!1,(A,K)=>!!K._syncPendingControls()||A);return w&&this.updateValueAndValidity({onlySelf:!0}),w}_forEachChild(w){Object.keys(this.controls).forEach(A=>{const K=this.controls[A];K&&w(K,A)})}_setUpControls(){this._forEachChild(w=>{w.setParent(this),w._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(w){for(const A of Object.keys(this.controls)){const K=this.controls[A];if(this.contains(A)&&w(K))return!0}return!1}_reduceValue(){return this._reduceChildren({},(w,A,K)=>((A.enabled||this.disabled)&&(w[K]=A.value),w))}_reduceChildren(w,A){let K=w;return this._forEachChild((pt,tn)=>{K=A(K,pt,tn)}),K}_allControlsDisabled(){for(const w of Object.keys(this.controls))if(this.controls[w].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class si extends Zn{constructor(w,A,K){super(In(A),ln(K,A)),this.controls=w,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(w){return this.controls[w]}push(w,A={}){this.controls.push(w),this._registerControl(w),this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}insert(w,A,K={}){this.controls.splice(w,0,A),this._registerControl(A),this.updateValueAndValidity({emitEvent:K.emitEvent})}removeAt(w,A={}){this.controls[w]&&this.controls[w]._registerOnCollectionChange(()=>{}),this.controls.splice(w,1),this.updateValueAndValidity({emitEvent:A.emitEvent})}setControl(w,A,K={}){this.controls[w]&&this.controls[w]._registerOnCollectionChange(()=>{}),this.controls.splice(w,1),A&&(this.controls.splice(w,0,A),this._registerControl(A)),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(w,A={}){zr(this,w),w.forEach((K,pt)=>{Zr(this,pt),this.at(pt).setValue(K,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(w,A={}){null!=w&&(w.forEach((K,pt)=>{this.at(pt)&&this.at(pt).patchValue(K,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(w=[],A={}){this._forEachChild((K,pt)=>{K.reset(w[pt],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this.controls.map(w=>Tr(w))}clear(w={}){this.controls.length<1||(this._forEachChild(A=>A._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:w.emitEvent}))}_syncPendingControls(){let w=this.controls.reduce((A,K)=>!!K._syncPendingControls()||A,!1);return w&&this.updateValueAndValidity({onlySelf:!0}),w}_forEachChild(w){this.controls.forEach((A,K)=>{w(A,K)})}_updateValue(){this.value=this.controls.filter(w=>w.enabled||this.disabled).map(w=>w.value)}_anyControls(w){return this.controls.some(A=>A.enabled&&w(A))}_setUpControls(){this._forEachChild(w=>this._registerControl(w))}_allControlsDisabled(){for(const w of this.controls)if(w.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(w){w.setParent(this),w._registerOnCollectionChange(this._onCollectionChange)}}const Ei={provide:Qn,useExisting:(0,u.Gpc)(()=>ge)},q=(()=>Promise.resolve(null))();let ge=(()=>{class _ extends Qn{constructor(A,K){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new yr({},at(A),kt(K))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(A){q.then(()=>{const K=this._findContainer(A.path);A.control=K.registerControl(A.name,A.control),Kn(A.control,A),A.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(A)})}getControl(A){return this.form.get(A.path)}removeControl(A){q.then(()=>{const K=this._findContainer(A.path);K&&K.removeControl(A.name),this._directives.delete(A)})}addFormGroup(A){q.then(()=>{const K=this._findContainer(A.path),pt=new yr({});(function fe(_,w){xr(_,w)})(pt,A),K.registerControl(A.name,pt),pt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(A){q.then(()=>{const K=this._findContainer(A.path);K&&K.removeControl(A.name)})}getFormGroup(A){return this.form.get(A.path)}updateModel(A,K){q.then(()=>{this.form.get(A.path).setValue(K)})}setValue(A){this.control.setValue(A)}onSubmit(A){return this.submitted=!0,function on(_,w){_._syncPendingControls(),w.forEach(A=>{const K=A.control;"submit"===K.updateOn&&K._pendingChange&&(A.viewToModelUpdate(K._pendingValue),K._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(A),!1}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(A){return A.pop(),A.length?this.form.get(A):this.form}}return _.\u0275fac=function(A){return new(A||_)(u.Y36(Ke,10),u.Y36(Oe,10))},_.\u0275dir=u.lG2({type:_,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(A,K){1&A&&u.NdJ("submit",function(tn){return K.onSubmit(tn)})("reset",function(){return K.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Ei]),u.qOj]}),_})();const Ht={provide:Mt,useExisting:(0,u.Gpc)(()=>Nn)},nn=(()=>Promise.resolve(null))();let Nn=(()=>{class _ extends Mt{constructor(A,K,pt,tn,ir){super(),this._changeDetectorRef=ir,this.control=new gi,this._registered=!1,this.update=new u.vpe,this._parent=A,this._setValidators(K),this._setAsyncValidators(pt),this.valueAccessor=function tr(_,w){if(!w)return null;let A,K,pt;return Array.isArray(w),w.forEach(tn=>{tn.constructor===Te?A=tn:function dn(_){return Object.getPrototypeOf(_.constructor)===X}(tn)?K=tn:pt=tn}),pt||K||A||null}(0,tn)}ngOnChanges(A){if(this._checkForErrors(),!this._registered||"name"in A){if(this._registered&&(this._checkName(),this.formDirective)){const K=A.name.previousValue;this.formDirective.removeControl({name:K,path:this._getPath(K)})}this._setUpControl()}"isDisabled"in A&&this._updateDisabled(A),function Sn(_,w){if(!_.hasOwnProperty("model"))return!1;const A=_.model;return!!A.isFirstChange()||!Object.is(w,A.currentValue)}(A,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Kn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(A){nn.then(()=>{var K;this.control.setValue(A,{emitViewToModelChange:!1}),null===(K=this._changeDetectorRef)||void 0===K||K.markForCheck()})}_updateDisabled(A){const K=A.isDisabled.currentValue,pt=""===K||K&&"false"!==K;nn.then(()=>{var tn;pt&&!this.control.disabled?this.control.disable():!pt&&this.control.disabled&&this.control.enable(),null===(tn=this._changeDetectorRef)||void 0===tn||tn.markForCheck()})}_getPath(A){return this._parent?function Pn(_,w){return[...w.path,_]}(A,this._parent):[A]}}return _.\u0275fac=function(A){return new(A||_)(u.Y36(Qn,9),u.Y36(Ke,10),u.Y36(Oe,10),u.Y36(me,10),u.Y36(u.sBO,8))},_.\u0275dir=u.lG2({type:_,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Ht]),u.qOj,u.TTD]}),_})(),xn=(()=>{class _{}return _.\u0275fac=function(A){return new(A||_)},_.\u0275dir=u.lG2({type:_,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),_})(),gs=(()=>{class _{}return _.\u0275fac=function(A){return new(A||_)},_.\u0275mod=u.oAB({type:_}),_.\u0275inj=u.cJS({}),_})();const Ts={provide:me,useExisting:(0,u.Gpc)(()=>be),multi:!0};function yi(_,w){return null==_?`${w}`:(w&&"object"==typeof w&&(w="Object"),`${_}: ${w}`.slice(0,50))}let be=(()=>{class _ extends X{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(A){this._compareWith=A}writeValue(A){this.value=A;const pt=yi(this._getOptionId(A),A);this.setProperty("value",pt)}registerOnChange(A){this.onChange=K=>{this.value=this._getOptionValue(K),A(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(A){for(const K of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(K),A))return K;return null}_getOptionValue(A){const K=function ve(_){return _.split(":")[0]}(A);return this._optionMap.has(K)?this._optionMap.get(K):A}}return _.\u0275fac=function(){let w;return function(K){return(w||(w=u.n5z(_)))(K||_)}}(),_.\u0275dir=u.lG2({type:_,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(A,K){1&A&&u.NdJ("change",function(tn){return K.onChange(tn.target.value)})("blur",function(){return K.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([Ts]),u.qOj]}),_})(),z=(()=>{class _{constructor(A,K,pt){this._element=A,this._renderer=K,this._select=pt,this._select&&(this.id=this._select._registerOption())}set ngValue(A){null!=this._select&&(this._select._optionMap.set(this.id,A),this._setElementValue(yi(this.id,A)),this._select.writeValue(this._select.value))}set value(A){this._setElementValue(A),this._select&&this._select.writeValue(this._select.value)}_setElementValue(A){this._renderer.setProperty(this._element.nativeElement,"value",A)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return _.\u0275fac=function(A){return new(A||_)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(be,9))},_.\u0275dir=u.lG2({type:_,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),_})();const Ne={provide:me,useExisting:(0,u.Gpc)(()=>ur),multi:!0};function it(_,w){return null==_?`${w}`:("string"==typeof w&&(w=`'${w}'`),w&&"object"==typeof w&&(w="Object"),`${_}: ${w}`.slice(0,50))}let ur=(()=>{class _ extends X{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(A){this._compareWith=A}writeValue(A){let K;if(this.value=A,Array.isArray(A)){const pt=A.map(tn=>this._getOptionId(tn));K=(tn,ir)=>{tn._setSelected(pt.indexOf(ir.toString())>-1)}}else K=(pt,tn)=>{pt._setSelected(!1)};this._optionMap.forEach(K)}registerOnChange(A){this.onChange=K=>{const pt=[],tn=K.selectedOptions;if(void 0!==tn){const ir=tn;for(let Br=0;Br<ir.length;Br++){const Vt=this._getOptionValue(ir[Br].value);pt.push(Vt)}}else{const ir=K.options;for(let Br=0;Br<ir.length;Br++){const Di=ir[Br];if(Di.selected){const Vt=this._getOptionValue(Di.value);pt.push(Vt)}}}this.value=pt,A(pt)}}_registerOption(A){const K=(this._idCounter++).toString();return this._optionMap.set(K,A),K}_getOptionId(A){for(const K of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(K)._value,A))return K;return null}_getOptionValue(A){const K=function Jt(_){return _.split(":")[0]}(A);return this._optionMap.has(K)?this._optionMap.get(K)._value:A}}return _.\u0275fac=function(){let w;return function(K){return(w||(w=u.n5z(_)))(K||_)}}(),_.\u0275dir=u.lG2({type:_,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(A,K){1&A&&u.NdJ("change",function(tn){return K.onChange(tn.target)})("blur",function(){return K.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([Ne]),u.qOj]}),_})(),kr=(()=>{class _{constructor(A,K,pt){this._element=A,this._renderer=K,this._select=pt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(A){null!=this._select&&(this._value=A,this._setElementValue(it(this.id,A)),this._select.writeValue(this._select.value))}set value(A){this._select?(this._value=A,this._setElementValue(it(this.id,A)),this._select.writeValue(this._select.value)):this._setElementValue(A)}_setElementValue(A){this._renderer.setProperty(this._element.nativeElement,"value",A)}_setSelected(A){this._renderer.setProperty(this._element.nativeElement,"selected",A)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return _.\u0275fac=function(A){return new(A||_)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(ur,9))},_.\u0275dir=u.lG2({type:_,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),_})(),Nr=(()=>{class _{}return _.\u0275fac=function(A){return new(A||_)},_.\u0275mod=u.oAB({type:_}),_.\u0275inj=u.cJS({imports:[[gs]]}),_})(),Ri=(()=>{class _{}return _.\u0275fac=function(A){return new(A||_)},_.\u0275mod=u.oAB({type:_}),_.\u0275inj=u.cJS({imports:[Nr]}),_})()},14055:(Kt,Je,O)=>{"use strict";O.d(Je,{gz:()=>si,y6:()=>ur,OD:()=>jt,eC:()=>On,wm:()=>Eu,wN:()=>So,F0:()=>Ki,rH:()=>Bo,Od:()=>Is,Bz:()=>Xs,Hx:()=>Ct});var u=O(29863),P=O(5254),k=O(21086),Ie=O(591),Ee=O(23426),ie=O(61737),de=O(84450),ye=O(61221),le=O(88514),Y=O(32916),X=O(68896),me=O(71762),ce=O(8929),ke=O(92198),we=O(43489),pe=O(94231);function Le(x){return function(b){return 0===x?(0,X.c)():b.lift(new Te(x))}}class Te{constructor(T){if(this.total=T,this.total<0)throw new pe.W}call(T,b){return b.subscribe(new ut(T,this.total))}}class ut extends we.L{constructor(T,b){super(T),this.total=b,this.ring=new Array,this.count=0}_next(T){const b=this.ring,V=this.total,U=this.count++;b.length<V?b.push(T):b[U%V]=T}_complete(){const T=this.destination;let b=this.count;if(b>0){const V=this.count>=this.total?this.total:this.count,U=this.ring;for(let re=0;re<V;re++){const Re=b++%V;T.next(U[Re])}}T.complete()}}var te=O(34907),Ke=O(47314),Oe=O(35379),st=O(42654);class Pe{constructor(T){this.callback=T}call(T,b){return b.subscribe(new ae(T,this.callback))}}class ae extends we.L{constructor(T,b){super(T),this.add(new st.w(b))}}var Se=O(24850),he=O(87545),Ae=O(72986),Ce=O(1059),$e=O(92014),Nt=O(27221),Wt=O(21406),dt=O(87224),qe=O(61709),nt=O(2994),vt=O(74327),Ge=O(89146),ze=O(69808);class at{constructor(T,b){this.id=T,this.url=b}}class jt extends at{constructor(T,b,V="imperative",U=null){super(T,b),this.navigationTrigger=V,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kt extends at{constructor(T,b,V){super(T,b),this.urlAfterRedirects=V}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zt extends at{constructor(T,b,V){super(T,b),this.reason=V}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tn extends at{constructor(T,b,V){super(T,b),this.error=V}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Rn extends at{constructor(T,b,V,U){super(T,b),this.urlAfterRedirects=V,this.state=U}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hn extends at{constructor(T,b,V,U){super(T,b),this.urlAfterRedirects=V,this.state=U}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mn extends at{constructor(T,b,V,U,re){super(T,b),this.urlAfterRedirects=V,this.state=U,this.shouldActivate=re}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class or extends at{constructor(T,b,V,U){super(T,b),this.urlAfterRedirects=V,this.state=U}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dn extends at{constructor(T,b,V,U){super(T,b),this.urlAfterRedirects=V,this.state=U}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fr{constructor(T){this.route=T}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mt{constructor(T){this.route=T}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qn{constructor(T){this.snapshot=T}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Er{constructor(T){this.snapshot=T}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class br{constructor(T){this.snapshot=T}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rn{constructor(T){this.snapshot=T}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ti{constructor(T,b,V){this.routerEvent=T,this.position=b,this.anchor=V}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const On="primary";class St{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const b=this.params[T];return Array.isArray(b)?b[0]:b}return null}getAll(T){if(this.has(T)){const b=this.params[T];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function Ue(x){return new St(x)}const je="ngNavigationCancelingError";function Dt(x){const T=Error("NavigationCancelingError: "+x);return T[je]=!0,T}function zt(x,T,b){const V=b.path.split("/");if(V.length>x.length||"full"===b.pathMatch&&(T.hasChildren()||V.length<x.length))return null;const U={};for(let re=0;re<V.length;re++){const Re=V[re],He=x[re];if(Re.startsWith(":"))U[Re.substring(1)]=He;else if(Re!==He.path)return null}return{consumed:x.slice(0,V.length),posParams:U}}function wn(x,T){const b=x?Object.keys(x):void 0,V=T?Object.keys(T):void 0;if(!b||!V||b.length!=V.length)return!1;let U;for(let re=0;re<b.length;re++)if(U=b[re],!qn(x[U],T[U]))return!1;return!0}function qn(x,T){if(Array.isArray(x)&&Array.isArray(T)){if(x.length!==T.length)return!1;const b=[...x].sort(),V=[...T].sort();return b.every((U,re)=>V[re]===U)}return x===T}function Hn(x){return Array.prototype.concat.apply([],x)}function Vr(x){return x.length>0?x[x.length-1]:null}function cn(x,T){for(const b in x)x.hasOwnProperty(b)&&T(x[b],b)}function fn(x){return(0,u.CqO)(x)?x:(0,u.QGY)(x)?(0,P.D)(Promise.resolve(x)):(0,k.of)(x)}const Bn={exact:function pr(x,T,b){if(!Q(x.segments,T.segments)||!Mr(x.segments,T.segments,b)||x.numberOfChildren!==T.numberOfChildren)return!1;for(const V in T.children)if(!x.children[V]||!pr(x.children[V],T.children[V],b))return!1;return!0},subset:xr},Pn={exact:function fr(x,T){return wn(x,T)},subset:function Dr(x,T){return Object.keys(T).length<=Object.keys(x).length&&Object.keys(T).every(b=>qn(x[b],T[b]))},ignored:()=>!0};function Kn(x,T,b){return Bn[b.paths](x.root,T.root,b.matrixParams)&&Pn[b.queryParams](x.queryParams,T.queryParams)&&!("exact"===b.fragment&&x.fragment!==T.fragment)}function xr(x,T,b){return ar(x,T,T.segments,b)}function ar(x,T,b,V){if(x.segments.length>b.length){const U=x.segments.slice(0,b.length);return!(!Q(U,b)||T.hasChildren()||!Mr(U,b,V))}if(x.segments.length===b.length){if(!Q(x.segments,b)||!Mr(x.segments,b,V))return!1;for(const U in T.children)if(!x.children[U]||!xr(x.children[U],T.children[U],V))return!1;return!0}{const U=b.slice(0,x.segments.length),re=b.slice(x.segments.length);return!!(Q(x.segments,U)&&Mr(x.segments,U,V)&&x.children[On])&&ar(x.children[On],T,re,V)}}function Mr(x,T,b){return T.every((V,U)=>Pn[b](x[U].parameters,V.parameters))}class Fe{constructor(T,b,V){this.root=T,this.queryParams=b,this.fragment=V}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ue(this.queryParams)),this._queryParamMap}toString(){return Un.serialize(this)}}class _e{constructor(T,b){this.segments=T,this.children=b,this.parent=null,cn(b,(V,U)=>V.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sn(this)}}class se{constructor(T,b){this.path=T,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=Ue(this.parameters)),this._parameterMap}toString(){return ct(this)}}function Q(x,T){return x.length===T.length&&x.every((b,V)=>b.path===T[V].path)}class Ct{}class sn{parse(T){const b=new Wr(T);return new Fe(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(T){const b=`/${dn(T.root,!0)}`,V=function Xt(x){const T=Object.keys(x).map(b=>{const V=x[b];return Array.isArray(V)?V.map(U=>`${tr(b)}=${tr(U)}`).join("&"):`${tr(b)}=${tr(V)}`}).filter(b=>!!b);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${b}${V}${"string"==typeof T.fragment?`#${function kn(x){return encodeURI(x)}(T.fragment)}`:""}`}}const Un=new sn;function Sn(x){return x.segments.map(T=>ct(T)).join("/")}function dn(x,T){if(!x.hasChildren())return Sn(x);if(T){const b=x.children[On]?dn(x.children[On],!1):"",V=[];return cn(x.children,(U,re)=>{re!==On&&V.push(`${re}:${dn(U,!1)}`)}),V.length>0?`${b}(${V.join("//")})`:b}{const b=function tt(x,T){let b=[];return cn(x.children,(V,U)=>{U===On&&(b=b.concat(T(V,U)))}),cn(x.children,(V,U)=>{U!==On&&(b=b.concat(T(V,U)))}),b}(x,(V,U)=>U===On?[dn(x.children[On],!1)]:[`${U}:${dn(V,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[On]?`${Sn(x)}/${b[0]}`:`${Sn(x)}/(${b.join("//")})`}}function on(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tr(x){return on(x).replace(/%3B/gi,";")}function Gr(x){return on(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rr(x){return decodeURIComponent(x)}function It(x){return Rr(x.replace(/\+/g,"%20"))}function ct(x){return`${Gr(x.path)}${function Bt(x){return Object.keys(x).map(T=>`;${Gr(T)}=${Gr(x[T])}`).join("")}(x.parameters)}`}const Yn=/^[^\/()?;=#]+/;function In(x){const T=x.match(Yn);return T?T[0]:""}const Ft=/^[^=?&#]+/,zn=/^[^&#]+/;class Wr{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let V={};return this.peekStartsWith("(")&&(V=this.parseParens(!1)),(T.length>0||Object.keys(b).length>0)&&(V[On]=new _e(T,b)),V}parseSegment(){const T=In(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(T),new se(Rr(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const b=In(this.remaining);if(!b)return;this.capture(b);let V="";if(this.consumeOptional("=")){const U=In(this.remaining);U&&(V=U,this.capture(V))}T[Rr(b)]=Rr(V)}parseQueryParam(T){const b=function ln(x){const T=x.match(Ft);return T?T[0]:""}(this.remaining);if(!b)return;this.capture(b);let V="";if(this.consumeOptional("=")){const Re=function gr(x){const T=x.match(zn);return T?T[0]:""}(this.remaining);Re&&(V=Re,this.capture(V))}const U=It(b),re=It(V);if(T.hasOwnProperty(U)){let Re=T[U];Array.isArray(Re)||(Re=[Re],T[U]=Re),Re.push(re)}else T[U]=re}parseParens(T){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const V=In(this.remaining),U=this.remaining[V.length];if("/"!==U&&")"!==U&&";"!==U)throw new Error(`Cannot parse url '${this.url}'`);let re;V.indexOf(":")>-1?(re=V.substr(0,V.indexOf(":")),this.capture(re),this.capture(":")):T&&(re=On);const Re=this.parseChildren();b[re]=1===Object.keys(Re).length?Re[On]:new _e([],Re),this.consumeOptional("//")}return b}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new Error(`Expected "${T}".`)}}class Or{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const b=this.pathFromRoot(T);return b.length>1?b[b.length-2]:null}children(T){const b=pi(T,this._root);return b?b.children.map(V=>V.value):[]}firstChild(T){const b=pi(T,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(T){const b=Tr(T,this._root);return b.length<2?[]:b[b.length-2].children.map(U=>U.value).filter(U=>U!==T)}pathFromRoot(T){return Tr(T,this._root).map(b=>b.value)}}function pi(x,T){if(x===T.value)return T;for(const b of T.children){const V=pi(x,b);if(V)return V}return null}function Tr(x,T){if(x===T.value)return[T];for(const b of T.children){const V=Tr(x,b);if(V.length)return V.unshift(T),V}return[]}class Zr{constructor(T,b){this.value=T,this.children=b}toString(){return`TreeNode(${this.value})`}}function zr(x){const T={};return x&&x.children.forEach(b=>T[b.value.outlet]=b),T}class Zn extends Or{constructor(T,b){super(T),this.snapshot=b,xe(this,T)}toString(){return this.snapshot.toString()}}function gi(x,T){const b=function yr(x,T){const Re=new ge([],{},{},"",{},On,T,null,x.root,-1,{});return new ee("",new Zr(Re,[]))}(x,T),V=new Ie.X([new se("",{})]),U=new Ie.X({}),re=new Ie.X({}),Re=new Ie.X({}),He=new Ie.X(""),Ot=new si(V,U,Re,He,re,On,T,b.root);return Ot.snapshot=b.root,new Zn(new Zr(Ot,[]),b)}class si{constructor(T,b,V,U,re,Re,He,Ot){this.url=T,this.params=b,this.queryParams=V,this.fragment=U,this.data=re,this.outlet=Re,this.component=He,this._futureSnapshot=Ot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Se.U)(T=>Ue(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Se.U)(T=>Ue(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ei(x,T="emptyOnly"){const b=x.pathFromRoot;let V=0;if("always"!==T)for(V=b.length-1;V>=1;){const U=b[V],re=b[V-1];if(U.routeConfig&&""===U.routeConfig.path)V--;else{if(re.component)break;V--}}return function q(x){return x.reduce((T,b)=>({params:Object.assign(Object.assign({},T.params),b.params),data:Object.assign(Object.assign({},T.data),b.data),resolve:Object.assign(Object.assign({},T.resolve),b._resolvedData)}),{params:{},data:{},resolve:{}})}(b.slice(V))}class ge{constructor(T,b,V,U,re,Re,He,Ot,Vn,Yr,yt){this.url=T,this.params=b,this.queryParams=V,this.fragment=U,this.data=re,this.outlet=Re,this.component=He,this.routeConfig=Ot,this._urlSegment=Vn,this._lastPathIndex=Yr,this._resolve=yt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ue(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ue(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(V=>V.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ee extends Or{constructor(T,b){super(b),this.url=T,xe(this,b)}toString(){return Be(this._root)}}function xe(x,T){T.value._routerState=x,T.children.forEach(b=>xe(x,b))}function Be(x){const T=x.children.length>0?` { ${x.children.map(Be).join(", ")} } `:"";return`${x.value}${T}`}function rt(x){if(x.snapshot){const T=x.snapshot,b=x._futureSnapshot;x.snapshot=b,wn(T.queryParams,b.queryParams)||x.queryParams.next(b.queryParams),T.fragment!==b.fragment&&x.fragment.next(b.fragment),wn(T.params,b.params)||x.params.next(b.params),function en(x,T){if(x.length!==T.length)return!1;for(let b=0;b<x.length;++b)if(!wn(x[b],T[b]))return!1;return!0}(T.url,b.url)||x.url.next(b.url),wn(T.data,b.data)||x.data.next(b.data)}else x.snapshot=x._futureSnapshot,x.data.next(x._futureSnapshot.data)}function bt(x,T){const b=wn(x.params,T.params)&&function fe(x,T){return Q(x,T)&&x.every((b,V)=>wn(b.parameters,T[V].parameters))}(x.url,T.url);return b&&!(!x.parent!=!T.parent)&&(!x.parent||bt(x.parent,T.parent))}function At(x,T,b){if(b&&x.shouldReuseRoute(T.value,b.value.snapshot)){const V=b.value;V._futureSnapshot=T.value;const U=function Ht(x,T,b){return T.children.map(V=>{for(const U of b.children)if(x.shouldReuseRoute(V.value,U.value.snapshot))return At(x,V,U);return At(x,V)})}(x,T,b);return new Zr(V,U)}{if(x.shouldAttach(T.value)){const re=x.retrieve(T.value);if(null!==re){const Re=re.route;return Re.value._futureSnapshot=T.value,Re.children=T.children.map(He=>At(x,He)),Re}}const V=function nn(x){return new si(new Ie.X(x.url),new Ie.X(x.params),new Ie.X(x.queryParams),new Ie.X(x.fragment),new Ie.X(x.data),x.outlet,x.component,x)}(T.value),U=T.children.map(re=>At(x,re));return new Zr(V,U)}}function xn(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function rr(x){return"object"==typeof x&&null!=x&&x.outlets}function Lr(x,T,b,V,U){let re={};if(V&&cn(V,(He,Ot)=>{re[Ot]=Array.isArray(He)?He.map(Vn=>`${Vn}`):`${He}`}),x===T)return new Fe(b,re,U);const Re=ci(x,T,b);return new Fe(Re,re,U)}function ci(x,T,b){const V={};return cn(x.children,(U,re)=>{V[re]=U===T?b:ci(U,T,b)}),new _e(x.segments,V)}class mi{constructor(T,b,V){if(this.isAbsolute=T,this.numberOfDoubleDots=b,this.commands=V,T&&V.length>0&&xn(V[0]))throw new Error("Root segment cannot have matrix parameters");const U=V.find(rr);if(U&&U!==Vr(V))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ze{constructor(T,b,V){this.segmentGroup=T,this.processChildren=b,this.index=V}}function qt(x,T,b){if(x||(x=new _e([],{})),0===x.segments.length&&x.hasChildren())return Ln(x,T,b);const V=function vr(x,T,b){let V=0,U=T;const re={match:!1,pathIndex:0,commandIndex:0};for(;U<x.segments.length;){if(V>=b.length)return re;const Re=x.segments[U],He=b[V];if(rr(He))break;const Ot=`${He}`,Vn=V<b.length-1?b[V+1]:null;if(U>0&&void 0===Ot)break;if(Ot&&Vn&&"object"==typeof Vn&&void 0===Vn.outlets){if(!es(Ot,Vn,Re))return re;V+=2}else{if(!es(Ot,{},Re))return re;V++}U++}return{match:!0,pathIndex:U,commandIndex:V}}(x,T,b),U=b.slice(V.commandIndex);if(V.match&&V.pathIndex<x.segments.length){const re=new _e(x.segments.slice(0,V.pathIndex),{});return re.children[On]=new _e(x.segments.slice(V.pathIndex),x.children),Ln(re,0,U)}return V.match&&0===U.length?new _e(x.segments,{}):V.match&&!x.hasChildren()?Pr(x,T,b):V.match?Ln(x,0,U):Pr(x,T,b)}function Ln(x,T,b){if(0===b.length)return new _e(x.segments,{});{const V=function Lt(x){return rr(x[0])?x[0].outlets:{[On]:x}}(b),U={};return cn(V,(re,Re)=>{"string"==typeof re&&(re=[re]),null!==re&&(U[Re]=qt(x.children[Re],T,re))}),cn(x.children,(re,Re)=>{void 0===V[Re]&&(U[Re]=re)}),new _e(x.segments,U)}}function Pr(x,T,b){const V=x.segments.slice(0,T);let U=0;for(;U<b.length;){const re=b[U];if(rr(re)){const Ot=Ir(re.outlets);return new _e(V,Ot)}if(0===U&&xn(b[0])){V.push(new se(x.segments[T].path,Ji(b[0]))),U++;continue}const Re=rr(re)?re.outlets[On]:`${re}`,He=U<b.length-1?b[U+1]:null;Re&&He&&xn(He)?(V.push(new se(Re,Ji(He))),U+=2):(V.push(new se(Re,{})),U++)}return new _e(V,{})}function Ir(x){const T={};return cn(x,(b,V)=>{"string"==typeof b&&(b=[b]),null!==b&&(T[V]=Pr(new _e([],{}),0,b))}),T}function Ji(x){const T={};return cn(x,(b,V)=>T[V]=`${b}`),T}function es(x,T,b){return x==b.path&&wn(T,b.parameters)}class Gi{constructor(T,b,V,U){this.routeReuseStrategy=T,this.futureState=b,this.currState=V,this.forwardEvent=U}activate(T){const b=this.futureState._root,V=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,V,T),rt(this.futureState.root),this.activateChildRoutes(b,V,T)}deactivateChildRoutes(T,b,V){const U=zr(b);T.children.forEach(re=>{const Re=re.value.outlet;this.deactivateRoutes(re,U[Re],V),delete U[Re]}),cn(U,(re,Re)=>{this.deactivateRouteAndItsChildren(re,V)})}deactivateRoutes(T,b,V){const U=T.value,re=b?b.value:null;if(U===re)if(U.component){const Re=V.getContext(U.outlet);Re&&this.deactivateChildRoutes(T,b,Re.children)}else this.deactivateChildRoutes(T,b,V);else re&&this.deactivateRouteAndItsChildren(b,V)}deactivateRouteAndItsChildren(T,b){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,b):this.deactivateRouteAndOutlet(T,b)}detachAndStoreRouteSubtree(T,b){const V=b.getContext(T.value.outlet),U=V&&T.value.component?V.children:b,re=zr(T);for(const Re of Object.keys(re))this.deactivateRouteAndItsChildren(re[Re],U);if(V&&V.outlet){const Re=V.outlet.detach(),He=V.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:Re,route:T,contexts:He})}}deactivateRouteAndOutlet(T,b){const V=b.getContext(T.value.outlet),U=V&&T.value.component?V.children:b,re=zr(T);for(const Re of Object.keys(re))this.deactivateRouteAndItsChildren(re[Re],U);V&&V.outlet&&(V.outlet.deactivate(),V.children.onOutletDeactivated(),V.attachRef=null,V.resolver=null,V.route=null)}activateChildRoutes(T,b,V){const U=zr(b);T.children.forEach(re=>{this.activateRoutes(re,U[re.value.outlet],V),this.forwardEvent(new rn(re.value.snapshot))}),T.children.length&&this.forwardEvent(new Er(T.value.snapshot))}activateRoutes(T,b,V){const U=T.value,re=b?b.value:null;if(rt(U),U===re)if(U.component){const Re=V.getOrCreateContext(U.outlet);this.activateChildRoutes(T,b,Re.children)}else this.activateChildRoutes(T,b,V);else if(U.component){const Re=V.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const He=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),Re.children.onOutletReAttached(He.contexts),Re.attachRef=He.componentRef,Re.route=He.route.value,Re.outlet&&Re.outlet.attach(He.componentRef,He.route.value),rt(He.route.value),this.activateChildRoutes(T,null,Re.children)}else{const He=function zi(x){for(let T=x.parent;T;T=T.parent){const b=T.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig;if(b&&b.component)return null}return null}(U.snapshot),Ot=He?He.module.componentFactoryResolver:null;Re.attachRef=null,Re.route=U,Re.resolver=Ot,Re.outlet&&Re.outlet.activateWith(U,Ot),this.activateChildRoutes(T,null,Re.children)}}else this.activateChildRoutes(T,null,V)}}class js{constructor(T,b){this.routes=T,this.module=b}}function oi(x){return"function"==typeof x}function yi(x){return x instanceof Fe}const it=Symbol("INITIAL_VALUE");function Jt(){return(0,he.w)(x=>(0,Ee.aj)(x.map(T=>T.pipe((0,Ae.q)(1),(0,Ce.O)(it)))).pipe((0,$e.R)((T,b)=>{let V=!1;return b.reduce((U,re,Re)=>U!==it?U:(re===it&&(V=!0),V||!1!==re&&Re!==b.length-1&&!yi(re)?U:re),T)},it),(0,ke.h)(T=>T!==it),(0,Se.U)(T=>yi(T)?T:!0===T),(0,Ae.q)(1)))}class $n{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ur,this.attachRef=null}}class ur{constructor(){this.contexts=new Map}onChildOutletCreated(T,b){const V=this.getOrCreateContext(T);V.outlet=b,this.contexts.set(T,V)}onChildOutletDestroyed(T){const b=this.getContext(T);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let b=this.getContext(T);return b||(b=new $n,this.contexts.set(T,b)),b}getContext(T){return this.contexts.get(T)||null}}let kr=(()=>{class x{constructor(b,V,U,re,Re){this.parentContexts=b,this.location=V,this.resolver=U,this.changeDetector=Re,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=re||On,b.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const b=this.parentContexts.getContext(this.name);b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,V){this.activated=b,this._activatedRoute=V,this.location.insert(b.hostView),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,V){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;const Re=(V=V||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),He=this.parentContexts.getOrCreateContext(this.name).children,Ot=new Ci(b,He,this.location.injector);this.activated=this.location.createComponent(Re,this.location.length,Ot),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return x.\u0275fac=function(b){return new(b||x)(u.Y36(ur),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},x.\u0275dir=u.lG2({type:x,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),x})();class Ci{constructor(T,b,V){this.route=T,this.childContexts=b,this.parent=V}get(T,b){return T===si?this.route:T===ur?this.childContexts:this.parent.get(T,b)}}let Pi=(()=>{class x{}return x.\u0275fac=function(b){return new(b||x)},x.\u0275cmp=u.Xpm({type:x,selectors:[["ng-component"]],decls:1,vars:0,template:function(b,V){1&b&&u._UZ(0,"router-outlet")},directives:[kr],encapsulation:2}),x})();function ki(x,T=""){for(let b=0;b<x.length;b++){const V=x[b];ts(V,$r(T,V))}}function ts(x,T){x.children&&ki(x.children,T)}function $r(x,T){return T?x||T.path?x&&!T.path?`${x}/`:!x&&T.path?T.path:`${x}/${T.path}`:"":x}function Wi(x){const T=x.children&&x.children.map(Wi),b=T?Object.assign(Object.assign({},x),{children:T}):Object.assign({},x);return!b.component&&(T||b.loadChildren)&&b.outlet&&b.outlet!==On&&(b.component=Pi),b}function vi(x){return x.outlet||On}function ws(x,T){const b=x.filter(V=>vi(V)===T);return b.push(...x.filter(V=>vi(V)!==T)),b}const Ss={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ks(x,T,b){var V;if(""===T.path)return"full"===T.pathMatch&&(x.hasChildren()||b.length>0)?Object.assign({},Ss):{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const re=(T.matcher||zt)(b,x,T);if(!re)return Object.assign({},Ss);const Re={};cn(re.posParams,(Ot,Vn)=>{Re[Vn]=Ot.path});const He=re.consumed.length>0?Object.assign(Object.assign({},Re),re.consumed[re.consumed.length-1].parameters):Re;return{matched:!0,consumedSegments:re.consumed,remainingSegments:b.slice(re.consumed.length),parameters:He,positionalParamSegments:null!==(V=re.posParams)&&void 0!==V?V:{}}}function L(x,T,b,V,U="corrected"){if(b.length>0&&function oe(x,T,b){return b.some(V=>gt(x,T,V)&&vi(V)!==On)}(x,b,V)){const Re=new _e(T,function N(x,T,b,V){const U={};U[On]=V,V._sourceSegment=x,V._segmentIndexShift=T.length;for(const re of b)if(""===re.path&&vi(re)!==On){const Re=new _e([],{});Re._sourceSegment=x,Re._segmentIndexShift=T.length,U[vi(re)]=Re}return U}(x,T,V,new _e(b,x.children)));return Re._sourceSegment=x,Re._segmentIndexShift=T.length,{segmentGroup:Re,slicedSegments:[]}}if(0===b.length&&function We(x,T,b){return b.some(V=>gt(x,T,V))}(x,b,V)){const Re=new _e(x.segments,function J(x,T,b,V,U,re){const Re={};for(const He of V)if(gt(x,b,He)&&!U[vi(He)]){const Ot=new _e([],{});Ot._sourceSegment=x,Ot._segmentIndexShift="legacy"===re?x.segments.length:T.length,Re[vi(He)]=Ot}return Object.assign(Object.assign({},U),Re)}(x,T,b,V,x.children,U));return Re._sourceSegment=x,Re._segmentIndexShift=T.length,{segmentGroup:Re,slicedSegments:b}}const re=new _e(x.segments,x.children);return re._sourceSegment=x,re._segmentIndexShift=T.length,{segmentGroup:re,slicedSegments:b}}function gt(x,T,b){return(!(x.hasChildren()||T.length>0)||"full"!==b.pathMatch)&&""===b.path}function Yt(x,T,b,V){return!!(vi(x)===V||V!==On&&gt(T,b,x))&&("**"===x.path||ks(T,x,b).matched)}function _n(x,T,b){return 0===T.length&&!x.children[b]}class Ur{constructor(T){this.segmentGroup=T||null}}class cr{constructor(T){this.urlTree=T}}function Qr(x){return(0,ie._)(new Ur(x))}function Sr(x){return(0,ie._)(new cr(x))}class y{constructor(T,b,V,U,re){this.configLoader=b,this.urlSerializer=V,this.urlTree=U,this.config=re,this.allowRedirects=!0,this.ngModule=T.get(u.h0i)}apply(){const T=L(this.urlTree.root,[],[],this.config).segmentGroup,b=new _e(T.segments,T.children);return this.expandSegmentGroup(this.ngModule,this.config,b,On).pipe((0,Se.U)(re=>this.createUrlTree(m(re),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Nt.K)(re=>{if(re instanceof cr)return this.allowRedirects=!1,this.match(re.urlTree);throw re instanceof Ur?this.noMatchError(re):re}))}match(T){return this.expandSegmentGroup(this.ngModule,this.config,T.root,On).pipe((0,Se.U)(U=>this.createUrlTree(m(U),T.queryParams,T.fragment))).pipe((0,Nt.K)(U=>{throw U instanceof Ur?this.noMatchError(U):U}))}noMatchError(T){return new Error(`Cannot match any routes. URL Segment: '${T.segmentGroup}'`)}createUrlTree(T,b,V){const U=T.segments.length>0?new _e([],{[On]:T}):T;return new Fe(U,b,V)}expandSegmentGroup(T,b,V,U){return 0===V.segments.length&&V.hasChildren()?this.expandChildren(T,b,V).pipe((0,Se.U)(re=>new _e([],re))):this.expandSegment(T,V,b,V.segments,U,!0)}expandChildren(T,b,V){const U=[];for(const re of Object.keys(V.children))"primary"===re?U.unshift(re):U.push(re);return(0,P.D)(U).pipe((0,Wt.b)(re=>{const Re=V.children[re],He=ws(b,re);return this.expandSegmentGroup(T,He,Re,re).pipe((0,Se.U)(Ot=>({segment:Ot,outlet:re})))}),(0,$e.R)((re,Re)=>(re[Re.outlet]=Re.segment,re),{}),function et(x,T){const b=arguments.length>=2;return V=>V.pipe(x?(0,ke.h)((U,re)=>x(U,re,V)):Oe.y,Le(1),b?(0,Ke.d)(T):(0,te.T)(()=>new de.K))}())}expandSegment(T,b,V,U,re,Re){return(0,P.D)(V).pipe((0,Wt.b)(He=>this.expandSegmentAgainstRoute(T,b,V,He,U,re,Re).pipe((0,Nt.K)(Vn=>{if(Vn instanceof Ur)return(0,k.of)(null);throw Vn}))),(0,dt.P)(He=>!!He),(0,Nt.K)((He,Ot)=>{if(He instanceof de.K||"EmptyError"===He.name)return _n(b,U,re)?(0,k.of)(new _e([],{})):Qr(b);throw He}))}expandSegmentAgainstRoute(T,b,V,U,re,Re,He){return Yt(U,b,re,Re)?void 0===U.redirectTo?this.matchSegmentAgainstRoute(T,b,U,re,Re):He&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,b,V,U,re,Re):Qr(b):Qr(b)}expandSegmentAgainstRouteUsingRedirect(T,b,V,U,re,Re){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,V,U,Re):this.expandRegularSegmentAgainstRouteUsingRedirect(T,b,V,U,re,Re)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,b,V,U){const re=this.applyRedirectCommands([],V.redirectTo,{});return V.redirectTo.startsWith("/")?Sr(re):this.lineralizeSegments(V,re).pipe((0,qe.zg)(Re=>{const He=new _e(Re,{});return this.expandSegment(T,He,b,Re,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,b,V,U,re,Re){const{matched:He,consumedSegments:Ot,remainingSegments:Vn,positionalParamSegments:Yr}=ks(b,U,re);if(!He)return Qr(b);const yt=this.applyRedirectCommands(Ot,U.redirectTo,Yr);return U.redirectTo.startsWith("/")?Sr(yt):this.lineralizeSegments(U,yt).pipe((0,qe.zg)(lr=>this.expandSegment(T,b,V,lr.concat(Vn),Re,!1)))}matchSegmentAgainstRoute(T,b,V,U,re){if("**"===V.path)return V.loadChildren?(V._loadedConfig?(0,k.of)(V._loadedConfig):this.configLoader.load(T.injector,V)).pipe((0,Se.U)(yt=>(V._loadedConfig=yt,new _e(U,{})))):(0,k.of)(new _e(U,{}));const{matched:Re,consumedSegments:He,remainingSegments:Ot}=ks(b,V,U);return Re?this.getChildConfig(T,V,U).pipe((0,qe.zg)(Yr=>{const yt=Yr.module,lr=Yr.routes,{segmentGroup:Xn,slicedSegments:Cs}=L(b,He,Ot,lr),En=new _e(Xn.segments,Xn.children);if(0===Cs.length&&En.hasChildren())return this.expandChildren(yt,lr,En).pipe((0,Se.U)(Tt=>new _e(He,Tt)));if(0===lr.length&&0===Cs.length)return(0,k.of)(new _e(He,{}));const jn=vi(V)===re;return this.expandSegment(yt,En,lr,Cs,jn?On:re,!0).pipe((0,Se.U)(mn=>new _e(He.concat(mn.segments),mn.children)))})):Qr(b)}getChildConfig(T,b,V){return b.children?(0,k.of)(new js(b.children,T)):b.loadChildren?void 0!==b._loadedConfig?(0,k.of)(b._loadedConfig):this.runCanLoadGuards(T.injector,b,V).pipe((0,qe.zg)(U=>U?this.configLoader.load(T.injector,b).pipe((0,Se.U)(re=>(b._loadedConfig=re,re))):function Nr(x){return(0,ie._)(Dt(`Cannot load children because the guard of the route "path: '${x.path}'" returned false`))}(b))):(0,k.of)(new js([],T))}runCanLoadGuards(T,b,V){const U=b.canLoad;if(!U||0===U.length)return(0,k.of)(!0);const re=U.map(Re=>{const He=T.get(Re);let Ot;if(function ve(x){return x&&oi(x.canLoad)}(He))Ot=He.canLoad(b,V);else{if(!oi(He))throw new Error("Invalid CanLoad guard");Ot=He(b,V)}return fn(Ot)});return(0,k.of)(re).pipe(Jt(),(0,nt.b)(Re=>{if(!yi(Re))return;const He=Dt(`Redirecting to "${this.urlSerializer.serialize(Re)}"`);throw He.url=Re,He}),(0,Se.U)(Re=>!0===Re))}lineralizeSegments(T,b){let V=[],U=b.root;for(;;){if(V=V.concat(U.segments),0===U.numberOfChildren)return(0,k.of)(V);if(U.numberOfChildren>1||!U.children[On])return(0,ie._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${T.redirectTo}'`));U=U.children[On]}}applyRedirectCommands(T,b,V){return this.applyRedirectCreatreUrlTree(b,this.urlSerializer.parse(b),T,V)}applyRedirectCreatreUrlTree(T,b,V,U){const re=this.createSegmentGroup(T,b.root,V,U);return new Fe(re,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(T,b){const V={};return cn(T,(U,re)=>{if("string"==typeof U&&U.startsWith(":")){const He=U.substring(1);V[re]=b[He]}else V[re]=U}),V}createSegmentGroup(T,b,V,U){const re=this.createSegments(T,b.segments,V,U);let Re={};return cn(b.children,(He,Ot)=>{Re[Ot]=this.createSegmentGroup(T,He,V,U)}),new _e(re,Re)}createSegments(T,b,V,U){return b.map(re=>re.path.startsWith(":")?this.findPosParam(T,re,U):this.findOrReturn(re,V))}findPosParam(T,b,V){const U=V[b.path.substring(1)];if(!U)throw new Error(`Cannot redirect to '${T}'. Cannot find '${b.path}'.`);return U}findOrReturn(T,b){let V=0;for(const U of b){if(U.path===T.path)return b.splice(V),U;V++}return T}}function m(x){const T={};for(const V of Object.keys(x.children)){const re=m(x.children[V]);(re.segments.length>0||re.hasChildren())&&(T[V]=re)}return function $(x){if(1===x.numberOfChildren&&x.children[On]){const T=x.children[On];return new _e(x.segments.concat(T.segments),T.children)}return x}(new _e(x.segments,T))}class _{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class w{constructor(T,b){this.component=T,this.route=b}}function A(x,T,b){const V=x._root;return ir(V,T?T._root:null,b,[V.value])}function pt(x,T,b){const V=function tn(x){if(!x)return null;for(let T=x.parent;T;T=T.parent){const b=T.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig}return null}(T);return(V?V.module.injector:b).get(x)}function ir(x,T,b,V,U={canDeactivateChecks:[],canActivateChecks:[]}){const re=zr(T);return x.children.forEach(Re=>{(function Br(x,T,b,V,U={canDeactivateChecks:[],canActivateChecks:[]}){const re=x.value,Re=T?T.value:null,He=b?b.getContext(x.value.outlet):null;if(Re&&re.routeConfig===Re.routeConfig){const Ot=function Di(x,T,b){if("function"==typeof b)return b(x,T);switch(b){case"pathParamsChange":return!Q(x.url,T.url);case"pathParamsOrQueryParamsChange":return!Q(x.url,T.url)||!wn(x.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bt(x,T)||!wn(x.queryParams,T.queryParams);default:return!bt(x,T)}}(Re,re,re.routeConfig.runGuardsAndResolvers);Ot?U.canActivateChecks.push(new _(V)):(re.data=Re.data,re._resolvedData=Re._resolvedData),ir(x,T,re.component?He?He.children:null:b,V,U),Ot&&He&&He.outlet&&He.outlet.isActivated&&U.canDeactivateChecks.push(new w(He.outlet.component,Re))}else Re&&Vt(T,He,U),U.canActivateChecks.push(new _(V)),ir(x,null,re.component?He?He.children:null:b,V,U)})(Re,re[Re.value.outlet],b,V.concat([Re.value]),U),delete re[Re.value.outlet]}),cn(re,(Re,He)=>Vt(Re,b.getContext(He),U)),U}function Vt(x,T,b){const V=zr(x),U=x.value;cn(V,(re,Re)=>{Vt(re,U.component?T?T.children.getContext(Re):null:T,b)}),b.canDeactivateChecks.push(new w(U.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,U))}class Zo{}function Va(x){return new Y.y(T=>T.error(x))}class ho{constructor(T,b,V,U,re,Re){this.rootComponentType=T,this.config=b,this.urlTree=V,this.url=U,this.paramsInheritanceStrategy=re,this.relativeLinkResolution=Re}recognize(){const T=L(this.urlTree.root,[],[],this.config.filter(Re=>void 0===Re.redirectTo),this.relativeLinkResolution).segmentGroup,b=this.processSegmentGroup(this.config,T,On);if(null===b)return null;const V=new ge([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},On,this.rootComponentType,null,this.urlTree.root,-1,{}),U=new Zr(V,b),re=new ee(this.url,U);return this.inheritParamsAndData(re._root),re}inheritParamsAndData(T){const b=T.value,V=Ei(b,this.paramsInheritanceStrategy);b.params=Object.freeze(V.params),b.data=Object.freeze(V.data),T.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(T,b,V){return 0===b.segments.length&&b.hasChildren()?this.processChildren(T,b):this.processSegment(T,b,b.segments,V)}processChildren(T,b){const V=[];for(const re of Object.keys(b.children)){const Re=b.children[re],He=ws(T,re),Ot=this.processSegmentGroup(He,Re,re);if(null===Ot)return null;V.push(...Ot)}const U=As(V);return function rs(x){x.sort((T,b)=>T.value.outlet===On?-1:b.value.outlet===On?1:T.value.outlet.localeCompare(b.value.outlet))}(U),U}processSegment(T,b,V,U){for(const re of T){const Re=this.processSegmentAgainstRoute(re,b,V,U);if(null!==Re)return Re}return _n(b,V,U)?[]:null}processSegmentAgainstRoute(T,b,V,U){if(T.redirectTo||!Yt(T,b,V,U))return null;let re,Re=[],He=[];if("**"===T.path){const Xn=V.length>0?Vr(V).parameters:{};re=new ge(V,Xn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ya(T),vi(T),T.component,T,Xo(b),no(b)+V.length,Do(T))}else{const Xn=ks(b,T,V);if(!Xn.matched)return null;Re=Xn.consumedSegments,He=Xn.remainingSegments,re=new ge(Re,Xn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ya(T),vi(T),T.component,T,Xo(b),no(b)+Re.length,Do(T))}const Ot=function is(x){return x.children?x.children:x.loadChildren?x._loadedConfig.routes:[]}(T),{segmentGroup:Vn,slicedSegments:Yr}=L(b,Re,He,Ot.filter(Xn=>void 0===Xn.redirectTo),this.relativeLinkResolution);if(0===Yr.length&&Vn.hasChildren()){const Xn=this.processChildren(Ot,Vn);return null===Xn?null:[new Zr(re,Xn)]}if(0===Ot.length&&0===Yr.length)return[new Zr(re,[])];const yt=vi(T)===U,lr=this.processSegment(Ot,Vn,Yr,yt?On:U);return null===lr?null:[new Zr(re,lr)]}}function ma(x){const T=x.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function As(x){const T=[],b=new Set;for(const V of x){if(!ma(V)){T.push(V);continue}const U=T.find(re=>V.value.routeConfig===re.value.routeConfig);void 0!==U?(U.children.push(...V.children),b.add(U)):T.push(V)}for(const V of b){const U=As(V.children);T.push(new Zr(V.value,U))}return T.filter(V=>!b.has(V))}function Xo(x){let T=x;for(;T._sourceSegment;)T=T._sourceSegment;return T}function no(x){let T=x,b=T._segmentIndexShift?T._segmentIndexShift:0;for(;T._sourceSegment;)T=T._sourceSegment,b+=T._segmentIndexShift?T._segmentIndexShift:0;return b-1}function ya(x){return x.data||{}}function Do(x){return x.resolve||{}}function _u(x){return[...Object.keys(x),...Object.getOwnPropertySymbols(x)]}function Lo(x){return(0,he.w)(T=>{const b=x(T);return b?(0,P.D)(b).pipe((0,Se.U)(()=>T)):(0,k.of)(T)})}class So{}class Ao extends class Ua{shouldDetach(T){return!1}store(T,b){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,b){return T.routeConfig===b.routeConfig}}{}const Qo=new u.OlP("ROUTES");class Hs{constructor(T,b,V,U){this.injector=T,this.compiler=b,this.onLoadStartListener=V,this.onLoadEndListener=U}load(T,b){if(b._loader$)return b._loader$;this.onLoadStartListener&&this.onLoadStartListener(b);const U=this.loadModuleFactory(b.loadChildren).pipe((0,Se.U)(re=>{this.onLoadEndListener&&this.onLoadEndListener(b);const Re=re.create(T);return new js(Hn(Re.injector.get(Qo,void 0,u.XFs.Self|u.XFs.Optional)).map(Wi),Re)}),(0,Nt.K)(re=>{throw b._loader$=void 0,re}));return b._loader$=new me.c(U,()=>new ce.xQ).pipe((0,vt.x)()),b._loader$}loadModuleFactory(T){return fn(T()).pipe((0,qe.zg)(b=>b instanceof u.YKP?(0,k.of)(b):(0,P.D)(this.compiler.compileModuleAsync(b))))}}class Jo{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,b){return T}}function Oi(x){throw x}function Gs(x,T,b){return T.parse("/")}function Ai(x,T){return(0,k.of)(null)}const _a={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ha={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ki=(()=>{class x{constructor(b,V,U,re,Re,He,Ot){this.rootComponentType=b,this.urlSerializer=V,this.rootContexts=U,this.location=re,this.config=Ot,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ce.xQ,this.errorHandler=Oi,this.malformedUriErrorHandler=Gs,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ai,afterPreactivation:Ai},this.urlHandlingStrategy=new Jo,this.routeReuseStrategy=new Ao,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Re.get(u.h0i),this.console=Re.get(u.c2e);const yt=Re.get(u.R0b);this.isNgZoneEnabled=yt instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(Ot),this.currentUrlTree=function wr(){return new Fe(new _e([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hs(Re,He,lr=>this.triggerEvent(new Fr(lr)),lr=>this.triggerEvent(new Mt(lr))),this.routerState=gi(this.currentUrlTree,this.rootComponentType),this.transitions=new Ie.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var b;return null===(b=this.location.getState())||void 0===b?void 0:b.\u0275routerPageId}setupNavigations(b){const V=this.events;return b.pipe((0,ke.h)(U=>0!==U.id),(0,Se.U)(U=>Object.assign(Object.assign({},U),{extractedUrl:this.urlHandlingStrategy.extract(U.rawUrl)})),(0,he.w)(U=>{let re=!1,Re=!1;return(0,k.of)(U).pipe((0,nt.b)(He=>{this.currentNavigation={id:He.id,initialUrl:He.currentRawUrl,extractedUrl:He.extractedUrl,trigger:He.source,extras:He.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,he.w)(He=>{const Ot=this.browserUrlTree.toString(),Vn=!this.navigated||He.extractedUrl.toString()!==Ot||Ot!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Vn)&&this.urlHandlingStrategy.shouldProcessUrl(He.rawUrl))return Ea(He.source)&&(this.browserUrlTree=He.extractedUrl),(0,k.of)(He).pipe((0,he.w)(yt=>{const lr=this.transitions.getValue();return V.next(new jt(yt.id,this.serializeUrl(yt.extractedUrl),yt.source,yt.restoredState)),lr!==this.transitions.getValue()?X.E:Promise.resolve(yt)}),function B(x,T,b,V){return(0,he.w)(U=>function Ri(x,T,b,V,U){return new y(x,T,b,V,U).apply()}(x,T,b,U.extractedUrl,V).pipe((0,Se.U)(re=>Object.assign(Object.assign({},U),{urlAfterRedirects:re}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,nt.b)(yt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:yt.urlAfterRedirects})}),function To(x,T,b,V,U){return(0,qe.zg)(re=>function Fo(x,T,b,V,U="emptyOnly",re="legacy"){try{const Re=new ho(x,T,b,V,U,re).recognize();return null===Re?Va(new Zo):(0,k.of)(Re)}catch(Re){return Va(Re)}}(x,T,re.urlAfterRedirects,b(re.urlAfterRedirects),V,U).pipe((0,Se.U)(Re=>Object.assign(Object.assign({},re),{targetSnapshot:Re}))))}(this.rootComponentType,this.config,yt=>this.serializeUrl(yt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,nt.b)(yt=>{if("eager"===this.urlUpdateStrategy){if(!yt.extras.skipLocationChange){const Xn=this.urlHandlingStrategy.merge(yt.urlAfterRedirects,yt.rawUrl);this.setBrowserUrl(Xn,yt)}this.browserUrlTree=yt.urlAfterRedirects}const lr=new Rn(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot);V.next(lr)}));if(Vn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:lr,extractedUrl:Xn,source:Cs,restoredState:En,extras:jn}=He,Oo=new jt(lr,this.serializeUrl(Xn),Cs,En);V.next(Oo);const mn=gi(Xn,this.rootComponentType).snapshot;return(0,k.of)(Object.assign(Object.assign({},He),{targetSnapshot:mn,urlAfterRedirects:Xn,extras:Object.assign(Object.assign({},jn),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=He.rawUrl,He.resolve(null),X.E}),Lo(He=>{const{targetSnapshot:Ot,id:Vn,extractedUrl:Yr,rawUrl:yt,extras:{skipLocationChange:lr,replaceUrl:Xn}}=He;return this.hooks.beforePreactivation(Ot,{navigationId:Vn,appliedUrlTree:Yr,rawUrlTree:yt,skipLocationChange:!!lr,replaceUrl:!!Xn})}),(0,nt.b)(He=>{const Ot=new hn(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot);this.triggerEvent(Ot)}),(0,Se.U)(He=>Object.assign(Object.assign({},He),{guards:A(He.targetSnapshot,He.currentSnapshot,this.rootContexts)})),function sr(x,T){return(0,qe.zg)(b=>{const{targetSnapshot:V,currentSnapshot:U,guards:{canActivateChecks:re,canDeactivateChecks:Re}}=b;return 0===Re.length&&0===re.length?(0,k.of)(Object.assign(Object.assign({},b),{guardsResult:!0})):function ns(x,T,b,V){return(0,P.D)(x).pipe((0,qe.zg)(U=>function No(x,T,b,V,U){const re=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,k.of)(!0);const Re=re.map(He=>{const Ot=pt(He,T,U);let Vn;if(function Ne(x){return x&&oi(x.canDeactivate)}(Ot))Vn=fn(Ot.canDeactivate(x,T,b,V));else{if(!oi(Ot))throw new Error("Invalid CanDeactivate guard");Vn=fn(Ot(x,T,b,V))}return Vn.pipe((0,dt.P)())});return(0,k.of)(Re).pipe(Jt())}(U.component,U.route,b,T,V)),(0,dt.P)(U=>!0!==U,!0))}(Re,V,U,x).pipe((0,qe.zg)(He=>He&&function Ts(x){return"boolean"==typeof x}(He)?function bi(x,T,b,V){return(0,P.D)(T).pipe((0,Wt.b)(U=>(0,ye.z)(function Ns(x,T){return null!==x&&T&&T(new Qn(x)),(0,k.of)(!0)}(U.route.parent,V),function Ti(x,T){return null!==x&&T&&T(new br(x)),(0,k.of)(!0)}(U.route,V),function ga(x,T,b){const V=T[T.length-1],re=T.slice(0,T.length-1).reverse().map(Re=>function K(x){const T=x.routeConfig?x.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:x,guards:T}:null}(Re)).filter(Re=>null!==Re).map(Re=>(0,le.P)(()=>{const He=Re.guards.map(Ot=>{const Vn=pt(Ot,Re.node,b);let Yr;if(function z(x){return x&&oi(x.canActivateChild)}(Vn))Yr=fn(Vn.canActivateChild(V,x));else{if(!oi(Vn))throw new Error("Invalid CanActivateChild guard");Yr=fn(Vn(V,x))}return Yr.pipe((0,dt.P)())});return(0,k.of)(He).pipe(Jt())}));return(0,k.of)(re).pipe(Jt())}(x,U.path,b),function Ni(x,T,b){const V=T.routeConfig?T.routeConfig.canActivate:null;if(!V||0===V.length)return(0,k.of)(!0);const U=V.map(re=>(0,le.P)(()=>{const Re=pt(re,T,b);let He;if(function be(x){return x&&oi(x.canActivate)}(Re))He=fn(Re.canActivate(T,x));else{if(!oi(Re))throw new Error("Invalid CanActivate guard");He=fn(Re(T,x))}return He.pipe((0,dt.P)())}));return(0,k.of)(U).pipe(Jt())}(x,U.route,b))),(0,dt.P)(U=>!0!==U,!0))}(V,re,x,T):(0,k.of)(He)),(0,Se.U)(He=>Object.assign(Object.assign({},b),{guardsResult:He})))})}(this.ngModule.injector,He=>this.triggerEvent(He)),(0,nt.b)(He=>{if(yi(He.guardsResult)){const Vn=Dt(`Redirecting to "${this.serializeUrl(He.guardsResult)}"`);throw Vn.url=He.guardsResult,Vn}const Ot=new Mn(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot,!!He.guardsResult);this.triggerEvent(Ot)}),(0,ke.h)(He=>!!He.guardsResult||(this.restoreHistory(He),this.cancelNavigationTransition(He,""),!1)),Lo(He=>{if(He.guards.canActivateChecks.length)return(0,k.of)(He).pipe((0,nt.b)(Ot=>{const Vn=new or(Ot.id,this.serializeUrl(Ot.extractedUrl),this.serializeUrl(Ot.urlAfterRedirects),Ot.targetSnapshot);this.triggerEvent(Vn)}),(0,he.w)(Ot=>{let Vn=!1;return(0,k.of)(Ot).pipe(function $a(x,T){return(0,qe.zg)(b=>{const{targetSnapshot:V,guards:{canActivateChecks:U}}=b;if(!U.length)return(0,k.of)(b);let re=0;return(0,P.D)(U).pipe((0,Wt.b)(Re=>function fo(x,T,b,V){return function va(x,T,b,V){const U=_u(x);if(0===U.length)return(0,k.of)({});const re={};return(0,P.D)(U).pipe((0,qe.zg)(Re=>function Si(x,T,b,V){const U=pt(x,T,V);return fn(U.resolve?U.resolve(T,b):U(T,b))}(x[Re],T,b,V).pipe((0,nt.b)(He=>{re[Re]=He}))),Le(1),(0,qe.zg)(()=>_u(re).length===U.length?(0,k.of)(re):X.E))}(x._resolve,x,T,V).pipe((0,Se.U)(re=>(x._resolvedData=re,x.data=Object.assign(Object.assign({},x.data),Ei(x,b).resolve),null)))}(Re.route,V,x,T)),(0,nt.b)(()=>re++),Le(1),(0,qe.zg)(Re=>re===U.length?(0,k.of)(b):X.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,nt.b)({next:()=>Vn=!0,complete:()=>{Vn||(this.restoreHistory(Ot),this.cancelNavigationTransition(Ot,"At least one route resolver didn't emit any value."))}}))}),(0,nt.b)(Ot=>{const Vn=new Dn(Ot.id,this.serializeUrl(Ot.extractedUrl),this.serializeUrl(Ot.urlAfterRedirects),Ot.targetSnapshot);this.triggerEvent(Vn)}))}),Lo(He=>{const{targetSnapshot:Ot,id:Vn,extractedUrl:Yr,rawUrl:yt,extras:{skipLocationChange:lr,replaceUrl:Xn}}=He;return this.hooks.afterPreactivation(Ot,{navigationId:Vn,appliedUrlTree:Yr,rawUrlTree:yt,skipLocationChange:!!lr,replaceUrl:!!Xn})}),(0,Se.U)(He=>{const Ot=function Rt(x,T,b){const V=At(x,T._root,b?b._root:void 0);return new Zn(V,T)}(this.routeReuseStrategy,He.targetSnapshot,He.currentRouterState);return Object.assign(Object.assign({},He),{targetRouterState:Ot})}),(0,nt.b)(He=>{this.currentUrlTree=He.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(He.urlAfterRedirects,He.rawUrl),this.routerState=He.targetRouterState,"deferred"===this.urlUpdateStrategy&&(He.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,He),this.browserUrlTree=He.urlAfterRedirects)}),((x,T,b)=>(0,Se.U)(V=>(new Gi(T,V.targetRouterState,V.currentRouterState,b).activate(x),V)))(this.rootContexts,this.routeReuseStrategy,He=>this.triggerEvent(He)),(0,nt.b)({next(){re=!0},complete(){re=!0}}),function lt(x){return T=>T.lift(new Pe(x))}(()=>{var He;re||Re||this.cancelNavigationTransition(U,`Navigation ID ${U.id} is not equal to the current navigation id ${this.navigationId}`),(null===(He=this.currentNavigation)||void 0===He?void 0:He.id)===U.id&&(this.currentNavigation=null)}),(0,Nt.K)(He=>{if(Re=!0,function wt(x){return x&&x[je]}(He)){const Ot=yi(He.url);Ot||(this.navigated=!0,this.restoreHistory(U,!0));const Vn=new Zt(U.id,this.serializeUrl(U.extractedUrl),He.message);V.next(Vn),Ot?setTimeout(()=>{const Yr=this.urlHandlingStrategy.merge(He.url,this.rawUrlTree),yt={skipLocationChange:U.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ea(U.source)};this.scheduleNavigation(Yr,"imperative",null,yt,{resolve:U.resolve,reject:U.reject,promise:U.promise})},0):U.resolve(!1)}else{this.restoreHistory(U,!0);const Ot=new Tn(U.id,this.serializeUrl(U.extractedUrl),He);V.next(Ot);try{U.resolve(this.errorHandler(He))}catch(Vn){U.reject(Vn)}}return X.E}))}))}resetRootComponentType(b){this.rootComponentType=b,this.routerState.root.component=this.rootComponentType}setTransition(b){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),b))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const V="popstate"===b.type?"popstate":"hashchange";"popstate"===V&&setTimeout(()=>{var U;const re={replaceUrl:!0},Re=(null===(U=b.state)||void 0===U?void 0:U.navigationId)?b.state:null;if(Re){const Ot=Object.assign({},Re);delete Ot.navigationId,delete Ot.\u0275routerPageId,0!==Object.keys(Ot).length&&(re.state=Ot)}const He=this.parseUrl(b.url);this.scheduleNavigation(He,V,Re,re)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(b){this.events.next(b)}resetConfig(b){ki(b),this.config=b.map(Wi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,V={}){const{relativeTo:U,queryParams:re,fragment:Re,queryParamsHandling:He,preserveFragment:Ot}=V,Vn=U||this.routerState.root,Yr=Ot?this.currentUrlTree.fragment:Re;let yt=null;switch(He){case"merge":yt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),re);break;case"preserve":yt=this.currentUrlTree.queryParams;break;default:yt=re||null}return null!==yt&&(yt=this.removeEmptyProps(yt)),function Nn(x,T,b,V,U){if(0===b.length)return Lr(T.root,T.root,T.root,V,U);const re=function gs(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new mi(!0,0,x);let T=0,b=!1;const V=x.reduce((U,re,Re)=>{if("object"==typeof re&&null!=re){if(re.outlets){const He={};return cn(re.outlets,(Ot,Vn)=>{He[Vn]="string"==typeof Ot?Ot.split("/"):Ot}),[...U,{outlets:He}]}if(re.segmentPath)return[...U,re.segmentPath]}return"string"!=typeof re?[...U,re]:0===Re?(re.split("/").forEach((He,Ot)=>{0==Ot&&"."===He||(0==Ot&&""===He?b=!0:".."===He?T++:""!=He&&U.push(He))}),U):[...U,re]},[]);return new mi(b,T,V)}(b);if(re.toRoot())return Lr(T.root,T.root,new _e([],{}),V,U);const Re=function Ye(x,T,b){if(x.isAbsolute)return new Ze(T.root,!0,0);if(-1===b.snapshot._lastPathIndex){const re=b.snapshot._urlSegment;return new Ze(re,re===T.root,0)}const V=xn(x.commands[0])?0:1;return function ft(x,T,b){let V=x,U=T,re=b;for(;re>U;){if(re-=U,V=V.parent,!V)throw new Error("Invalid number of '../'");U=V.segments.length}return new Ze(V,!1,U-re)}(b.snapshot._urlSegment,b.snapshot._lastPathIndex+V,x.numberOfDoubleDots)}(re,T,x),He=Re.processChildren?Ln(Re.segmentGroup,Re.index,re.commands):qt(Re.segmentGroup,Re.index,re.commands);return Lr(T.root,Re.segmentGroup,He,V,U)}(Vn,this.currentUrlTree,b,yt,null!=Yr?Yr:null)}navigateByUrl(b,V={skipLocationChange:!1}){const U=yi(b)?b:this.parseUrl(b),re=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(re,"imperative",null,V)}navigate(b,V={skipLocationChange:!1}){return function ms(x){for(let T=0;T<x.length;T++){const b=x[T];if(null==b)throw new Error(`The requested path contains ${b} segment at index ${T}`)}}(b),this.navigateByUrl(this.createUrlTree(b,V),V)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let V;try{V=this.urlSerializer.parse(b)}catch(U){V=this.malformedUriErrorHandler(U,this.urlSerializer,b)}return V}isActive(b,V){let U;if(U=!0===V?Object.assign({},_a):!1===V?Object.assign({},Ha):V,yi(b))return Kn(this.currentUrlTree,b,U);const re=this.parseUrl(b);return Kn(this.currentUrlTree,re,U)}removeEmptyProps(b){return Object.keys(b).reduce((V,U)=>{const re=b[U];return null!=re&&(V[U]=re),V},{})}processNavigations(){this.navigations.subscribe(b=>{this.navigated=!0,this.lastSuccessfulId=b.id,this.currentPageId=b.targetPageId,this.events.next(new kt(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,b.resolve(!0)},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}scheduleNavigation(b,V,U,re,Re){var He,Ot;if(this.disposed)return Promise.resolve(!1);let Vn,Yr,yt;Re?(Vn=Re.resolve,Yr=Re.reject,yt=Re.promise):yt=new Promise((Cs,En)=>{Vn=Cs,Yr=En});const lr=++this.navigationId;let Xn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(U=this.location.getState()),Xn=U&&U.\u0275routerPageId?U.\u0275routerPageId:re.replaceUrl||re.skipLocationChange?null!==(He=this.browserPageId)&&void 0!==He?He:0:(null!==(Ot=this.browserPageId)&&void 0!==Ot?Ot:0)+1):Xn=0,this.setTransition({id:lr,targetPageId:Xn,source:V,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:b,extras:re,resolve:Vn,reject:Yr,promise:yt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),yt.catch(Cs=>Promise.reject(Cs))}setBrowserUrl(b,V){const U=this.urlSerializer.serialize(b),re=Object.assign(Object.assign({},V.extras.state),this.generateNgRouterState(V.id,V.targetPageId));this.location.isCurrentPathEqualTo(U)||V.extras.replaceUrl?this.location.replaceState(U,"",re):this.location.go(U,"",re)}restoreHistory(b,V=!1){var U,re;if("computed"===this.canceledNavigationResolution){const Re=this.currentPageId-b.targetPageId;"popstate"!==b.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(U=this.currentNavigation)||void 0===U?void 0:U.finalUrl)||0===Re?this.currentUrlTree===(null===(re=this.currentNavigation)||void 0===re?void 0:re.finalUrl)&&0===Re&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Re)}else"replace"===this.canceledNavigationResolution&&(V&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(b,V){const U=new Zt(b.id,this.serializeUrl(b.extractedUrl),V);this.triggerEvent(U),b.resolve(!1)}generateNgRouterState(b,V){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:V}:{navigationId:b}}}return x.\u0275fac=function(b){u.$Z()},x.\u0275prov=u.Yz7({token:x,factory:x.\u0275fac}),x})();function Ea(x){return"imperative"!==x}let Bo=(()=>{class x{constructor(b,V,U,re,Re){this.router=b,this.route=V,this.tabIndexAttribute=U,this.renderer=re,this.el=Re,this.commands=null,this.onChanges=new ce.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){if(null!=this.tabIndexAttribute)return;const V=this.renderer,U=this.el.nativeElement;null!==b?V.setAttribute(U,"tabindex",b):V.removeAttribute(U,"tabindex")}ngOnChanges(b){this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const b={skipLocationChange:zs(this.skipLocationChange),replaceUrl:zs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,b),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zs(this.preserveFragment)})}}return x.\u0275fac=function(b){return new(b||x)(u.Y36(Ki),u.Y36(si),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},x.\u0275dir=u.lG2({type:x,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(b,V){1&b&&u.NdJ("click",function(){return V.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),x})(),cs=(()=>{class x{constructor(b,V,U){this.router=b,this.route=V,this.locationStrategy=U,this.commands=null,this.href=null,this.onChanges=new ce.xQ,this.subscription=b.events.subscribe(re=>{re instanceof kt&&this.updateTargetUrlAndHref()})}set routerLink(b){this.commands=null!=b?Array.isArray(b)?b:[b]:null}ngOnChanges(b){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(b,V,U,re,Re){if(0!==b||V||U||re||Re||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const He={skipLocationChange:zs(this.skipLocationChange),replaceUrl:zs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,He),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zs(this.preserveFragment)})}}return x.\u0275fac=function(b){return new(b||x)(u.Y36(Ki),u.Y36(si),u.Y36(ze.S$))},x.\u0275dir=u.lG2({type:x,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(b,V){1&b&&u.NdJ("click",function(re){return V.onClick(re.button,re.ctrlKey,re.shiftKey,re.altKey,re.metaKey)}),2&b&&u.uIk("target",V.target)("href",V.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),x})();function zs(x){return""===x||!!x}let Is=(()=>{class x{constructor(b,V,U,re,Re,He){this.router=b,this.element=V,this.renderer=U,this.cdr=re,this.link=Re,this.linkWithHref=He,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=b.events.subscribe(Ot=>{Ot instanceof kt&&this.update()})}ngAfterContentInit(){(0,k.of)(this.links.changes,this.linksWithHrefs.changes,(0,k.of)(null)).pipe((0,Ge.J)()).subscribe(b=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var b;null===(b=this.linkInputChangesSubscription)||void 0===b||b.unsubscribe();const V=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(U=>!!U).map(U=>U.onChanges);this.linkInputChangesSubscription=(0,P.D)(V).pipe((0,Ge.J)()).subscribe(U=>{this.isActive!==this.isLinkActive(this.router)(U)&&this.update()})}set routerLinkActive(b){const V=Array.isArray(b)?b:b.split(" ");this.classes=V.filter(U=>!!U)}ngOnChanges(b){this.update()}ngOnDestroy(){var b;this.routerEventsSubscription.unsubscribe(),null===(b=this.linkInputChangesSubscription)||void 0===b||b.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const b=this.hasActiveLinks();this.isActive!==b&&(this.isActive=b,this.cdr.markForCheck(),this.classes.forEach(V=>{b?this.renderer.addClass(this.element.nativeElement,V):this.renderer.removeClass(this.element.nativeElement,V)}),this.isActiveChange.emit(b))})}isLinkActive(b){const V=function Vo(x){return!!x.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return U=>!!U.urlTree&&b.isActive(U.urlTree,V)}hasActiveLinks(){const b=this.isLinkActive(this.router);return this.link&&b(this.link)||this.linkWithHref&&b(this.linkWithHref)||this.links.some(b)||this.linksWithHrefs.some(b)}}return x.\u0275fac=function(b){return new(b||x)(u.Y36(Ki),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(Bo,8),u.Y36(cs,8))},x.\u0275dir=u.lG2({type:x,selectors:[["","routerLinkActive",""]],contentQueries:function(b,V,U){if(1&b&&(u.Suo(U,Bo,5),u.Suo(U,cs,5)),2&b){let re;u.iGM(re=u.CRH())&&(V.links=re),u.iGM(re=u.CRH())&&(V.linksWithHrefs=re)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[u.TTD]}),x})();class Jr{}class Eu{preload(T,b){return b().pipe((0,Nt.K)(()=>(0,k.of)(null)))}}class Zs{preload(T,b){return(0,k.of)(null)}}let xs=(()=>{class x{constructor(b,V,U,re){this.router=b,this.injector=U,this.preloadingStrategy=re,this.loader=new Hs(U,V,Ot=>b.triggerEvent(new Fr(Ot)),Ot=>b.triggerEvent(new Mt(Ot)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ke.h)(b=>b instanceof kt),(0,Wt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const b=this.injector.get(u.h0i);return this.processRoutes(b,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,V){const U=[];for(const re of V)if(re.loadChildren&&!re.canLoad&&re._loadedConfig){const Re=re._loadedConfig;U.push(this.processRoutes(Re.module,Re.routes))}else re.loadChildren&&!re.canLoad?U.push(this.preloadConfig(b,re)):re.children&&U.push(this.processRoutes(b,re.children));return(0,P.D)(U).pipe((0,Ge.J)(),(0,Se.U)(re=>{}))}preloadConfig(b,V){return this.preloadingStrategy.preload(V,()=>(V._loadedConfig?(0,k.of)(V._loadedConfig):this.loader.load(b.injector,V)).pipe((0,qe.zg)(re=>(V._loadedConfig=re,this.processRoutes(re.module,re.routes)))))}}return x.\u0275fac=function(b){return new(b||x)(u.LFG(Ki),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(Jr))},x.\u0275prov=u.Yz7({token:x,factory:x.\u0275fac}),x})(),bu=(()=>{class x{constructor(b,V,U={}){this.router=b,this.viewportScroller=V,this.options=U,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},U.scrollPositionRestoration=U.scrollPositionRestoration||"disabled",U.anchorScrolling=U.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(b=>{b instanceof jt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof kt&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.router.parseUrl(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(b=>{b instanceof ti&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,V){this.router.triggerEvent(new ti(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,V))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return x.\u0275fac=function(b){u.$Z()},x.\u0275prov=u.Yz7({token:x,factory:x.\u0275fac}),x})();const ls=new u.OlP("ROUTER_CONFIGURATION"),ba=new u.OlP("ROUTER_FORROOT_GUARD"),wu=[ze.Ye,{provide:Ct,useClass:sn},{provide:Ki,useFactory:function go(x,T,b,V,U,re,Re={},He,Ot){const Vn=new Ki(null,x,T,b,V,U,Hn(re));return He&&(Vn.urlHandlingStrategy=He),Ot&&(Vn.routeReuseStrategy=Ot),function Ga(x,T){x.errorHandler&&(T.errorHandler=x.errorHandler),x.malformedUriErrorHandler&&(T.malformedUriErrorHandler=x.malformedUriErrorHandler),x.onSameUrlNavigation&&(T.onSameUrlNavigation=x.onSameUrlNavigation),x.paramsInheritanceStrategy&&(T.paramsInheritanceStrategy=x.paramsInheritanceStrategy),x.relativeLinkResolution&&(T.relativeLinkResolution=x.relativeLinkResolution),x.urlUpdateStrategy&&(T.urlUpdateStrategy=x.urlUpdateStrategy),x.canceledNavigationResolution&&(T.canceledNavigationResolution=x.canceledNavigationResolution)}(Re,Vn),Re.enableTracing&&Vn.events.subscribe(Yr=>{var yt,lr;null===(yt=console.group)||void 0===yt||yt.call(console,`Router Event: ${Yr.constructor.name}`),console.log(Yr.toString()),console.log(Yr),null===(lr=console.groupEnd)||void 0===lr||lr.call(console)}),Vn},deps:[Ct,ur,ze.Ye,u.zs3,u.Sil,Qo,ls,[class ja{},new u.FiY],[So,new u.FiY]]},ur,{provide:si,useFactory:function mo(x){return x.routerState.root},deps:[Ki]},xs,Zs,Eu,{provide:ls,useValue:{enableTracing:!1}}];function xo(){return new u.PXZ("Router",Ki)}let Xs=(()=>{class x{constructor(b,V){}static forRoot(b,V){return{ngModule:x,providers:[wu,ro(b),{provide:ba,useFactory:Ls,deps:[[Ki,new u.FiY,new u.tp0]]},{provide:ls,useValue:V||{}},{provide:ze.S$,useFactory:po,deps:[ze.lw,[new u.tBr(ze.mr),new u.FiY],ls]},{provide:bu,useFactory:ds,deps:[Ki,ze.EM,ls]},{provide:Jr,useExisting:V&&V.preloadingStrategy?V.preloadingStrategy:Zs},{provide:u.PXZ,multi:!0,useFactory:xo},[$o,{provide:u.ip1,multi:!0,useFactory:Iu,deps:[$o]},{provide:ea,useFactory:Mo,deps:[$o]},{provide:u.tb,multi:!0,useExisting:ea}]]}}static forChild(b){return{ngModule:x,providers:[ro(b)]}}}return x.\u0275fac=function(b){return new(b||x)(u.LFG(ba,8),u.LFG(Ki,8))},x.\u0275mod=u.oAB({type:x}),x.\u0275inj=u.cJS({}),x})();function ds(x,T,b){return b.scrollOffset&&T.setOffset(b.scrollOffset),new bu(x,T,b)}function po(x,T,b={}){return b.useHash?new ze.Do(x,T):new ze.b0(x,T)}function Ls(x){return"guarded"}function ro(x){return[{provide:u.deG,multi:!0,useValue:x},{provide:Qo,multi:!0,useValue:x}]}let $o=(()=>{class x{constructor(b){this.injector=b,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ce.xQ}appInitializer(){return this.injector.get(ze.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let V=null;const U=new Promise(He=>V=He),re=this.injector.get(Ki),Re=this.injector.get(ls);return"disabled"===Re.initialNavigation?(re.setUpLocationChangeListener(),V(!0)):"enabled"===Re.initialNavigation||"enabledBlocking"===Re.initialNavigation?(re.hooks.afterPreactivation=()=>this.initNavigation?(0,k.of)(null):(this.initNavigation=!0,V(!0),this.resultOfPreactivationDone),re.initialNavigation()):V(!0),U})}bootstrapListener(b){const V=this.injector.get(ls),U=this.injector.get(xs),re=this.injector.get(bu),Re=this.injector.get(Ki),He=this.injector.get(u.z2F);b===He.components[0]&&(("enabledNonBlocking"===V.initialNavigation||void 0===V.initialNavigation)&&Re.initialNavigation(),U.setUpPreloading(),re.init(),Re.resetRootComponentType(He.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return x.\u0275fac=function(b){return new(b||x)(u.LFG(u.zs3))},x.\u0275prov=u.Yz7({token:x,factory:x.\u0275fac}),x})();function Iu(x){return x.appInitializer.bind(x)}function Mo(x){return x.bootstrapListener.bind(x)}const ea=new u.OlP("Router Initializer")},63942:(Kt,Je,O)=>{"use strict";O.d(Je,{Z:()=>we});var u=O(42090),P=O(34859),k=O(6881),Ie=O(41877);class Ee{constructor(Le,Te){this._delegate=Le,this.firebase=Te,(0,k._addComponent)(Le,new P.wA("app-compat",()=>this,"PUBLIC")),this.container=Le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this._delegate.automaticDataCollectionEnabled=Le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Le=>{this._delegate.checkDestroyed(),Le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(Le,Te=k._DEFAULT_ENTRY_NAME){var ut;this._delegate.checkDestroyed();const te=this._delegate.container.getProvider(Le);return!te.isInitialized()&&"EXPLICIT"===(null===(ut=te.getComponent())||void 0===ut?void 0:ut.instantiationMode)&&te.initialize(),te.getImmediate({identifier:Te})}_removeServiceInstance(Le,Te=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Le).clearInstance(Te)}_addComponent(Le){(0,k._addComponent)(this._delegate,Le)}_addOrOverwriteComponent(Le){(0,k._addOrOverwriteComponent)(this._delegate,Le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function le(){const pe=function ye(pe){const Le={},Te={__esModule:!0,initializeApp:function Ke(lt,Pe={}){const ae=k.initializeApp(lt,Pe);if((0,u.r3)(Le,ae.name))return Le[ae.name];const Se=new pe(ae,Te);return Le[ae.name]=Se,Se},app:te,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function et(lt){const Pe=lt.name,ae=Pe.replace("-compat","");if(k._registerComponent(lt)&&"PUBLIC"===lt.type){const Se=(he=te())=>{if("function"!=typeof he[ae])throw de.create("invalid-app-argument",{appName:Pe});return he[ae]()};void 0!==lt.serviceProps&&(0,u.ZB)(Se,lt.serviceProps),Te[ae]=Se,pe.prototype[ae]=function(...he){return this._getService.bind(this,Pe).apply(this,lt.multipleInstances?he:[])}}return"PUBLIC"===lt.type?Te[ae]:null},removeApp:function ut(lt){delete Le[lt]},useAsService:function st(lt,Pe){return"serverAuth"===Pe?null:Pe},modularAPIs:k}};function te(lt){if(!(0,u.r3)(Le,lt=lt||k._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:lt});return Le[lt]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function Oe(){return Object.keys(Le).map(lt=>Le[lt])}}),te.App=pe,Te}(Ee);return pe.INTERNAL=Object.assign(Object.assign({},pe.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function Le(Te){(0,u.ZB)(pe,Te)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),pe}(),X=new Ie.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pe=self.firebase.SDK_VERSION;pe&&pe.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const we=Y;!function ke(pe){(0,k.registerVersion)("@firebase/app-compat","0.2.13",pe)}()},6881:(Kt,Je,O)=>{"use strict";O.r(Je),O.d(Je,{FirebaseError:()=>Ie.ZR,SDK_VERSION:()=>fn,_DEFAULT_ENTRY_NAME:()=>St,_addComponent:()=>wt,_addOrOverwriteComponent:()=>zt,_apps:()=>je,_clearComponents:()=>Hn,_components:()=>Dt,_getProvider:()=>wn,_registerComponent:()=>en,_removeServiceInstance:()=>qn,deleteApp:()=>Kn,getApp:()=>Bn,getApps:()=>Pn,initializeApp:()=>wr,onLog:()=>Dr,registerVersion:()=>pr,setLogLevel:()=>xr});var u=O(15861),P=O(34859),k=O(41877),Ie=O(42090);let ie,de;const Y=new WeakMap,X=new WeakMap,me=new WeakMap,ce=new WeakMap,ke=new WeakMap;let Le={get(It,ct,Bt){if(It instanceof IDBTransaction){if("done"===ct)return X.get(It);if("objectStoreNames"===ct)return It.objectStoreNames||me.get(It);if("store"===ct)return Bt.objectStoreNames[1]?void 0:Bt.objectStore(Bt.objectStoreNames[0])}return Ke(It[ct])},set:(It,ct,Bt)=>(It[ct]=Bt,!0),has:(It,ct)=>It instanceof IDBTransaction&&("done"===ct||"store"===ct)||ct in It};function te(It){return"function"==typeof It?function ut(It){return It!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function le(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(It)?function(...ct){return It.apply(Oe(this),ct),Ke(Y.get(this))}:function(...ct){return Ke(It.apply(Oe(this),ct))}:function(ct,...Bt){const Xt=It.call(Oe(this),ct,...Bt);return me.set(Xt,ct.sort?ct.sort():[ct]),Ke(Xt)}}(It):(It instanceof IDBTransaction&&function pe(It){if(X.has(It))return;const ct=new Promise((Bt,Xt)=>{const Yn=()=>{It.removeEventListener("complete",In),It.removeEventListener("error",Ft),It.removeEventListener("abort",Ft)},In=()=>{Bt(),Yn()},Ft=()=>{Xt(It.error||new DOMException("AbortError","AbortError")),Yn()};It.addEventListener("complete",In),It.addEventListener("error",Ft),It.addEventListener("abort",Ft)});X.set(It,ct)}(It),((It,ct)=>ct.some(Bt=>It instanceof Bt))(It,function ye(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(It,Le):It)}function Ke(It){if(It instanceof IDBRequest)return function we(It){const ct=new Promise((Bt,Xt)=>{const Yn=()=>{It.removeEventListener("success",In),It.removeEventListener("error",Ft)},In=()=>{Bt(Ke(It.result)),Yn()},Ft=()=>{Xt(It.error),Yn()};It.addEventListener("success",In),It.addEventListener("error",Ft)});return ct.then(Bt=>{Bt instanceof IDBCursor&&Y.set(Bt,It)}).catch(()=>{}),ke.set(ct,It),ct}(It);if(ce.has(It))return ce.get(It);const ct=te(It);return ct!==It&&(ce.set(It,ct),ke.set(ct,It)),ct}const Oe=It=>ke.get(It),lt=["get","getKey","getAll","getAllKeys","count"],Pe=["put","add","delete","clear"],ae=new Map;function Se(It,ct){if(!(It instanceof IDBDatabase)||ct in It||"string"!=typeof ct)return;if(ae.get(ct))return ae.get(ct);const Bt=ct.replace(/FromIndex$/,""),Xt=ct!==Bt,Yn=Pe.includes(Bt);if(!(Bt in(Xt?IDBIndex:IDBObjectStore).prototype)||!Yn&&!lt.includes(Bt))return;const In=function(){var Ft=(0,u.Z)(function*(ln,...zn){const gr=this.transaction(ln,Yn?"readwrite":"readonly");let Wr=gr.store;return Xt&&(Wr=Wr.index(zn.shift())),(yield Promise.all([Wr[Bt](...zn),Yn&&gr.done]))[0]});return function(zn){return Ft.apply(this,arguments)}}();return ae.set(ct,In),In}!function Te(It){Le=It(Le)}(It=>Lv(Fv({},It),{get:(ct,Bt,Xt)=>Se(ct,Bt)||It.get(ct,Bt,Xt),has:(ct,Bt)=>!!Se(ct,Bt)||It.has(ct,Bt)}));class he{constructor(ct){this.container=ct}getPlatformInfoString(){return this.container.getProviders().map(Bt=>{if(function Ae(It){const ct=It.getComponent();return"VERSION"===(null==ct?void 0:ct.type)}(Bt)){const Xt=Bt.getImmediate();return`${Xt.library}/${Xt.version}`}return null}).filter(Bt=>Bt).join(" ")}}const Ce="@firebase/app",Nt=new k.Yd("@firebase/app"),St="[DEFAULT]",Ue={[Ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},je=new Map,Dt=new Map;function wt(It,ct){try{It.container.addComponent(ct)}catch(Bt){Nt.debug(`Component ${ct.name} failed to register with FirebaseApp ${It.name}`,Bt)}}function zt(It,ct){It.container.addOrOverwriteComponent(ct)}function en(It){const ct=It.name;if(Dt.has(ct))return Nt.debug(`There were multiple attempts to register component ${ct}.`),!1;Dt.set(ct,It);for(const Bt of je.values())wt(Bt,It);return!0}function wn(It,ct){const Bt=It.container.getProvider("heartbeat").getImmediate({optional:!0});return Bt&&Bt.triggerHeartbeat(),It.container.getProvider(ct)}function qn(It,ct,Bt=St){wn(It,ct).clearInstance(Bt)}function Hn(){Dt.clear()}const hr=new Ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cn{constructor(ct,Bt,Xt){this._isDeleted=!1,this._options=Object.assign({},ct),this._config=Object.assign({},Bt),this._name=Bt.name,this._automaticDataCollectionEnabled=Bt.automaticDataCollectionEnabled,this._container=Xt,this.container.addComponent(new P.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ct){this.checkDestroyed(),this._automaticDataCollectionEnabled=ct}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ct){this._isDeleted=ct}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const fn="9.23.0";function wr(It,ct={}){let Bt=It;"object"!=typeof ct&&(ct={name:ct});const Xt=Object.assign({name:St,automaticDataCollectionEnabled:!1},ct),Yn=Xt.name;if("string"!=typeof Yn||!Yn)throw hr.create("bad-app-name",{appName:String(Yn)});if(Bt||(Bt=(0,Ie.aH)()),!Bt)throw hr.create("no-options");const In=je.get(Yn);if(In){if((0,Ie.vZ)(Bt,In.options)&&(0,Ie.vZ)(Xt,In.config))return In;throw hr.create("duplicate-app",{appName:Yn})}const Ft=new P.H0(Yn);for(const zn of Dt.values())Ft.addComponent(zn);const ln=new cn(Bt,Xt,Ft);return je.set(Yn,ln),ln}function Bn(It=St){const ct=je.get(It);if(!ct&&It===St&&(0,Ie.aH)())return wr();if(!ct)throw hr.create("no-app",{appName:It});return ct}function Pn(){return Array.from(je.values())}function Kn(It){return fr.apply(this,arguments)}function fr(){return(fr=(0,u.Z)(function*(It){const ct=It.name;je.has(ct)&&(je.delete(ct),yield Promise.all(It.container.getProviders().map(Bt=>Bt.delete())),It.isDeleted=!0)})).apply(this,arguments)}function pr(It,ct,Bt){var Xt;let Yn=null!==(Xt=Ue[It])&&void 0!==Xt?Xt:It;Bt&&(Yn+=`-${Bt}`);const In=Yn.match(/\s|\//),Ft=ct.match(/\s|\//);if(In||Ft){const ln=[`Unable to register library "${Yn}" with version "${ct}":`];return In&&ln.push(`library name "${Yn}" contains illegal characters (whitespace or "/")`),In&&Ft&&ln.push("and"),Ft&&ln.push(`version name "${ct}" contains illegal characters (whitespace or "/")`),void Nt.warn(ln.join(" "))}en(new P.wA(`${Yn}-version`,()=>({library:Yn,version:ct}),"VERSION"))}function Dr(It,ct){if(null!==It&&"function"!=typeof It)throw hr.create("invalid-log-argument");(0,k.Am)(It,ct)}function xr(It){(0,k.Ub)(It)}const Fe="firebase-heartbeat-store";let _e=null;function se(){return _e||(_e=function et(It,ct,{blocked:Bt,upgrade:Xt,blocking:Yn,terminated:In}={}){const Ft=indexedDB.open(It,ct),ln=Ke(Ft);return Xt&&Ft.addEventListener("upgradeneeded",zn=>{Xt(Ke(Ft.result),zn.oldVersion,zn.newVersion,Ke(Ft.transaction),zn)}),Bt&&Ft.addEventListener("blocked",zn=>Bt(zn.oldVersion,zn.newVersion,zn)),ln.then(zn=>{In&&zn.addEventListener("close",()=>In()),Yn&&zn.addEventListener("versionchange",gr=>Yn(gr.oldVersion,gr.newVersion,gr))}).catch(()=>{}),ln}("firebase-heartbeat-database",1,{upgrade:(It,ct)=>{0===ct&&It.createObjectStore(Fe)}}).catch(It=>{throw hr.create("idb-open",{originalErrorMessage:It.message})})),_e}function Q(){return(Q=(0,u.Z)(function*(It){try{return yield(yield se()).transaction(Fe).objectStore(Fe).get(sn(It))}catch(ct){if(ct instanceof Ie.ZR)Nt.warn(ct.message);else{const Bt=hr.create("idb-get",{originalErrorMessage:null==ct?void 0:ct.message});Nt.warn(Bt.message)}}})).apply(this,arguments)}function tt(It,ct){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,u.Z)(function*(It,ct){try{const Xt=(yield se()).transaction(Fe,"readwrite");yield Xt.objectStore(Fe).put(ct,sn(It)),yield Xt.done}catch(Bt){if(Bt instanceof Ie.ZR)Nt.warn(Bt.message);else{const Xt=hr.create("idb-set",{originalErrorMessage:null==Bt?void 0:Bt.message});Nt.warn(Xt.message)}}})).apply(this,arguments)}function sn(It){return`${It.name}!${It.options.appId}`}class dn{constructor(ct){this.container=ct,this._heartbeatsCache=null;const Bt=this.container.getProvider("app").getImmediate();this._storage=new kn(Bt),this._heartbeatsCachePromise=this._storage.read().then(Xt=>(this._heartbeatsCache=Xt,Xt))}triggerHeartbeat(){var ct=this;return(0,u.Z)(function*(){const Xt=ct.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Yn=on();if(null===ct._heartbeatsCache&&(ct._heartbeatsCache=yield ct._heartbeatsCachePromise),ct._heartbeatsCache.lastSentHeartbeatDate!==Yn&&!ct._heartbeatsCache.heartbeats.some(In=>In.date===Yn))return ct._heartbeatsCache.heartbeats.push({date:Yn,agent:Xt}),ct._heartbeatsCache.heartbeats=ct._heartbeatsCache.heartbeats.filter(In=>{const Ft=new Date(In.date).valueOf();return Date.now()-Ft<=2592e6}),ct._storage.overwrite(ct._heartbeatsCache)})()}getHeartbeatsHeader(){var ct=this;return(0,u.Z)(function*(){if(null===ct._heartbeatsCache&&(yield ct._heartbeatsCachePromise),null===ct._heartbeatsCache||0===ct._heartbeatsCache.heartbeats.length)return"";const Bt=on(),{heartbeatsToSend:Xt,unsentEntries:Yn}=function tr(It,ct=1024){const Bt=[];let Xt=It.slice();for(const Yn of It){const In=Bt.find(Ft=>Ft.agent===Yn.agent);if(In){if(In.dates.push(Yn.date),Gr(Bt)>ct){In.dates.pop();break}}else if(Bt.push({agent:Yn.agent,dates:[Yn.date]}),Gr(Bt)>ct){Bt.pop();break}Xt=Xt.slice(1)}return{heartbeatsToSend:Bt,unsentEntries:Xt}}(ct._heartbeatsCache.heartbeats),In=(0,Ie.L)(JSON.stringify({version:2,heartbeats:Xt}));return ct._heartbeatsCache.lastSentHeartbeatDate=Bt,Yn.length>0?(ct._heartbeatsCache.heartbeats=Yn,yield ct._storage.overwrite(ct._heartbeatsCache)):(ct._heartbeatsCache.heartbeats=[],ct._storage.overwrite(ct._heartbeatsCache)),In})()}}function on(){return(new Date).toISOString().substring(0,10)}class kn{constructor(ct){this.app=ct,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,Ie.hl)()&&(0,Ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ct=this;return(0,u.Z)(function*(){return(yield ct._canUseIndexedDBPromise)&&(yield function fe(It){return Q.apply(this,arguments)}(ct.app))||{heartbeats:[]}})()}overwrite(ct){var Bt=this;return(0,u.Z)(function*(){var Xt;if(yield Bt._canUseIndexedDBPromise){const In=yield Bt.read();return tt(Bt.app,{lastSentHeartbeatDate:null!==(Xt=ct.lastSentHeartbeatDate)&&void 0!==Xt?Xt:In.lastSentHeartbeatDate,heartbeats:ct.heartbeats})}})()}add(ct){var Bt=this;return(0,u.Z)(function*(){var Xt;if(yield Bt._canUseIndexedDBPromise){const In=yield Bt.read();return tt(Bt.app,{lastSentHeartbeatDate:null!==(Xt=ct.lastSentHeartbeatDate)&&void 0!==Xt?Xt:In.lastSentHeartbeatDate,heartbeats:[...In.heartbeats,...ct.heartbeats]})}})()}}function Gr(It){return(0,Ie.L)(JSON.stringify({version:2,heartbeats:It})).length}!function Rr(It){en(new P.wA("platform-logger",ct=>new he(ct),"PRIVATE")),en(new P.wA("heartbeat",ct=>new dn(ct),"PRIVATE")),pr(Ce,"0.9.13",It),pr(Ce,"0.9.13","esm2017"),pr("fire-js","")}("")},34859:(Kt,Je,O)=>{"use strict";O.d(Je,{wA:()=>k,H0:()=>ye});var u=O(15861),P=O(42090);class k{constructor(Y,X,me){this.name=Y,this.instanceFactory=X,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const Ie="[DEFAULT]";class Ee{constructor(Y,X){this.name=Y,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const X=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(X)){const me=new P.BH;if(this.instancesDeferred.set(X,me),this.isInitialized(X)||this.shouldAutoInitialize())try{const ce=this.getOrInitializeService({instanceIdentifier:X});ce&&me.resolve(ce)}catch(ce){}}return this.instancesDeferred.get(X).promise}getImmediate(Y){var X;const me=this.normalizeInstanceIdentifier(null==Y?void 0:Y.identifier),ce=null!==(X=null==Y?void 0:Y.optional)&&void 0!==X&&X;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(ke){if(ce)return null;throw ke}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function de(le){return"EAGER"===le.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch(X){}for(const[X,me]of this.instancesDeferred.entries()){const ce=this.normalizeInstanceIdentifier(X);try{const ke=this.getOrInitializeService({instanceIdentifier:ce});me.resolve(ke)}catch(ke){}}}}clearInstance(Y=Ie){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,u.Z)(function*(){const X=Array.from(Y.instances.values());yield Promise.all([...X.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...X.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=Ie){return this.instances.has(Y)}getOptions(Y=Ie){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:X={}}=Y,me=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ce=this.getOrInitializeService({instanceIdentifier:me,options:X});for(const[ke,we]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(ke)&&we.resolve(ce);return ce}onInit(Y,X){var me;const ce=this.normalizeInstanceIdentifier(X),ke=null!==(me=this.onInitCallbacks.get(ce))&&void 0!==me?me:new Set;ke.add(Y),this.onInitCallbacks.set(ce,ke);const we=this.instances.get(ce);return we&&Y(we,ce),()=>{ke.delete(Y)}}invokeOnInitCallbacks(Y,X){const me=this.onInitCallbacks.get(X);if(me)for(const ce of me)try{ce(Y,X)}catch(ke){}}getOrInitializeService({instanceIdentifier:Y,options:X={}}){let me=this.instances.get(Y);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(le=Y,le===Ie?void 0:le),options:X}),this.instances.set(Y,me),this.instancesOptions.set(Y,X),this.invokeOnInitCallbacks(me,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,me)}catch(ce){}var le;return me||null}normalizeInstanceIdentifier(Y=Ie){return this.component?this.component.multipleInstances?Y:Ie:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const X=this.getProvider(Y.name);if(X.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);X.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const X=new Ee(Y,this);return this.providers.set(Y,X),X}getProviders(){return Array.from(this.providers.values())}}},41877:(Kt,Je,O)=>{"use strict";O.d(Je,{in:()=>P,Yd:()=>de,Ub:()=>ye,Am:()=>le});const u=[];var P=(()=>{return(Y=P||(P={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",P;var Y})();const k={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},Ie=P.INFO,Ee={[P.DEBUG]:"log",[P.VERBOSE]:"log",[P.INFO]:"info",[P.WARN]:"warn",[P.ERROR]:"error"},ie=(Y,X,...me)=>{if(X<Y.logLevel)return;const ce=(new Date).toISOString(),ke=Ee[X];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[ke](`[${ce}]  ${Y.name}:`,...me)};class de{constructor(X){this.name=X,this._logLevel=Ie,this._logHandler=ie,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in P))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?k[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,P.DEBUG,...X),this._logHandler(this,P.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,P.VERBOSE,...X),this._logHandler(this,P.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,P.INFO,...X),this._logHandler(this,P.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,P.WARN,...X),this._logHandler(this,P.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,P.ERROR,...X),this._logHandler(this,P.ERROR,...X)}}function ye(Y){u.forEach(X=>{X.setLogLevel(Y)})}function le(Y,X){for(const me of u){let ce=null;X&&X.level&&(ce=k[X.level]),me.userLogHandler=null===Y?null:(ke,we,...pe)=>{const Le=pe.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch(ut){return null}}).filter(Te=>Te).join(" ");we>=(null!=ce?ce:ke.logLevel)&&Y({level:P[we].toLowerCase(),message:Le,args:pe,type:ke.name})}}}},70259:(Kt,Je,O)=>{"use strict";O.d(Je,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=O(6881);(0,u.registerVersion)("firebase","9.23.0","app")},29260:(Kt,Je,O)=>{"use strict";O.d(Je,{Z:()=>u.Z});var u=O(63942);u.Z.registerVersion("firebase","9.23.0","app-compat")},89568:(Kt,Je,O)=>{"use strict";O.r(Je);var u=O(15861),P=O(63942),k=O(61389),Ie=O(42090),de=(O(6881),O(41877),O(34859));function ye(){return window}function X(){return(X=(0,u.Z)(function*(se,fe,Q){var tt;const{BuildInfo:Ct}=ye();(0,k.as)(fe.sessionId,"AuthEvent did not contain a session ID");const sn=yield Te(fe.sessionId),Un={};return(0,k.at)()?Un.ibi=Ct.packageName:(0,k.au)()?Un.apn=Ct.packageName:(0,k.av)(se,"operation-not-supported-in-this-environment"),Ct.displayName&&(Un.appDisplayName=Ct.displayName),Un.sessionId=sn,(0,k.aw)(se,Q,fe.type,void 0,null!==(tt=fe.eventId)&&void 0!==tt?tt:void 0,Un)})).apply(this,arguments)}function ce(){return(ce=(0,u.Z)(function*(se){const{BuildInfo:fe}=ye(),Q={};(0,k.at)()?Q.iosBundleId=fe.packageName:(0,k.au)()?Q.androidPackageName=fe.packageName:(0,k.av)(se,"operation-not-supported-in-this-environment"),yield(0,k.ax)(se,Q)})).apply(this,arguments)}function pe(){return(pe=(0,u.Z)(function*(se,fe,Q){const{cordova:tt}=ye();let Ct=()=>{};try{yield new Promise((sn,Un)=>{let Sn=null;function dn(){var kn;sn();const Gr=null===(kn=tt.plugins.browsertab)||void 0===kn?void 0:kn.close;"function"==typeof Gr&&Gr(),"function"==typeof(null==Q?void 0:Q.close)&&Q.close()}function on(){Sn||(Sn=window.setTimeout(()=>{Un((0,k.az)(se,"redirect-cancelled-by-user"))},2e3))}function tr(){"visible"===(null==document?void 0:document.visibilityState)&&on()}fe.addPassiveListener(dn),document.addEventListener("resume",on,!1),(0,k.au)()&&document.addEventListener("visibilitychange",tr,!1),Ct=()=>{fe.removePassiveListener(dn),document.removeEventListener("resume",on,!1),document.removeEventListener("visibilitychange",tr,!1),Sn&&window.clearTimeout(Sn)}})}finally{Ct()}})).apply(this,arguments)}function Te(se){return ut.apply(this,arguments)}function ut(){return(ut=(0,u.Z)(function*(se){const fe=te(se),Q=yield crypto.subtle.digest("SHA-256",fe);return Array.from(new Uint8Array(Q)).map(Ct=>Ct.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function te(se){if((0,k.as)(/[0-9a-zA-Z]+/.test(se),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(se);const fe=new ArrayBuffer(se.length),Q=new Uint8Array(fe);for(let tt=0;tt<se.length;tt++)Q[tt]=se.charCodeAt(tt);return Q}class Oe extends k.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(fe=>{this.resolveInialized=fe})}addPassiveListener(fe){this.passiveListeners.add(fe)}removePassiveListener(fe){this.passiveListeners.delete(fe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(fe){return this.resolveInialized(),this.passiveListeners.forEach(Q=>Q(fe)),super.onEvent(fe)}initialized(){var fe=this;return(0,u.Z)(function*(){yield fe.initPromise})()}}function lt(se){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,u.Z)(function*(se){const fe=yield he()._get(Ae(se));return fe&&(yield he()._remove(Ae(se))),fe})).apply(this,arguments)}function Se(){const se=[],fe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Q=0;Q<20;Q++){const tt=Math.floor(Math.random()*fe.length);se.push(fe.charAt(tt))}return se.join("")}function he(){return(0,k.aC)(k.b)}function Ae(se){return(0,k.aD)("authEvent",se.config.apiKey,se.name)}function Nt(se){if(!(null==se?void 0:se.includes("?")))return{};const[fe,...Q]=se.split("?");return(0,Ie.zd)(Q.join("?"))}function nt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.az)("no-auth-event")}}function jt(){var se;return(null===(se=null==self?void 0:self.location)||void 0===se?void 0:se.protocol)||null}function Zt(se=(0,Ie.z$)()){return!("file:"!==jt()&&"ionic:"!==jt()&&"capacitor:"!==jt()||!se.toLowerCase().match(/iphone|ipad|ipod|android/))}function or(){try{const se=self.localStorage,fe=k.aL();if(se)return se.setItem(fe,"1"),se.removeItem(fe),!function Mn(se=(0,Ie.z$)()){return function Rn(){return(0,Ie.w1)()&&11===(null==document?void 0:document.documentMode)}()||function hn(se=(0,Ie.z$)()){return/Edge\/\d+/.test(se)}(se)}()||(0,Ie.hl)()}catch(se){return Dn()&&(0,Ie.hl)()}return!1}function Dn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fr(){return(function kt(){return"http:"===jt()||"https:"===jt()}()||(0,Ie.ru)()||Zt())&&!function Tn(){return(0,Ie.b$)()||(0,Ie.UG)()}()&&or()&&!Dn()}function Mt(){return Zt()&&"undefined"!=typeof document}function Er(){return(Er=(0,u.Z)(function*(){return!!Mt()&&new Promise(se=>{const fe=setTimeout(()=>{se(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(fe),se(!0)})})})).apply(this,arguments)}const rn={LOCAL:"local",NONE:"none",SESSION:"session"},ti=k.aA,On="persistence";function Ue(se){return je.apply(this,arguments)}function je(){return(je=(0,u.Z)(function*(se){yield se._initializationPromise;const fe=wt(),Q=k.aD(On,se.config.apiKey,se.name);fe&&fe.setItem(Q,se._getPersistence())})).apply(this,arguments)}function wt(){var se;try{return(null===(se=function br(){return"undefined"!=typeof window?window:null}())||void 0===se?void 0:se.sessionStorage)||null}catch(fe){return null}}const zt=k.aA;class en{constructor(){this.browserResolver=k.aC(k.k),this.cordovaResolver=k.aC(class dt{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aE,this._overrideRedirectResult=k.aF}_initialize(fe){var Q=this;return(0,u.Z)(function*(){const tt=fe._key();let Ct=Q.eventManagers.get(tt);return Ct||(Ct=new Oe(fe),Q.eventManagers.set(tt,Ct),Q.attachCallbackListeners(fe,Ct)),Ct})()}_openPopup(fe){(0,k.av)(fe,"operation-not-supported-in-this-environment")}_openRedirect(fe,Q,tt,Ct){var sn=this;return(0,u.Z)(function*(){!function Le(se){var fe,Q,tt,Ct,sn,Un,Sn,dn,on,tr;const kn=ye();(0,k.aA)("function"==typeof(null===(fe=null==kn?void 0:kn.universalLinks)||void 0===fe?void 0:fe.subscribe),se,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aA)(void 0!==(null===(Q=null==kn?void 0:kn.BuildInfo)||void 0===Q?void 0:Q.packageName),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aA)("function"==typeof(null===(sn=null===(Ct=null===(tt=null==kn?void 0:kn.cordova)||void 0===tt?void 0:tt.plugins)||void 0===Ct?void 0:Ct.browsertab)||void 0===sn?void 0:sn.openUrl),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aA)("function"==typeof(null===(dn=null===(Sn=null===(Un=null==kn?void 0:kn.cordova)||void 0===Un?void 0:Un.plugins)||void 0===Sn?void 0:Sn.browsertab)||void 0===dn?void 0:dn.isAvailable),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aA)("function"==typeof(null===(tr=null===(on=null==kn?void 0:kn.cordova)||void 0===on?void 0:on.InAppBrowser)||void 0===tr?void 0:tr.open),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(fe);const Un=yield sn._initialize(fe);yield Un.initialized(),Un.resetRedirect(),(0,k.aG)(),yield sn._originValidation(fe);const Sn=function et(se,fe,Q=null){return{type:fe,eventId:Q,urlResponse:null,sessionId:Se(),postBody:null,tenantId:se.tenantId,error:(0,k.az)(se,"no-auth-event")}}(fe,tt,Ct);yield function st(se,fe){return he()._set(Ae(se),fe)}(fe,Sn);const dn=yield function Y(se,fe,Q){return X.apply(this,arguments)}(fe,Sn,Q),on=yield function ke(se){const{cordova:fe}=ye();return new Promise(Q=>{fe.plugins.browsertab.isAvailable(tt=>{let Ct=null;tt?fe.plugins.browsertab.openUrl(se):Ct=fe.InAppBrowser.open(se,(0,k.ay)()?"_blank":"_system","location=yes"),Q(Ct)})})}(dn);return function we(se,fe,Q){return pe.apply(this,arguments)}(fe,Un,on)})()}_isIframeWebStorageSupported(fe,Q){throw new Error("Method not implemented.")}_originValidation(fe){const Q=fe._key();return this.originValidationPromises[Q]||(this.originValidationPromises[Q]=function me(se){return ce.apply(this,arguments)}(fe)),this.originValidationPromises[Q]}attachCallbackListeners(fe,Q){const{universalLinks:tt,handleOpenURL:Ct,BuildInfo:sn}=ye(),Un=setTimeout((0,u.Z)(function*(){yield lt(fe),Q.onEvent(nt())}),500),Sn=function(){var tr=(0,u.Z)(function*(kn){clearTimeout(Un);const Gr=yield lt(fe);let Rr=null;Gr&&(null==kn?void 0:kn.url)&&(Rr=function ae(se,fe){var Q,tt;const Ct=function $e(se){const fe=Nt(se),Q=fe.link?decodeURIComponent(fe.link):void 0,tt=Nt(Q).link,Ct=fe.deep_link_id?decodeURIComponent(fe.deep_link_id):void 0;return Nt(Ct).link||Ct||tt||Q||se}(fe);if(Ct.includes("/__/auth/callback")){const sn=Nt(Ct),Un=sn.firebaseError?function Ce(se){try{return JSON.parse(se)}catch(fe){return null}}(decodeURIComponent(sn.firebaseError)):null,Sn=null===(tt=null===(Q=null==Un?void 0:Un.code)||void 0===Q?void 0:Q.split("auth/"))||void 0===tt?void 0:tt[1],dn=Sn?(0,k.az)(Sn):null;return dn?{type:se.type,eventId:se.eventId,tenantId:se.tenantId,error:dn,urlResponse:null,sessionId:null,postBody:null}:{type:se.type,eventId:se.eventId,tenantId:se.tenantId,sessionId:se.sessionId,urlResponse:Ct,postBody:null}}return null}(Gr,kn.url)),Q.onEvent(Rr||nt())});return function(Gr){return tr.apply(this,arguments)}}();void 0!==tt&&"function"==typeof tt.subscribe&&tt.subscribe(null,Sn);const dn=Ct,on=`${sn.packageName.toLowerCase()}://`;ye().handleOpenURL=function(){var tr=(0,u.Z)(function*(kn){if(kn.toLowerCase().startsWith(on)&&Sn({url:kn}),"function"==typeof dn)try{dn(kn)}catch(Gr){console.error(Gr)}});return function(kn){return tr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aE,this._overrideRedirectResult=k.aF}_initialize(fe){var Q=this;return(0,u.Z)(function*(){return yield Q.selectUnderlyingResolver(),Q.assertedUnderlyingResolver._initialize(fe)})()}_openPopup(fe,Q,tt,Ct){var sn=this;return(0,u.Z)(function*(){return yield sn.selectUnderlyingResolver(),sn.assertedUnderlyingResolver._openPopup(fe,Q,tt,Ct)})()}_openRedirect(fe,Q,tt,Ct){var sn=this;return(0,u.Z)(function*(){return yield sn.selectUnderlyingResolver(),sn.assertedUnderlyingResolver._openRedirect(fe,Q,tt,Ct)})()}_isIframeWebStorageSupported(fe,Q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(fe,Q)}_originValidation(fe){return this.assertedUnderlyingResolver._originValidation(fe)}get _shouldInitProactively(){return Mt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return zt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var fe=this;return(0,u.Z)(function*(){if(fe.underlyingResolver)return;const Q=yield function Qn(){return Er.apply(this,arguments)}();fe.underlyingResolver=Q?fe.cordovaResolver:fe.browserResolver})()}}function wn(se){return se.unwrap()}function Hn(se){return hr(se)}function hr(se){const{_tokenResponse:fe}=se instanceof Ie.ZR?se.customData:se;if(!fe)return null;if(!(se instanceof Ie.ZR)&&"temporaryProof"in fe&&"phoneNumber"in fe)return k.P.credentialFromResult(se);const Q=fe.providerId;if(!Q||Q===k.p.PASSWORD)return null;let tt;switch(Q){case k.p.GOOGLE:tt=k.V;break;case k.p.FACEBOOK:tt=k.U;break;case k.p.GITHUB:tt=k.W;break;case k.p.TWITTER:tt=k.Z;break;default:const{oauthIdToken:Ct,oauthAccessToken:sn,oauthTokenSecret:Un,pendingToken:Sn,nonce:dn}=fe;return sn||Un||Ct||Sn?Sn?Q.startsWith("saml.")?k.aO._create(Q,Sn):k.L._fromParams({providerId:Q,signInMethod:Q,pendingToken:Sn,idToken:Ct,accessToken:sn}):new k.X(Q).credential({idToken:Ct,accessToken:sn,rawNonce:dn}):null}return se instanceof Ie.ZR?tt.credentialFromError(se):tt.credentialFromResult(se)}function cn(se,fe){return fe.catch(Q=>{throw Q instanceof Ie.ZR&&function Vr(se,fe){var Q;const tt=null===(Q=fe.customData)||void 0===Q?void 0:Q._tokenResponse;if("auth/multi-factor-auth-required"===(null==fe?void 0:fe.code))fe.resolver=new Bn(se,k.aq(se,fe));else if(tt){const Ct=hr(fe),sn=fe;Ct&&(sn.credential=Ct,sn.tenantId=tt.tenantId||void 0,sn.email=tt.email||void 0,sn.phoneNumber=tt.phoneNumber||void 0)}}(se,Q),Q}).then(Q=>{const Ct=Q.user;return{operationType:Q.operationType,credential:Hn(Q),additionalUserInfo:k.ao(Q),user:Pn.getOrCreate(Ct)}})}function fn(se,fe){return wr.apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(se,fe){const Q=yield fe;return{verificationId:Q.verificationId,confirm:tt=>cn(se,Q.confirm(tt))}})).apply(this,arguments)}class Bn{constructor(fe,Q){this.resolver=Q,this.auth=function qn(se){return se.wrapped()}(fe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(fe){return cn(wn(this.auth),this.resolver.resolveSignIn(fe))}}class Pn{constructor(fe){this._delegate=fe,this.multiFactor=k.ar(fe)}static getOrCreate(fe){return Pn.USER_MAP.has(fe)||Pn.USER_MAP.set(fe,new Pn(fe)),Pn.USER_MAP.get(fe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(fe){return this._delegate.getIdTokenResult(fe)}getIdToken(fe){return this._delegate.getIdToken(fe)}linkAndRetrieveDataWithCredential(fe){return this.linkWithCredential(fe)}linkWithCredential(fe){var Q=this;return(0,u.Z)(function*(){return cn(Q.auth,k.a0(Q._delegate,fe))})()}linkWithPhoneNumber(fe,Q){var tt=this;return(0,u.Z)(function*(){return fn(tt.auth,k.l(tt._delegate,fe,Q))})()}linkWithPopup(fe){var Q=this;return(0,u.Z)(function*(){return cn(Q.auth,k.d(Q._delegate,fe,en))})()}linkWithRedirect(fe){var Q=this;return(0,u.Z)(function*(){return yield Ue(k.aH(Q.auth)),k.g(Q._delegate,fe,en)})()}reauthenticateAndRetrieveDataWithCredential(fe){return this.reauthenticateWithCredential(fe)}reauthenticateWithCredential(fe){var Q=this;return(0,u.Z)(function*(){return cn(Q.auth,k.a1(Q._delegate,fe))})()}reauthenticateWithPhoneNumber(fe,Q){return fn(this.auth,k.r(this._delegate,fe,Q))}reauthenticateWithPopup(fe){return cn(this.auth,k.e(this._delegate,fe,en))}reauthenticateWithRedirect(fe){var Q=this;return(0,u.Z)(function*(){return yield Ue(k.aH(Q.auth)),k.h(Q._delegate,fe,en)})()}sendEmailVerification(fe){return k.ae(this._delegate,fe)}unlink(fe){var Q=this;return(0,u.Z)(function*(){return yield k.an(Q._delegate,fe),Q})()}updateEmail(fe){return k.aj(this._delegate,fe)}updatePassword(fe){return k.ak(this._delegate,fe)}updatePhoneNumber(fe){return k.u(this._delegate,fe)}updateProfile(fe){return k.ai(this._delegate,fe)}verifyBeforeUpdateEmail(fe,Q){return k.af(this._delegate,fe,Q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Pn.USER_MAP=new WeakMap;const Kn=k.aA;let fr=(()=>{class se{constructor(Q,tt){if(this.app=Q,tt.isInitialized())return this._delegate=tt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ct}=Q.options;Kn(Ct,"invalid-api-key",{appName:Q.name}),Kn(Ct,"invalid-api-key",{appName:Q.name});const sn="undefined"!=typeof window?en:void 0;this._delegate=tt.initialize({options:{persistence:Dr(Ct,Q.name),popupRedirectResolver:sn}}),this._delegate._updateErrorMap(k.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Pn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Q){this._delegate.languageCode=Q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Q){this._delegate.tenantId=Q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Q,tt){k.I(this._delegate,Q,tt)}applyActionCode(Q){return k.a5(this._delegate,Q)}checkActionCode(Q){return k.a6(this._delegate,Q)}confirmPasswordReset(Q,tt){return k.a4(this._delegate,Q,tt)}createUserWithEmailAndPassword(Q,tt){var Ct=this;return(0,u.Z)(function*(){return cn(Ct._delegate,k.a8(Ct._delegate,Q,tt))})()}fetchProvidersForEmail(Q){return this.fetchSignInMethodsForEmail(Q)}fetchSignInMethodsForEmail(Q){return k.ad(this._delegate,Q)}isSignInWithEmailLink(Q){return k.ab(this._delegate,Q)}getRedirectResult(){var Q=this;return(0,u.Z)(function*(){Kn(Fr(),Q._delegate,"operation-not-supported-in-this-environment");const tt=yield k.j(Q._delegate,en);return tt?cn(Q._delegate,Promise.resolve(tt)):{credential:null,user:null}})()}addFrameworkForLogging(Q){!function vt(se,fe){(0,k.aH)(se)._logFramework(fe)}(this._delegate,Q)}onAuthStateChanged(Q,tt,Ct){const{next:sn,error:Un,complete:Sn}=pr(Q,tt,Ct);return this._delegate.onAuthStateChanged(sn,Un,Sn)}onIdTokenChanged(Q,tt,Ct){const{next:sn,error:Un,complete:Sn}=pr(Q,tt,Ct);return this._delegate.onIdTokenChanged(sn,Un,Sn)}sendSignInLinkToEmail(Q,tt){return k.aa(this._delegate,Q,tt)}sendPasswordResetEmail(Q,tt){return k.a3(this._delegate,Q,tt||void 0)}setPersistence(Q){var tt=this;return(0,u.Z)(function*(){let Ct;switch(function St(se,fe){ti(Object.values(rn).includes(fe),se,"invalid-persistence-type"),(0,Ie.b$)()?ti(fe!==rn.SESSION,se,"unsupported-persistence-type"):(0,Ie.UG)()?ti(fe===rn.NONE,se,"unsupported-persistence-type"):Dn()?ti(fe===rn.NONE||fe===rn.LOCAL&&(0,Ie.hl)(),se,"unsupported-persistence-type"):ti(fe===rn.NONE||or(),se,"unsupported-persistence-type")}(tt._delegate,Q),Q){case rn.SESSION:Ct=k.a;break;case rn.LOCAL:Ct=(yield k.aC(k.i)._isAvailable())?k.i:k.b;break;case rn.NONE:Ct=k.N;break;default:return k.av("argument-error",{appName:tt._delegate.name})}return tt._delegate.setPersistence(Ct)})()}signInAndRetrieveDataWithCredential(Q){return this.signInWithCredential(Q)}signInAnonymously(){return cn(this._delegate,k._(this._delegate))}signInWithCredential(Q){return cn(this._delegate,k.$(this._delegate,Q))}signInWithCustomToken(Q){return cn(this._delegate,k.a2(this._delegate,Q))}signInWithEmailAndPassword(Q,tt){return cn(this._delegate,k.a9(this._delegate,Q,tt))}signInWithEmailLink(Q,tt){return cn(this._delegate,k.ac(this._delegate,Q,tt))}signInWithPhoneNumber(Q,tt){return fn(this._delegate,k.s(this._delegate,Q,tt))}signInWithPopup(Q){var tt=this;return(0,u.Z)(function*(){return Kn(Fr(),tt._delegate,"operation-not-supported-in-this-environment"),cn(tt._delegate,k.c(tt._delegate,Q,en))})()}signInWithRedirect(Q){var tt=this;return(0,u.Z)(function*(){return Kn(Fr(),tt._delegate,"operation-not-supported-in-this-environment"),yield Ue(tt._delegate),k.f(tt._delegate,Q,en)})()}updateCurrentUser(Q){return this._delegate.updateCurrentUser(Q)}verifyPasswordResetCode(Q){return k.a7(this._delegate,Q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return se.Persistence=rn,se})();function pr(se,fe,Q){let tt=se;"function"!=typeof se&&({next:tt,error:fe,complete:Q}=se);const Ct=tt;return{next:Un=>Ct(Un&&Pn.getOrCreate(Un)),error:fe,complete:Q}}function Dr(se,fe){const Q=function Dt(se,fe){const Q=wt();if(!Q)return[];const tt=k.aD(On,se,fe);switch(Q.getItem(tt)){case rn.NONE:return[k.N];case rn.LOCAL:return[k.i,k.a];case rn.SESSION:return[k.a];default:return[]}}(se,fe);if("undefined"!=typeof self&&!Q.includes(k.i)&&Q.push(k.i),"undefined"!=typeof window)for(const tt of[k.b,k.a])Q.includes(tt)||Q.push(tt);return Q.includes(k.N)||Q.push(k.N),Q}class xr{constructor(){this.providerId="phone",this._delegate=new k.P(wn(P.Z.auth()))}static credential(fe,Q){return k.P.credential(fe,Q)}verifyPhoneNumber(fe,Q){return this._delegate.verifyPhoneNumber(fe,Q)}unwrap(){return this._delegate}}xr.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,xr.PROVIDER_ID=k.P.PROVIDER_ID;const ar=k.aA;class Mr{constructor(fe,Q,tt=P.Z.app()){var Ct;ar(null===(Ct=tt.options)||void 0===Ct?void 0:Ct.apiKey,"invalid-api-key",{appName:tt.name}),this._delegate=new k.R(fe,Q,tt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function _e(se){se.INTERNAL.registerComponent(new de.wA("auth-compat",fe=>{const Q=fe.getProvider("app-compat").getImmediate(),tt=fe.getProvider("auth");return new fr(Q,tt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.Q,FacebookAuthProvider:k.U,GithubAuthProvider:k.W,GoogleAuthProvider:k.V,OAuthProvider:k.X,SAMLAuthProvider:k.Y,PhoneAuthProvider:xr,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:Mr,TwitterAuthProvider:k.Z,Auth:fr,AuthCredential:k.J,Error:Ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),se.registerVersion("@firebase/auth-compat","0.4.2")}(P.Z)},15861:(Kt,Je,O)=>{"use strict";function u(k,Ie,Ee,ie,de,ye,le){try{var Y=k[ye](le),X=Y.value}catch(me){return void Ee(me)}Y.done?Ie(X):Promise.resolve(X).then(ie,de)}function P(k){return function(){var Ie=this,Ee=arguments;return new Promise(function(ie,de){var ye=k.apply(Ie,Ee);function le(X){u(ye,ie,de,le,Y,"next",X)}function Y(X){u(ye,ie,de,le,Y,"throw",X)}le(void 0)})}}O.d(Je,{Z:()=>P})}},Kt=>{Kt(Kt.s=54595)}]);